{"id":0,"registry":{"0":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1},"id":"F49C7C64-4EBB-4A68-B85D-A0ABB3E1487D","eventHandler":{"__isSmartRef__":true,"id":2},"droppingEnabled":true,"halosEnabled":true,"showsHalos":false,"layout":{"__isSmartRef__":true,"id":3},"name":"Lead","partsBinMetaInfo":{"__isSmartRef__":true,"id":4},"derivationIds":[113,"07BC3F00-A1CC-4E18-8B69-527B6067A724","13233823-1113-464C-ADCF-071B43D6AEF6","2F1DBF66-E53D-4B13-9793-53EBDA946EEB"],"_ClipMode":"visible","__serializedExpressions__":["_Position","previousPosition","distanceToDragEvent"],"_Rotation":0,"_Scale":1,"isBeingDragged":false,"grabbingEnabled":false,"magnets":[{"__isSmartRef__":true,"id":9},{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":11},{"__isSmartRef__":true,"id":12},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":14},{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":16}],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":17},"__LivelyClassName__":"lively.morphic.Morph","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)","previousPosition":"lively.pt(191.5,784.7)","distanceToDragEvent":"lively.pt(38.0,-10.0)"},"1":{"_ClipMode":"visible","_BorderWidth":3.184,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":false,"_BorderStylingMode":false,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Ellipse","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(-15.5,-15.7)","_Extent":"lively.pt(31.0,31.5)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(204,204,204)"},"2":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"3":{},"4":{"partName":"Lead","requiredModules":[],"migrationLevel":8,"partsSpaceName":"PartsBin/Babelsberg","comment":"A pin for an electric component","changes":[{"__isSmartRef__":true,"id":5},{"__isSmartRef__":true,"id":6},{"__isSmartRef__":true,"id":7},{"__isSmartRef__":true,"id":8}],"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Tue Jul 23 2013 23:21:08 GMT-0700 (PDT)\")"},"5":{"author":"robertkrahn","message":"no comment","id":"EE799F0E-9E4A-4AF8-98F7-DAEF09F6A8DC","__serializedExpressions__":["date"],"date":"new Date(\"Fri Feb 15 2013 11:22:02 GMT-0800 (PST)\")"},"6":{"author":"undefined","message":"reverted changes - was there any description of this morph?","id":"C3C03411-9523-4F35-89EC-B20E24B3C287","__serializedExpressions__":["date"],"date":"new Date(\"Tue Apr 03 2012 00:08:08 GMT-0700 (PDT)\")"},"7":{"author":null,"message":"no comment","id":"8081E212-F627-4DBF-A925-E884B7F401F7","__serializedExpressions__":["date"],"date":"new Date(\"Fri Jul 12 2013 12:14:02 GMT-0700 (PDT)\")"},"8":{"__serializedExpressions__":["date"],"author":null,"message":"no comment","id":"5011462C-F3D3-4806-A629-C6A0FADEC868","date":"new Date(\"Fri Nov 15 2013 13:29:34 GMT-0800 (PST)\")"},"9":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(-0.5,-0.5)","cachedGlobalPosition":"lively.pt(176.0,769.0)"},"10":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(-0.0,-0.5)","cachedGlobalPosition":"lively.pt(191.5,769.0)"},"11":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,-0.5)","cachedGlobalPosition":"lively.pt(207.0,769.0)"},"12":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(207.0,784.7)"},"13":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.5)","cachedGlobalPosition":"lively.pt(207.0,800.5)"},"14":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(-0.0,0.5)","cachedGlobalPosition":"lively.pt(191.5,800.5)"},"15":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(-0.5,0.5)","cachedGlobalPosition":"lively.pt(176.0,800.5)"},"16":{"morph":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["position","cachedGlobalPosition"],"connectedControlPoints":[],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(-0.5,0.0)","cachedGlobalPosition":"lively.pt(176.0,784.7)"},"17":{"onMouseDown":{"__isSmartRef__":true,"id":18},"connectElectricLead":{"__isSmartRef__":true,"id":25}},"18":{"varMapping":{"__isSmartRef__":true,"id":19},"source":"function onMouseDown(evt) {\n    if (evt.isLeftMouseButtonDown()) {\n        evt.stop();\n        this.setFill(Color.green);\n        var self = this,\n            pos = this.getCenter(),\n            wire = lively.morphic.Morph.makeLine([pos, pos], 4, Color.green);\n        wire.openInWorld();\n        var tracker = lively.morphic.Morph.makeEllipse(rect(-5,-5,10,10));\n        tracker.openInHand();\n        tracker.wantsToBeDroppedInto = function(target) {\n            return !!target.connectElectricLead;\n        }\n        tracker.onDropOn = function(target) {\n            tracker.remove();\n            wire.remove();\n            self.setFill(Color.gray);\n            if (target.connectElectricLead)\n                target.connectElectricLead(self);\n        }\n        tracker.step = function() {\n            var pos = tracker.getPositionInWorld();\n            wire.getControlPoint(1).setGlobalPos(pos);\n        }\n        tracker.startStepping(50, \"step\");\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":24},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"19":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":20}},"20":{"$super":{"__isSmartRef__":true,"id":21}},"21":{"varMapping":{"__isSmartRef__":true,"id":22},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":23},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"22":{"obj":{"__isSmartRef__":true,"id":0},"name":"onMouseDown"},"23":{},"24":{"__serializedExpressions__":["timestamp"],"user":"undefined","tags":[],"timestamp":"new Date(\"Fri Nov 15 2013 13:13:19 GMT-0800 (PST)\")"},"25":{"varMapping":{"__isSmartRef__":true,"id":26},"source":"function connectElectricLead(lead) {\n    if (lead === this) return;\n    lead.setFill(Color.green);\n    this.setFill(Color.green);\n}","funcProperties":{"__isSmartRef__":true,"id":27},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"26":{"this":{"__isSmartRef__":true,"id":0}},"27":{"__serializedExpressions__":["timestamp"],"user":"undefined","tags":[],"timestamp":"new Date(\"Fri Nov 15 2013 13:08:10 GMT-0800 (PST)\")"},"isSimplifiedRegistry":true}}