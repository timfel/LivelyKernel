{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1},{"__isSmartRef__":true,"id":12},{"__isSmartRef__":true,"id":31},{"__isSmartRef__":true,"id":45}],"scripts":[],"id":"C53DE20A-8DED-440F-9924-5D9AC6836E85","shape":{"__isSmartRef__":true,"id":62},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"__serializedExpressions__":["_Position"],"showsHalos":false,"name":"TimeScale","partsBinMetaInfo":{"__isSmartRef__":true,"id":63},"eventHandler":{"__isSmartRef__":true,"id":73},"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","FE91EA31-D8AE-461B-8A49-95DA5FBAE5B4","F38439A3-2F4E-4AC2-BF73-2633C00B1393","6748F5B5-2284-4748-A6EE-F1A261CBAD0B","BBAFB862-93AE-4F89-BCFF-9F1C67B7FE4C","2FF07B0F-5C64-4DC1-8950-782A659844F3","15FF998D-B407-4F52-9D6A-46ADCEB0D2D5","ADA17035-F551-4C76-B421-9E5A493B952D","6F85DFD7-FB55-4FA8-928D-EE96F86C43B4","1B2B7BD1-2AC5-45CA-9CAC-330B37939C9F","9438A518-4E46-4DC3-AAD7-7868EB3D9F7A","CACCEC45-2396-45AF-A354-C0C9DCA9B9DA"],"partTests":{"__isSmartRef__":true,"id":74},"_ClipMode":"visible","moved":true,"isBeingDragged":false,"layout":{"__isSmartRef__":true,"id":79},"isInLayoutCycle":false,"isCopyMorphRef":true,"morphRefId":6,"xTickCount":13.59,"xMin":0,"xMax":50,"yMin":0,"yMax":100,"_StyleClassNames":["Morph","Box","module","active-render-part"],"prevScroll":[0,0],"startXDrag":594,"startYDrag":53,"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":80},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"1":{"submorphs":[],"scripts":[],"id":"C2CD7CD6-3091-4955-8994-C83EE21BD7D6","shape":{"__isSmartRef__":true,"id":2},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"_MaxTextWidth":92,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":8,"name":"ModuleLabel","partsBinMetaInfo":{"__isSmartRef__":true,"id":3},"textChunks":[{"__isSmartRef__":true,"id":9}],"charsReplaced":"Ordinal X","lastFindLoc":18,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":11},"_ClipMode":"visible","derivationIds":[355,"1EB1674F-8BF2-419B-B054-86129ED70335","63698904-DC05-4341-A9B6-5CC4A219CD04","F6A714BA-4735-41ED-8A2A-45CB153FBDF8","9F8E545F-BC17-41AD-B5E9-9430029001D2","BB023830-62D8-42C2-8232-E2109E20E6E7","EF8292B5-BD7D-477D-AB49-4A974FC71D8D","184DB660-EBA0-4EA9-A376-CF33B9F65A27","8943EAAC-31F2-4E1D-813B-7E7B019860BA","99B23559-4ED1-4010-B63A-3D070BCC1D46","F7CA89F8-5CDD-4526-8DE1-C8E09C0FE1B3"],"_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":92,"_MinTextHeight":null,"isBeingDragged":false,"moved":true,"owner":{"__isSmartRef__":true,"id":0},"eventsAreIgnored":true,"_Rotation":0,"_Scale":1,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(10.0,10.0)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(37.0,-8.0)"},"2":{"fill":null,"__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"_BorderWidth":0,"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(167.0,18.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)"},"3":{"partsSpaceName":"PartsBin/Basic","migrationLevel":4,"comment":"a simple text morph","partName":"Text","changes":[{"__isSmartRef__":true,"id":4},{"__isSmartRef__":true,"id":5},{"__isSmartRef__":true,"id":6},{"__isSmartRef__":true,"id":7},{"__isSmartRef__":true,"id":8}],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"4":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"text click was broken?","id":"9D065E14-9653-4B2A-9A2E-3AD84EBBC3E0","date":"new Date(\"Sat Apr 21 2012 07:30:30 GMT-0700 (PDT)\")"},"5":{"__serializedExpressions__":["date"],"author":"undefined","message":"Set the inset as: this.setPadding(Rectangle.inset(4,2)).  This gives it a more pleasing appearance with a border, and also makes it easier to select near the bounds.","id":"BD5B0E4C-4830-4863-A013-35BB66D5AD6F","date":"new Date(\"Sun Feb 26 2012 21:20:38 GMT-0800 (PST)\")"},"6":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"0F4DE333-A551-4961-B29D-70270977EBEF","date":"new Date(\"Fri Apr 20 2012 22:31:43 GMT-0700 (PDT)\")"},"7":{"__serializedExpressions__":["date"],"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"785D95BD-7858-43EB-90E6-A1C085E2F2B9","date":"new Date(\"Fri Apr 20 2012 22:32:09 GMT-0700 (PDT)\")"},"8":{"__serializedExpressions__":["date"],"author":"timfelgentreff","message":"better text","id":"B904F9AC-6EA0-4A8A-83C9-AFC85AADC194","date":"new Date(\"Tue May 08 2012 05:18:18 GMT-0700 (PDT)\")"},"9":{"style":{"__isSmartRef__":true,"id":10},"morph":{"__isSmartRef__":true,"id":1},"chunkOwner":{"__isSmartRef__":true,"id":1},"storedString":"Time Scale","_id":"_1057","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"10":{"fontWeight":"bold","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"11":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"12":{"submorphs":[{"__isSmartRef__":true,"id":13}],"scripts":[],"id":"E689BF18-536C-4005-B0E1-5A2AEB2622D5","shape":{"__isSmartRef__":true,"id":18},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"registeredForMouseEvents":true,"__serializedExpressions__":["_Position","normalFill","lighterFill","distanceToDragEvent","previousExtent"],"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":13},"name":"CollapseButton","showsHalos":false,"partsBinMetaInfo":{"__isSmartRef__":true,"id":19},"attributeConnections":[{"__isSmartRef__":true,"id":25}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"eventHandler":{"__isSmartRef__":true,"id":26},"derivationIds":[7251,"3F26258D-0EE1-4A94-8419-5EE2BB6065A6","B624295D-42E3-4E0A-B370-844C2B43F4F0","F5D160C8-1C2F-47D9-9BE1-2FD26C53BFB3","7D4A1972-76E5-4369-9964-2F6ACB87C81F","227C5DFD-BCE1-48ED-9170-B567CC1F6DBF","AD668FA1-B4F0-4DA1-853D-4E69FC56DF04","B1ABE468-53F8-4B06-BE5E-A96170FD1BDB","3CD8B5AB-EC0F-4B0E-81E8-5D99DAFAB0DC"],"_ClipMode":"visible","isPressed":false,"owner":{"__isSmartRef__":true,"id":0},"collapsed":true,"_Rotation":0,"_Scale":1,"hiddenMorphs":[],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":27},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(251.0,9.0)","normalFill":"lively.morphic.Gradient.create({\n  stops: [{\n    color: Color.rgb(245,245,245),\n    offset: 0\n  },{\n    color: Color.rgb(209,209,209),\n    offset: 0.4\n  },{\n    color: Color.rgb(209,209,209),\n    offset: 0.6\n  },{\n    color: Color.rgb(240,240,240),\n    offset: 1\n  }],\n  type: \"linear\",\n  vector: lively.rect(0,0,0,1)\n})","lighterFill":"lively.morphic.Gradient.create({\n  stops: [{\n    color: Color.rgb(250,250,250),\n    offset: 0\n  },{\n    color: Color.rgb(232,232,232),\n    offset: 0.4\n  },{\n    color: Color.rgb(232,232,232),\n    offset: 0.6\n  },{\n    color: Color.rgb(248,248,248),\n    offset: 1\n  }],\n  type: \"linear\",\n  vector: lively.rect(0,0,0,1)\n})","distanceToDragEvent":"lively.pt(34.0,-11.0)","previousExtent":"lively.pt(285.0,99.0)"},"13":{"submorphs":[],"scripts":[],"id":"BB256819-04D9-4C5D-9AAF-ABF423598BC8","shape":{"__isSmartRef__":true,"id":14},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WhiteSpaceHandling":"pre-wrap","fixedHeight":true,"allowInput":false,"_FontFamily":"Helvetica","registeredForMouseEvents":true,"__serializedExpressions__":["_Position","padding","_Padding","_TextColor"],"_MaxTextWidth":24,"_MaxTextHeight":null,"textStyle":null,"owner":{"__isSmartRef__":true,"id":12},"isLabel":true,"eventsAreIgnored":true,"_ClipMode":"hidden","textChunks":[{"__isSmartRef__":true,"id":15}],"_Align":"center","eventHandler":{"__isSmartRef__":true,"id":17},"_HandStyle":"default","_PointerEvents":"none","derivationIds":[7252,"4881773E-A824-4992-B814-33C8D37580C6","EE955AA4-D648-4DFC-8E2D-08881D605170","7EC413DD-D34D-449D-B448-2F3904B04FA5","7939AA82-2A96-4559-9090-DD58B7C8868A","D9BBE617-5D6B-4EE7-927C-240943A1B9A6","50706F2A-45E1-4D8A-B451-319F1882216C","EF622B13-530C-445D-97F9-1E2DFBC00871","46927092-D184-4660-B592-92D86157DB30"],"_MinTextWidth":24,"_MinTextHeight":null,"_FontSize":10,"_WordBreak":"break-all","_InputAllowed":false,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(0.0,0.0)","padding":"lively.rect(5,5,0,0)","_Padding":"lively.rect(0,0,0,0)","_TextColor":"Color.rgb(0,0,0)"},"14":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"_BorderWidth":0,"_Fill":null,"_ClipMode":"hidden","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(24.0,22.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,3,0,0)"},"15":{"style":{"__isSmartRef__":true,"id":16},"chunkOwner":{"__isSmartRef__":true,"id":13},"_id":"_3910","storedString":"v","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"16":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"17":{"morph":{"__isSmartRef__":true,"id":13},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"18":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1.1840000000000002,"_BorderRadius":5.2,"_ClipMode":"visible","_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":true,"_BorderStylingMode":false,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(24.0,22.0)","_BorderColor":"Color.rgb(214,214,214)","_Fill":"lively.morphic.Gradient.create({\n  stops: [{\n    color: Color.rgb(245,245,245),\n    offset: 0\n  },{\n    color: Color.rgb(221,221,221),\n    offset: 0.3\n  },{\n    color: Color.rgb(221,221,221),\n    offset: 0.7\n  },{\n    color: Color.rgb(204,204,204),\n    offset: 1\n  }],\n  type: \"linear\",\n  vector: lively.rect(0,0,0,1)\n})","_Padding":"lively.rect(0,0,0,0)"},"19":{"partsSpaceName":"PartsBin/Inputs","migrationLevel":4,"partName":"Button","comment":"Has a script that is called on button press","changes":[{"__isSmartRef__":true,"id":20},{"__isSmartRef__":true,"id":21},{"__isSmartRef__":true,"id":22},{"__isSmartRef__":true,"id":23},{"__isSmartRef__":true,"id":24}],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"20":{"__serializedExpressions__":["date"],"author":"undefined","message":"","id":"7074B413-6CF0-4892-9D18-52009A2A2E03","date":"new Date(\"Fri Apr 13 2012 12:04:01 GMT-0700 (PDT)\")"},"21":{"__serializedExpressions__":["date"],"author":"sstamm","message":"reverted button","id":"9B7AA90A-42FC-4DE8-A4DE-51AB903A740E","date":"new Date(\"Mon Apr 16 2012 01:36:21 GMT-0700 (PDT)\")"},"22":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"no comment","id":"97D17254-EAC6-4494-8330-A347909590D6","date":"new Date(\"Sat Apr 21 2012 05:08:58 GMT-0700 (PDT)\")"},"23":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"no comment","id":"DDE22D44-9A6D-4485-80F3-262D5DA0CC07","date":"new Date(\"Tue Jun 05 2012 05:03:19 GMT-0700 (PDT)\")"},"24":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"FA43C1A3-19A9-4ED6-A014-82C74689A5C3","date":"new Date(\"Tue Jun 19 2012 14:39:23 GMT-0700 (PDT)\")"},"25":{"sourceObj":{"__isSmartRef__":true,"id":12},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":12},"targetMethodName":"doAction","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"26":{"morph":{"__isSmartRef__":true,"id":12},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"27":{"doAction":{"__isSmartRef__":true,"id":28}},"28":{"varMapping":{"__isSmartRef__":true,"id":29},"source":"function doAction() {\n    var heightAfterCollapsing = 40;\n    if (this.collapsed) {\n        this.hiddenMorphs.each(function(m){this.addMorph(m)}, this.owner);\n        delete this.hiddenMorphs;\n        this.owner.setExtent(this.previousExtent);\n        delete this.previousExtent;\n        this.setLabel('-');\n    } else {\n        this.hiddenMorphs = this.owner.submorphs.select(function(m) {\n            return (m.name != 'ModuleLabel' && m.name != 'CollapseButton' &&\nm.name.indexOf('Icon') < 0);\n        }, this);\n        this.hiddenMorphs.each(function(m){m.remove()});\n        this.previousExtent = this.owner.getExtent();\n        this.owner.setExtent(this.previousExtent.withY(heightAfterCollapsing));\n        this.setLabel('v');\n    }\n    this.collapsed = !this.collapsed;\n}","funcProperties":{"__isSmartRef__":true,"id":30},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"29":{"this":{"__isSmartRef__":true,"id":12}},"30":{"__serializedExpressions__":["timestamp"],"tags":[],"timestamp":"new Date(\"Fri Sep 28 2012 11:09:23 GMT-0700 (PDT)\")"},"31":{"shape":{"__isSmartRef__":true,"id":32},"submorphs":[],"scripts":[],"eventHandler":{"__isSmartRef__":true,"id":33},"_ClipMode":"visible","derivationIds":["63B04003-F8E2-4E58-9F50-5C8E204DBEBA","486BA37D-42C4-4BD2-B5F0-C7741999D93B","57B3FF3A-F3CD-488C-9BF7-A9B9B967093E","53A82E13-E6DC-42B9-B4DA-2DEA7BFB2819","0E7A6B17-5CB9-4F9C-8970-F4498D659CB3","AAF1BA91-A68B-4EED-B857-84AFDFD2F438","349BCC89-1E6B-47FE-9856-2C0EFA28441C"],"id":"F1AFEE85-D973-48AB-8198-33262E1686E8","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"isBeingDragged":false,"showsHalos":false,"name":"ScalesIcon","owner":{"__isSmartRef__":true,"id":0},"eventsAreDisabled":true,"_HandStyle":"default","_PointerEvents":"none","_StyleClassNames":["module-icon","active"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":34},"__LivelyClassName__":"lively.morphic.HtmlWrapperMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(199.0,11.0)"},"32":{"__serializedExpressions__":["_Position","_Extent","_Padding","_Fill","extent","_BorderColor"],"stringifiedShapeNode":"<div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; position: absolute; left: 0px; top: 0px; padding: 0px; width: 18px; height: 18px; border-width: 0px;\" class=\"Morph HtmlWrapperMorph module-icon active\" morphid=\"349BCC89-1E6B-47FE-9856-2C0EFA28441C\" data-lively-morphid=\"F1AFEE85-D973-48AB-8198-33262E1686E8\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 80 80\" height=\"18\" width=\"18\">   <g transform=\"matrix(1.0676489,0,0,1.0676489,-271.14011,-442.21804)\">     <path style=\"\" d=\"m 328.891,478.722 c 0,5.748 -4.659,10.407 -10.407,10.407 h -54.117 c -5.748,0 -10.407,-4.659 -10.407,-10.407 v -54.117 c 0,-5.748 4.66,-10.407 10.407,-10.407 h 54.117 c 5.748,0 10.407,4.66 10.407,10.407 v 54.117 z\" class=\"scales-icon-color\"></path>     <path style=\"fill:#ffffff\" d=\"m 297.765,429.229 c -1.358,0.142 -2.343,1.358 -2.201,2.716 0.142,1.357 1.361,2.341 2.716,2.201 l 7.857,-0.823 -33.052,33.052 0.823,-7.857 c 0.143,-1.357 -0.843,-2.574 -2.201,-2.716 -1.354,-0.143 -2.573,0.843 -2.715,2.201 l -1.882,17.977 17.907,-2.056 c 1.356,-0.156 2.329,-1.381 2.174,-2.738 -0.156,-1.356 -1.379,-2.329 -2.737,-2.174 l -7.923,0.91 33.154,-33.155 -0.91,7.923 c -0.156,1.356 0.818,2.582 2.173,2.738 0.096,0.011 0.191,0.016 0.285,0.016 1.239,0 2.308,-0.93 2.453,-2.19 l 2.056,-17.907 -17.977,1.882 z\"></path>   </g> </svg></div>","_BorderWidth":0,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":true,"_BorderStylingMode":true,"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(18.0,18.0)","_Padding":"lively.rect(0,0,0,0)","_Fill":"Color.rgb(200,200,200)","extent":"lively.pt(18.0,18.0)","_BorderColor":"Color.rgb(204,0,0)"},"33":{"morph":{"__isSmartRef__":true,"id":31},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"34":{"setExtent":{"__isSmartRef__":true,"id":35},"empty":{"__isSmartRef__":true,"id":42}},"35":{"varMapping":{"__isSmartRef__":true,"id":36},"source":"function setExtent(extent) {\n    $super(extent);\n    var svg = $(this.renderContext().shapeNode).children();\n    svg.attr('width', extent.x);\n    svg.attr('height', extent.y);\n}","funcProperties":{"__isSmartRef__":true,"id":41},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"36":{"this":{"__isSmartRef__":true,"id":31},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":37}},"37":{"$super":{"__isSmartRef__":true,"id":38}},"38":{"varMapping":{"__isSmartRef__":true,"id":39},"source":"function () {\r\n                    try {\r\n                        return obj.constructor.prototype[name].apply(obj, arguments)\r\n                    } catch (e) {\r\n                        if ($world)\r\n                            $world.logError(e, 'Error in $super call')\r\n                        else\r\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\r\n                        return null;\r\n                    }\r\n                }","funcProperties":{"__isSmartRef__":true,"id":40},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"39":{"obj":{"__isSmartRef__":true,"id":31},"name":"setExtent"},"40":{},"41":{"__serializedExpressions__":["timestamp"],"tags":[],"timestamp":"new Date(\"Fri Sep 28 2012 10:25:41 GMT-0700 (PDT)\")"},"42":{"varMapping":{"__isSmartRef__":true,"id":43},"source":"function empty() {\n    $(this.renderContext().shapeNode).empty()\n}","funcProperties":{"__isSmartRef__":true,"id":44},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"43":{"this":{"__isSmartRef__":true,"id":31}},"44":{"__serializedExpressions__":["timestamp"],"tags":[],"timestamp":"new Date(\"Fri Sep 28 2012 10:28:48 GMT-0700 (PDT)\")"},"45":{"shape":{"__isSmartRef__":true,"id":46},"submorphs":[],"scripts":[],"eventHandler":{"__isSmartRef__":true,"id":47},"_ClipMode":"visible","derivationIds":["63B04003-F8E2-4E58-9F50-5C8E204DBEBA","486BA37D-42C4-4BD2-B5F0-C7741999D93B","57B3FF3A-F3CD-488C-9BF7-A9B9B967093E","53A82E13-E6DC-42B9-B4DA-2DEA7BFB2819","9615EA8D-979A-4BA9-AF88-35ADC1021760","2A52A7CD-AF40-4B85-B625-2FA79820DE94","E392CA4E-0AB4-46CA-A96A-AEFA6AB8832B","AC6865FE-EC91-49E1-B074-20F83648CE67","1037F852-D6D6-43B4-935E-610C65C0CD18"],"id":"8A01F8B3-AF58-458E-A3E2-138481EC4006","droppingEnabled":true,"halosEnabled":true,"isBeingDragged":false,"showsHalos":false,"name":"EventsIcon1","_StyleSheet":"text.series-number {\n    fill: white;\n    font-family: Helvetica Arial;\n    font-weight:bold;\n    text-anchor:end;\n    font-size: 40px;\n}","_StyleClassNames":["Morph","HtmlWrapperMorph","module-icon","active"],"eventsAreDisabled":false,"_HandStyle":"default","_PointerEvents":"auto","__serializedExpressions__":["_Position","distanceToDragEvent"],"owner":{"__isSmartRef__":true,"id":0},"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":48},"__LivelyClassName__":"lively.morphic.HtmlWrapperMorph","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(224.0,11.0)","distanceToDragEvent":"lively.pt(35.0,-12.0)"},"46":{"stringifiedShapeNode":"<div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"overflow: visible; position: absolute; left: 0px; top: 0px; padding: 0px; width: 18px; height: 18px; border-width: 0px;\" class=\"Morph HtmlWrapperMorph module-icon active\" morphid=\"AC6865FE-EC91-49E1-B074-20F83648CE67\" data-lively-morphid=\"8A01F8B3-AF58-458E-A3E2-138481EC4006\"><svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 80 80\" height=\"18\" width=\"18\"> <g transform=\"matrix(1.0676489,0,0,1.0676489,-171.13985,-442.21804)\">     <path fill=\"purple\" d=\"M235.227,478.722c0,5.748-4.659,10.407-10.407,10.407h-54.117c-5.748,0-10.407-4.659-10.407-10.407v-54.117         c0-5.748,4.66-10.407,10.407-10.407h54.117c5.748,0,10.407,4.66,10.407,10.407V478.722z\"></path> </g> <g>     <g>         <path fill=\"#FFFFFF\" d=\"M40.575,34.784c-1.938,0-3.509-1.571-3.509-3.508V9.927c0-1.937,1.571-3.507,3.509-3.507             c1.937,0,3.506,1.57,3.506,3.507v21.349C44.081,33.213,42.512,34.784,40.575,34.784z\"></path>     </g>     <g>         <path fill=\"#FFFFFF\" d=\"M28.972,43.215c-0.359,0-0.724-0.055-1.084-0.173L7.583,36.444c-1.841-0.599-2.849-2.577-2.252-4.42 c0.599-1.841,2.577-2.85,4.42-2.251l20.304,6.598c1.842,0.598,2.851,2.577,2.251,4.419C31.826,42.271,30.452,43.215,28.972,43.215             z\"></path>     </g>     <g>         <path fill=\"#FFFFFF\" d=\"M20.851,74.126c-0.714,0-1.436-0.219-2.058-0.671c-1.567-1.138-1.914-3.333-0.777-4.898l12.55-17.272             c1.138-1.567,3.331-1.915,4.899-0.776c1.567,1.139,1.915,3.333,0.775,4.899L23.692,72.679             C23.006,73.623,21.936,74.126,20.851,74.126z\"></path>     </g>     <g>         <path fill=\"#FFFFFF\" d=\"M60.298,74.126c-1.086,0-2.155-0.503-2.842-1.447L44.907,55.407c-1.138-1.567-0.791-3.762,0.775-4.9             c1.568-1.139,3.763-0.79,4.899,0.777l12.55,17.272c1.138,1.565,0.791,3.761-0.774,4.897             C61.733,73.907,61.011,74.126,60.298,74.126z\"></path>     </g>     <g>         <path fill=\"#FFFFFF\" d=\"M52.177,43.215c-1.479,0-2.854-0.943-3.337-2.426c-0.597-1.841,0.411-3.821,2.253-4.419l20.306-6.597             c1.844-0.599,3.82,0.411,4.418,2.251c0.6,1.843-0.409,3.821-2.252,4.42L53.26,43.042C52.899,43.158,52.534,43.215,52.177,43.215z\"></path>     </g> </g> </svg></div>","_BorderWidth":0,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_Fill","extent","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.External","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(18.0,18.0)","_Padding":"lively.rect(0,0,0,0)","_Fill":"Color.rgb(200,200,200)","extent":"lively.pt(18.0,18.0)","_BorderColor":"Color.rgb(204,0,0)"},"47":{"morph":{"__isSmartRef__":true,"id":45},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"48":{"setExtent":{"__isSmartRef__":true,"id":49},"empty":{"__isSmartRef__":true,"id":56},"setText":{"__isSmartRef__":true,"id":59}},"49":{"varMapping":{"__isSmartRef__":true,"id":50},"source":"function setExtent(extent) {\n    $super(extent);\n    var svg = $(this.renderContext().shapeNode).children();\n    svg.attr('width', extent.x);\n    svg.attr('height', extent.y);\n}","funcProperties":{"__isSmartRef__":true,"id":55},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"50":{"this":{"__isSmartRef__":true,"id":45},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":51}},"51":{"$super":{"__isSmartRef__":true,"id":52}},"52":{"varMapping":{"__isSmartRef__":true,"id":53},"source":"function () {\r\n                    try {\r\n                        return obj.constructor.prototype[name].apply(obj, arguments)\r\n                    } catch (e) {\r\n                        if ($world)\r\n                            $world.logError(e, 'Error in $super call')\r\n                        else\r\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\r\n                        return null;\r\n                    }\r\n                }","funcProperties":{"__isSmartRef__":true,"id":54},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"53":{"obj":{"__isSmartRef__":true,"id":45},"name":"setExtent"},"54":{},"55":{"tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Fri Sep 28 2012 10:25:41 GMT-0700 (PDT)\")"},"56":{"varMapping":{"__isSmartRef__":true,"id":57},"source":"function empty() {\n    $(this.renderContext().shapeNode).empty()\n}","funcProperties":{"__isSmartRef__":true,"id":58},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"57":{"this":{"__isSmartRef__":true,"id":45}},"58":{"tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Fri Sep 28 2012 10:28:48 GMT-0700 (PDT)\")"},"59":{"varMapping":{"__isSmartRef__":true,"id":60},"source":"function setText(text) {\n    var shapeNode = $(this.renderContext().shapeNode),\n        textNode = shapeNode.find('text')[0];\n    if (textNode) {\n        textNode.textContent = text;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":61},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"60":{"this":{"__isSmartRef__":true,"id":45}},"61":{"tags":[],"__serializedExpressions__":["timestamp"],"timestamp":"new Date(\"Fri Sep 28 2012 10:40:46 GMT-0700 (PDT)\")"},"62":{"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":4.81,"_Opacity":1,"_BorderStyle":"solid","_AppearanceStylingMode":true,"_BorderStylingMode":true,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(285.0,40.0)","_BorderColor":"Color.rgb(153,153,153)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"63":{"partsSpaceName":"PartsBin/Charting/","comment":"x: time\ny: 0 - max","migrationLevel":7,"partName":"TimeScale","changes":[{"__isSmartRef__":true,"id":64},{"__isSmartRef__":true,"id":65},{"__isSmartRef__":true,"id":66},{"__isSmartRef__":true,"id":67},{"__isSmartRef__":true,"id":68},{"__isSmartRef__":true,"id":69},{"__isSmartRef__":true,"id":70},{"__isSmartRef__":true,"id":71},{"__isSmartRef__":true,"id":72}],"__serializedExpressions__":["lastModifiedDate"],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin","lastModifiedDate":"new Date(\"Wed Nov 14 2012 18:22:16 GMT-0800 (PST)\")"},"64":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"3F17A2D2-3C24-424B-B0FA-E43112267D23","date":"new Date(\"Thu May 03 2012 06:51:36 GMT-0700 (PDT)\")"},"65":{"__serializedExpressions__":["date"],"author":"undefined","message":"whoopsie","id":"CEA5DCD5-2DB7-40AD-A776-262A7A0666FC","date":"new Date(\"Thu May 03 2012 06:51:30 GMT-0700 (PDT)\")"},"66":{"__serializedExpressions__":["date"],"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2","date":"new Date(\"Wed Mar 14 2012 02:53:45 GMT-0700 (PDT)\")"},"67":{"__serializedExpressions__":["date"],"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B","date":"new Date(\"Fri Feb 24 2012 17:59:09 GMT-0800 (PST)\")"},"68":{"__serializedExpressions__":["date"],"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7","date":"new Date(\"Wed Mar 14 2012 02:42:26 GMT-0700 (PDT)\")"},"69":{"__serializedExpressions__":["date"],"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350","date":"new Date(\"Mon Apr 09 2012 04:42:07 GMT-0700 (PDT)\")"},"70":{"__serializedExpressions__":["date"],"author":"bgnauk","message":"no comment","id":"0124E570-50B7-4CE3-83A1-6E7BA89B5CD8","date":"new Date(\"Mon Jun 18 2012 10:35:08 GMT-0700 (PDT)\")"},"71":{"__serializedExpressions__":["date"],"author":null,"message":"no comment","id":"F30E22C9-49F0-4019-B6F3-74103D2E82E4","date":"new Date(\"Wed Oct 10 2012 14:03:35 GMT-0700 (PDT)\")"},"72":{"__serializedExpressions__":["date"],"author":"robertkrahn","message":"no comment","id":"B4E0390A-49FF-4F3E-A5D1-BF3307706C21","date":"new Date(\"Mon Jun 17 2013 05:53:54 GMT-0700 (PDT)\")"},"73":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"74":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":75}},"75":{"test01IsMorph":{"__isSmartRef__":true,"id":76}},"76":{"varMapping":{"__isSmartRef__":true,"id":77},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":78},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"77":{"this":{"__isSmartRef__":true,"id":74}},"78":{},"79":{"__serializedExpressions__":["extentWithoutPlaceholder"],"extentWithoutPlaceholder":"lively.pt(285.0,213.0)"},"80":{"setupScales":{"__isSmartRef__":true,"id":81},"onChartDrag":{"__isSmartRef__":true,"id":84},"onChartDragStart":{"__isSmartRef__":true,"id":87},"onChartMouseWheel":{"__isSmartRef__":true,"id":90}},"81":{"varMapping":{"__isSmartRef__":true,"id":82},"source":"function setupScales(data, areas) {\n    var series = data.getSeries(),\n        xyValues = series.reduce(function(all, series){\n            all.xs = all.xs.concat(series.values.pluck('x'));\n            all.ys = all.ys.concat(series.values.pluck('y'));\n            return all;\n        }, {xs: [], ys: []})\n    var xScales = areas.collect(function(area){\n        var w = area.width;\n        return d3.time.scale().range([0, w]).domain(d3.extent(xyValues.xs));\n    }, this);\n    // -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n    var yScales = areas.collect(function(area) {\n        var h = area.height;\n        return d3.scale.linear().range([h, 0]).domain([0, d3.max(xyValues.ys)]);\n    }, this);\n    return {x: xScales, y: yScales};\n}","funcProperties":{"__isSmartRef__":true,"id":83},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"82":{"this":{"__isSmartRef__":true,"id":0}},"83":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","tags":[],"timestamp":"new Date(\"Mon Jun 17 2013 05:51:41 GMT-0700 (PDT)\")"},"84":{"varMapping":{"__isSmartRef__":true,"id":85},"source":"function onChartDrag(evt) {\n    var xDelta = evt.clientX- this.startXDrag || 0,\n        yDelta = evt.clientY - this.startYDrag || 0,\n        xMinStart = this.xMinStart || 0,\n        xMaxStart = this.xMaxStart || 0,\n        yMaxStart = this.yMaxStart || 0,\n        rangeFactor = (xMaxStart - xMinStart) / 300, //FIXME: has to adapt to larger chartareas\n        yRangeFactor = yMaxStart / 300, //FIXME: has to adapt to larger chartareas\n        newXMin = xMinStart - xDelta * rangeFactor,\n        newXMax = xMaxStart - xDelta * rangeFactor,\n        newYMax = yMaxStart + yDelta * yRangeFactor;\n    if (this.xMinSlider && this.xMaxSlider && this.yMaxSlider) {\n        this.xMinSlider.value = newXMin;\n        this.xMaxSlider.value = newXMax;\n        this.yMaxSlider.value = newYMax;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":86},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"85":{"this":{"__isSmartRef__":true,"id":0}},"86":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","tags":[],"timestamp":"new Date(\"Mon Jun 17 2013 05:27:47 GMT-0700 (PDT)\")"},"87":{"varMapping":{"__isSmartRef__":true,"id":88},"source":"function onChartDragStart(evt) {\n    this.startXDrag = evt.clientX;\n    this.startYDrag = evt.clientY;\n    if (this.xMinSlider && this.xMaxSlider && this.yMaxSlider) {\n        this.xMinStart = this.xMinSlider.value;\n        this.xMaxStart = this.xMaxSlider.value;\n        this.yMaxStart = this.yMaxSlider.value;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":89},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"88":{"this":{"__isSmartRef__":true,"id":0}},"89":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","tags":[],"timestamp":"new Date(\"Mon Jun 17 2013 05:27:47 GMT-0700 (PDT)\")"},"90":{"varMapping":{"__isSmartRef__":true,"id":91},"source":"function onChartMouseWheel(evt) {\n    var xMinSlider = this.xMinSlider,\n        xMaxSlider = this.xMaxSlider;\n\n    if (xMinSlider && xMaxSlider) {\n        var xMinStart = xMinSlider.value,\n        xMaxStart = xMaxSlider.value,\n        range = xMaxStart - xMinStart,\n        wheelFactor = 0.001,\n        wheelDelta = evt.wheelDeltaY,\n        zoomAddRange = range * wheelDelta * wheelFactor;\n\n        // Avoid page scrolling\n        evt.preventDefault();\n\n        xMinSlider.value = xMinStart + zoomAddRange;\n        xMaxSlider.value = xMaxStart - zoomAddRange;\n    } else {\n        console.warn('Where are my (linear scales module) sliders? Cannot zoom!');\n    }\n\n}","funcProperties":{"__isSmartRef__":true,"id":92},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"91":{"this":{"__isSmartRef__":true,"id":0}},"92":{"__serializedExpressions__":["timestamp"],"user":"robertkrahn","tags":[],"timestamp":"new Date(\"Mon Jun 17 2013 05:27:47 GMT-0700 (PDT)\")"},"isSimplifiedRegistry":true}}