{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1},{"__isSmartRef__":true,"id":93},{"__isSmartRef__":true,"id":600},{"__isSmartRef__":true,"id":1252},{"__isSmartRef__":true,"id":1277},{"__isSmartRef__":true,"id":1302},{"__isSmartRef__":true,"id":54}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1327},"eventHandler":{"__isSmartRef__":true,"id":1328},"_ClipMode":"visible","id":"548FC16A-5738-4CAC-9F3E-07ADC1B98BFF","droppingEnabled":false,"halosEnabled":true,"draggingEnabled":true,"layout":{"__isSmartRef__":true,"id":1329},"LK2":true,"targetMorph":{"__isSmartRef__":true,"id":54},"reframeHandle":{"__isSmartRef__":true,"id":1302},"bottomReframeHandle":{"__isSmartRef__":true,"id":1252},"rightReframeHandle":{"__isSmartRef__":true,"id":1277},"titleBar":{"__isSmartRef__":true,"id":1},"collapsedTransform":{"__isSmartRef__":true,"id":1330},"expandedTransform":{"__isSmartRef__":true,"id":1331},"ignoreEventsOnExpand":false,"_PreviousBorderWidth":0,"name":"SyncMorph","highlighted":false,"isBeingDragged":false,"showsHalos":false,"moved":true,"_Rotation":0,"_Scale":1,"attributeConnections":[{"__isSmartRef__":true,"id":1242},{"__isSmartRef__":true,"id":1244},{"__isSmartRef__":true,"id":1246},{"__isSmartRef__":true,"id":1248}],"doNotSerialize":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"doNotCopyProperties":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"prevScroll":[0,0],"cameForward":false,"helperMorphs":[{"__isSmartRef__":true,"id":93},{"__isSmartRef__":true,"id":600},{"__isSmartRef__":true,"id":1252},{"__isSmartRef__":true,"id":1277},{"__isSmartRef__":true,"id":1302}],"state":"expanded","#startLetters":"","partsBinMetaInfo":{"__isSmartRef__":true,"id":1332},"__serializedExpressions__":["collapsedExtent","expandedExtent","_Position","contentOffset","prevDragPos","expandedPosition","collapsedPosition","fixedPosition"],"isFixed":false,"fixedScale":1,"__LivelyClassName__":"lively.morphic.Window","__SourceModuleName__":"Global.lively.morphic.Widgets","withoutLayers":["Global.lively.morphic.GrabbingLayer"],"collapsedExtent":"lively.pt(958.8,22.0)","expandedExtent":"lively.pt(958.8,609.9)","_Position":"lively.pt(0.0,0.0)","contentOffset":"lively.pt(4.0,22.0)","prevDragPos":"lively.pt(599.0,23.0)","expandedPosition":"lively.pt(7.0,7.0)","collapsedPosition":"lively.pt(10.0,10.0)","fixedPosition":"lively.pt(6.0,8.0)"},"1":{"submorphs":[{"__isSmartRef__":true,"id":2},{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":21},{"__isSmartRef__":true,"id":33},{"__isSmartRef__":true,"id":46},{"__isSmartRef__":true,"id":1121},{"__isSmartRef__":true,"id":1141}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1161},"eventHandler":{"__isSmartRef__":true,"id":1162},"_ClipMode":"visible","id":"43513544-A294-4508-8F13-39713F9FCBEB","droppingEnabled":false,"halosEnabled":true,"layout":{"__isSmartRef__":true,"id":1163},"windowMorph":{"__isSmartRef__":true,"id":0},"label":{"__isSmartRef__":true,"id":2},"closeButton":{"__isSmartRef__":true,"id":8},"menuButton":{"__isSmartRef__":true,"id":21},"collapseButton":{"__isSmartRef__":true,"id":33},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":0},"showsHalos":false,"magnets":[{"__isSmartRef__":true,"id":1164},{"__isSmartRef__":true,"id":1165},{"__isSmartRef__":true,"id":1166},{"__isSmartRef__":true,"id":1167},{"__isSmartRef__":true,"id":1168},{"__isSmartRef__":true,"id":1169},{"__isSmartRef__":true,"id":1170},{"__isSmartRef__":true,"id":1171}],"attributeConnections":[{"__isSmartRef__":true,"id":1172},{"__isSmartRef__":true,"id":1234},{"__isSmartRef__":true,"id":1236},{"__isSmartRef__":true,"id":1238},{"__isSmartRef__":true,"id":1240}],"doNotSerialize":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"doNotCopyProperties":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"prevScroll":[0,0],"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.TitleBar","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,0.0)"},"2":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":3},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":4}],"eventHandler":{"__isSmartRef__":true,"id":6},"_ClipMode":"hidden","id":"806DCFE2-0112-48D1-BD62-23DDA30871B9","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"isLabel":true,"layout":{"__isSmartRef__":true,"id":7},"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":1},"_StyleClassNames":["window-title"],"_TextStylingMode":true,"showsHalos":false,"prevScroll":[0,0],"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(21.0,3.0)"},"3":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(898.8,18.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"4":{"style":{"__isSmartRef__":true,"id":5},"chunkOwner":{"__isSmartRef__":true,"id":2},"_id":"_4370","storedString":"Channel: default","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"5":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"6":{"morph":{"__isSmartRef__":true,"id":2},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"7":{"resizeWidth":true},"8":{"submorphs":[{"__isSmartRef__":true,"id":9}],"scripts":[],"shape":{"__isSmartRef__":true,"id":14},"eventHandler":{"__isSmartRef__":true,"id":15},"_ClipMode":"visible","id":"FA6ADA55-B6DD-4C13-AF5C-59B6A1E1935F","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"accessibleInInactiveWindow":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":9},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":1},"layout":{"__isSmartRef__":true,"id":16},"_StyleClassNames":["close"],"attributeConnections":[{"__isSmartRef__":true,"id":17},{"__isSmartRef__":true,"id":19}],"doNotSerialize":["$$getHelpText","$$fire"],"doNotCopyProperties":["$$getHelpText","$$fire"],"isPressed":false,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.WindowControl","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(938.8,3.0)"},"9":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":10},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":11}],"eventHandler":{"__isSmartRef__":true,"id":13},"_ClipMode":"hidden","id":"0EF8EF16-9602-4EC8-AA73-E98ACDC7E9B0","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":8,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":8},"isLabel":true,"eventsAreIgnored":true,"_TextStylingMode":true,"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,-1.0)"},"10":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"11":{"style":{"__isSmartRef__":true,"id":12},"chunkOwner":{"__isSmartRef__":true,"id":9},"_id":"_493","storedString":"X","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"12":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"13":{"morph":{"__isSmartRef__":true,"id":9},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"14":{"_BorderWidth":1,"_StrokeOpacity":0,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"15":{"morph":{"__isSmartRef__":true,"id":8},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"16":{"moveHorizontal":true},"17":{"sourceObj":{"__isSmartRef__":true,"id":8},"sourceAttrName":"getHelpText","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"getCloseHelp","varMapping":{"__isSmartRef__":true,"id":18},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"18":{"source":{"__isSmartRef__":true,"id":8},"target":{"__isSmartRef__":true,"id":0}},"19":{"sourceObj":{"__isSmartRef__":true,"id":8},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"initiateShutdown","varMapping":{"__isSmartRef__":true,"id":20},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"20":{"source":{"__isSmartRef__":true,"id":8},"target":{"__isSmartRef__":true,"id":0}},"21":{"submorphs":[{"__isSmartRef__":true,"id":22}],"scripts":[],"shape":{"__isSmartRef__":true,"id":27},"eventHandler":{"__isSmartRef__":true,"id":28},"_ClipMode":"visible","id":"0E496554-1E5B-4F6A-AD63-5CCE80C20014","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"accessibleInInactiveWindow":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":22},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":1},"attributeConnections":[{"__isSmartRef__":true,"id":29},{"__isSmartRef__":true,"id":31}],"doNotSerialize":["$$getHelpText","$$fire"],"doNotCopyProperties":["$$getHelpText","$$fire"],"isPressed":false,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.WindowControl","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(3.0,3.0)"},"22":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":23},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":24}],"eventHandler":{"__isSmartRef__":true,"id":26},"_ClipMode":"hidden","id":"05608E1C-86AD-4080-816D-A2B79B8F520B","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":8,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":21},"isLabel":true,"eventsAreIgnored":true,"_TextStylingMode":true,"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,0.0)"},"23":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(18.0,17.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"24":{"style":{"__isSmartRef__":true,"id":25},"chunkOwner":{"__isSmartRef__":true,"id":22},"_id":"_495","storedString":"M","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"25":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"26":{"morph":{"__isSmartRef__":true,"id":22},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"27":{"_BorderWidth":1,"_StrokeOpacity":0,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"28":{"morph":{"__isSmartRef__":true,"id":21},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"29":{"sourceObj":{"__isSmartRef__":true,"id":21},"sourceAttrName":"getHelpText","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"getMenuHelp","varMapping":{"__isSmartRef__":true,"id":30},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"30":{"source":{"__isSmartRef__":true,"id":21},"target":{"__isSmartRef__":true,"id":0}},"31":{"sourceObj":{"__isSmartRef__":true,"id":21},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"showTargetMorphMenu","varMapping":{"__isSmartRef__":true,"id":32},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"32":{"source":{"__isSmartRef__":true,"id":21},"target":{"__isSmartRef__":true,"id":0}},"33":{"submorphs":[{"__isSmartRef__":true,"id":34}],"scripts":[],"shape":{"__isSmartRef__":true,"id":39},"eventHandler":{"__isSmartRef__":true,"id":40},"_ClipMode":"visible","id":"39AF0575-4FC2-46BB-A1E5-03E6E56A2C56","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"accessibleInInactiveWindow":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":34},"_PreviousBorderWidth":0,"owner":{"__isSmartRef__":true,"id":1},"layout":{"__isSmartRef__":true,"id":41},"attributeConnections":[{"__isSmartRef__":true,"id":42},{"__isSmartRef__":true,"id":44}],"doNotSerialize":["$$getHelpText","$$fire"],"doNotCopyProperties":["$$getHelpText","$$fire"],"isPressed":false,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.WindowControl","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(919.8,3.0)"},"34":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":35},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":36}],"eventHandler":{"__isSmartRef__":true,"id":38},"_ClipMode":"hidden","id":"A82BDDAF-B107-46F5-9130-2891A2E507DB","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":8,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":33},"isLabel":true,"eventsAreIgnored":true,"_TextStylingMode":true,"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_TextColor","_Position"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)","_Position":"lively.pt(0.0,1.0)"},"35":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"36":{"style":{"__isSmartRef__":true,"id":37},"chunkOwner":{"__isSmartRef__":true,"id":34},"_id":"_497","storedString":"â€“","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"37":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"38":{"morph":{"__isSmartRef__":true,"id":34},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"39":{"_BorderWidth":1,"_StrokeOpacity":0,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(17.0,17.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"40":{"morph":{"__isSmartRef__":true,"id":33},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"41":{"moveHorizontal":true},"42":{"sourceObj":{"__isSmartRef__":true,"id":33},"sourceAttrName":"getHelpText","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"getCollapseHelp","varMapping":{"__isSmartRef__":true,"id":43},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"43":{"source":{"__isSmartRef__":true,"id":33},"target":{"__isSmartRef__":true,"id":0}},"44":{"sourceObj":{"__isSmartRef__":true,"id":33},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"toggleCollapse","varMapping":{"__isSmartRef__":true,"id":45},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"45":{"source":{"__isSmartRef__":true,"id":33},"target":{"__isSmartRef__":true,"id":0}},"46":{"submorphs":[{"__isSmartRef__":true,"id":47}],"scripts":[],"shape":{"__isSmartRef__":true,"id":52},"eventHandler":{"__isSmartRef__":true,"id":53},"_ClipMode":"visible","derivationIds":[],"id":"CADB1D52-1D12-4524-8528-6B81BC4497F3","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":47},"_PreviousBorderWidth":1,"whiteboard":{"__isSmartRef__":true,"id":54},"targetObject":{"__isSmartRef__":true,"id":54},"targetState":"active","toggleFunction":"toggleActivation","_ToolTip":"toggles online state","extraButton":true,"attributeConnections":[{"__isSmartRef__":true,"id":1109}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"owner":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["_Position"],"_Rotation":0,"_Scale":1,"isPressed":false,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1111},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(40.0,1.0)"},"47":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":48},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":49}],"eventHandler":{"__isSmartRef__":true,"id":51},"_ClipMode":"hidden","derivationIds":[],"id":"F00566D6-DBF0-4E3E-9630-EB0F267221F4","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"__serializedExpressions__":["_TextColor"],"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":46},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"48":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":0,"_Fill":null,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"49":{"style":{"__isSmartRef__":true,"id":50},"chunkOwner":{"__isSmartRef__":true,"id":47},"_id":"_4363","storedString":"O","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"50":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"51":{"morph":{"__isSmartRef__":true,"id":47},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"52":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"53":{"morph":{"__isSmartRef__":true,"id":46},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"54":{"scripts":[],"id":"C33F0D96-31C9-4EC2-9A5E-B7ECE6023E9F","shape":{"__isSmartRef__":true,"id":55},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"WhiteBoard","eventHandler":{"__isSmartRef__":true,"id":56},"partTests":{"__isSmartRef__":true,"id":57},"prevScroll":[0,0],"isBeingDragged":false,"grabbingEnabled":false,"isDrawing":false,"moved":true,"timestamp":1335343526252,"layout":{"__isSmartRef__":true,"id":92},"_ClipMode":"scroll","oldSubmorphs":[],"isLockOwner":false,"eventsAreDisabled":false,"_PointerEvents":"auto","pencilSize":1,"strokeStyle":"solid","pencilStyle":"solid","pencilStyler":{"__isSmartRef__":true,"id":93},"chat":{"__isSmartRef__":true,"id":600},"#startLetters":"events","enteredBefore":false,"submorphsChanged":[],"submorphs":[],"userName":"conradcalmez","doNotSerializeList":["showsHalos","lastTap","lastTimeClickedOnIpad","lastUpdate","startDate","lastUpdate","showsPie","selectionMorph","pieItems","moved","scrolled","selectable","showTimeout","pieTouch","enteredItem","activatedPieItem","moveTouch","tapTouch","textChunks","previousOwner","previousPosition"],"isWhiteboard":true,"moveCounter":292,"visible":true,"currentStroke":null,"prevState":null,"socket":null,"magnets":[{"__isSmartRef__":true,"id":798},{"__isSmartRef__":true,"id":799},{"__isSmartRef__":true,"id":800},{"__isSmartRef__":true,"id":801},{"__isSmartRef__":true,"id":802},{"__isSmartRef__":true,"id":803},{"__isSmartRef__":true,"id":804},{"__isSmartRef__":true,"id":805}],"active":false,"__serializedExpressions__":["color","_Position"],"_Scale":1,"_Rotation":0,"owner":{"__isSmartRef__":true,"id":0},"channelName":"default","attributeConnections":[{"__isSmartRef__":true,"id":806}],"doNotSerialize":["$$channelName"],"doNotCopyProperties":["$$channelName"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":808},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","withLayers":["Global.lively.morphic.GrabbingLayer"],"color":"Color.rgb(0,0,0)","_Position":"lively.pt(4.0,22.0)"},"55":{"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","#startLetters":"","__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(950.8,583.9)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"56":{"morph":{"__isSmartRef__":true,"id":54},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"57":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":58}},"58":{"test01IsMorph":{"__isSmartRef__":true,"id":59},"test02ConnectionsSetUp":{"__isSmartRef__":true,"id":62},"test03ToolsPresent":{"__isSmartRef__":true,"id":65},"test04DeactivatedOnStartup":{"__isSmartRef__":true,"id":68},"test05DefaultChannelName":{"__isSmartRef__":true,"id":71},"test06DefaultColorOnStartup":{"__isSmartRef__":true,"id":74},"test07DefaultPencilSizeOnStartup":{"__isSmartRef__":true,"id":77},"test08DefaultPencilStyleOnStartup":{"__isSmartRef__":true,"id":80},"test09ClearWhiteboard":{"__isSmartRef__":true,"id":83},"test10CreateStrokeShape":{"__isSmartRef__":true,"id":86},"test11CreateTitleBarButton":{"__isSmartRef__":true,"id":89}},"59":{"varMapping":{"__isSmartRef__":true,"id":60},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":61},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"60":{"this":{"__isSmartRef__":true,"id":57}},"61":{},"62":{"varMapping":{"__isSmartRef__":true,"id":63},"source":"function test02ConnectionsSetUp(aPart) {\n    var quantity = 2;\n    this.assert(\n        function () {\n            return aPart.attributeConnections.size()==quantity;\n        },\n        'too few attribute connection there should be ' + quantity\n    );\n    this.assert(\n        function () {\n            var c = aPart.attributeConnections[0];\n            return c.targetObj.name == \"TitleBar\" &&\n                   c.targetMethodName == \"setTitle\" &&\n                   c.sourceAttrName == \"channelName\";\n        },\n        'connection Whiteboard.channelName --> TitleBar.setTitle missing'\n    );\n    this.assert(\n        function () {\n            var c = aPart.attributeConnections[1];\n            return c.targetObj.name == \"ActiveButton\" &&\n                   c.targetMethodName == \"toggleState\" &&\n                   c.sourceAttrName == \"active\";\n        },\n        'connection Whiteboard.channelName --> TitleBar.setTitle missing'\n    );\n}","funcProperties":{"__isSmartRef__":true,"id":64},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"63":{"this":{"__isSmartRef__":true,"id":57}},"64":{},"65":{"varMapping":{"__isSmartRef__":true,"id":66},"source":"function test03ToolsPresent(aPart) {\n    this.assert(\n        function () {\n            return aPart.chat.name == \"ChatPane\" &&\n                   aPart.chat instanceof lively.morphic.Box;\n        },\n        'ChatPane is missing'\n    );\n    this.assert(\n        function () {\n            return aPart.pencilStyler.name == \"PencilStyler\" &&\n                   aPart.pencilStyler instanceof lively.morphic.Box;\n        },\n        'PencilStyler is missing'\n    );\n}","funcProperties":{"__isSmartRef__":true,"id":67},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"66":{"this":{"__isSmartRef__":true,"id":57}},"67":{},"68":{"varMapping":{"__isSmartRef__":true,"id":69},"source":"function test04DeactivatedOnStartup(aPart) {\n    this.assert(!aPart.active, 'WhiteBoard should be inactive on startup');\n}","funcProperties":{"__isSmartRef__":true,"id":70},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"69":{"this":{"__isSmartRef__":true,"id":57}},"70":{},"71":{"varMapping":{"__isSmartRef__":true,"id":72},"source":"function test05DefaultChannelName(aPart) {\n    this.assert(function () {\n        return aPart.channelName == 'default';\n    },\n    'The channel name should be default');\n}","funcProperties":{"__isSmartRef__":true,"id":73},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"72":{"this":{"__isSmartRef__":true,"id":57}},"73":{},"74":{"varMapping":{"__isSmartRef__":true,"id":75},"source":"function test06DefaultColorOnStartup(aPart) {\n    this.assert(function () {\n        return this.color == this.defaultColor() || this.color == null;\n    },\n    'Initial color is not the default color');\n}","funcProperties":{"__isSmartRef__":true,"id":76},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"75":{"this":{"__isSmartRef__":true,"id":57}},"76":{},"77":{"varMapping":{"__isSmartRef__":true,"id":78},"source":"function test07DefaultPencilSizeOnStartup(aPart) {\n    this.assert(function () {\n        return this.pencilSize == this.defaultPencilSize() || this.pencilSize == null;\n    },\n    'Initial pencil size is not the default pencil size');\n}","funcProperties":{"__isSmartRef__":true,"id":79},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"78":{"this":{"__isSmartRef__":true,"id":57}},"79":{},"80":{"varMapping":{"__isSmartRef__":true,"id":81},"source":"function test08DefaultPencilStyleOnStartup(aPart) {\n    this.assert(function () {\n        return this.pencilStyle == this.defaultPencilStyle() || this.pencilStyle == null;\n    },\n    'Initial pencil style is not the default pencil style');\n}","funcProperties":{"__isSmartRef__":true,"id":82},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"81":{"this":{"__isSmartRef__":true,"id":57}},"82":{},"83":{"varMapping":{"__isSmartRef__":true,"id":84},"source":"function test09ClearWhiteboard(aPart) {\n    aPart.clear();\n    this.assert(function () {\n        return aPart.submorphs.size() == 0;\n    },\n    'Whiteboard should not hold any content after clear call');\n}","funcProperties":{"__isSmartRef__":true,"id":85},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"84":{"this":{"__isSmartRef__":true,"id":57}},"85":{},"86":{"varMapping":{"__isSmartRef__":true,"id":87},"source":"function test10CreateStrokeShape(aPart) {\n    this.assert(function () {\n        var dot = aPart.createStrokeShape({x: 10, y: 10});\n        return (dot.eventsAreDisabled || dot.eventsAreDisabled === undefined) &&\n               !dot.droppingEnabled &&\n               dot.isStroke &&\n               dot.shape instanceof lively.morphic.Shapes.Path &&\n               dot.vertices().size() == 1;\n    },\n    'createStrokeShape called with a point should return a  dot shape');\n    this.assert(function () {\n        var square = aPart.createStrokeShape([pt(0,0), pt(10,0), pt(10,10), pt(0,10)]);\n        return (square.eventsAreDisabled || square.eventsAreDisabled === undefined) &&\n               !square.droppingEnabled &&\n               square.isStroke &&\n               square.shape instanceof lively.morphic.Shapes.Path &&\n               square.vertices().size() == 4;\n    },\n    'createStrokeShape should return a square shape');\n}","funcProperties":{"__isSmartRef__":true,"id":88},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"87":{"this":{"__isSmartRef__":true,"id":57}},"88":{},"89":{"varMapping":{"__isSmartRef__":true,"id":90},"source":"function test11CreateTitleBarButton(aPart) {\n    var testObject,\n        testButton;\n    \n    testObject.state = false;\n    testObject.toggle = function () {\n        this.testState = !this.testState;\n        return this.testState;\n    };\n    \n    // TODO call fails because aPart has no owner\n    aPart.createTitleBarButton(\n        \"TestButton\", \"for test purposes only\",\n        testObject, \"state\", \"toggle\"\n    );\n    this.assert(true, 'true should be true');\n}","funcProperties":{"__isSmartRef__":true,"id":91},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"90":{"this":{"__isSmartRef__":true,"id":57}},"91":{},"92":{"resizeWidth":true,"resizeHeight":true},"93":{"submorphs":[{"__isSmartRef__":true,"id":94},{"__isSmartRef__":true,"id":346},{"__isSmartRef__":true,"id":379},{"__isSmartRef__":true,"id":404},{"__isSmartRef__":true,"id":429},{"__isSmartRef__":true,"id":435},{"__isSmartRef__":true,"id":441},{"__isSmartRef__":true,"id":447},{"__isSmartRef__":true,"id":453},{"__isSmartRef__":true,"id":487},{"__isSmartRef__":true,"id":497},{"__isSmartRef__":true,"id":503}],"scripts":[],"shape":{"__isSmartRef__":true,"id":527},"id":"00C0C3C8-927D-47D3-8C65-0C84AE5EA377","eventHandler":{"__isSmartRef__":true,"id":528},"droppingEnabled":true,"halosEnabled":true,"colorChooser":{"__isSmartRef__":true,"id":94},"slider":{"__isSmartRef__":true,"id":453},"button":{"__isSmartRef__":true,"id":529},"showsHalos":false,"isBeingDragged":false,"name":"PencilStyler","isLockOwner":false,"layout":{"__isSmartRef__":true,"id":597},"prevScroll":[0,0],"moved":true,"alphaSlider":{"__isSmartRef__":true,"id":346},"moveTouch":false,"baseTouch":{"__isSmartRef__":true,"id":598},"selectable":false,"scrolled":false,"halosTemporaryInvisible":false,"headRevision":145365,"widthSlider":{"__isSmartRef__":true,"id":503},"borderStyleList":{"__isSmartRef__":true,"id":487},"_ClipMode":"visible","owner":{"__isSmartRef__":true,"id":0},"target":null,"#startLetters":"be","whiteboard":{"__isSmartRef__":true,"id":54},"chat":{"__isSmartRef__":true,"id":600},"isCopyMorphRef":true,"morphRefId":1,"selectionDisabled":true,"_Visible":false,"_Rotation":0,"_Scale":0.9920279440699444,"__serializedExpressions__":["_Position","currentColor","distanceToDragEvent","updateBorderFillOfTarget"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":729},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)","currentColor":"Color.rgb(160,0,152)","distanceToDragEvent":"lively.pt(212.0,-13.0)","updateBorderFillOfTarget":"Color.rgb(255,255,255)"},"94":{"submorphs":[{"__isSmartRef__":true,"id":95}],"scripts":[],"shape":{"__isSmartRef__":true,"id":266},"id":"0059FAFD-A7F7-45C1-AC03-CB94C63F4849","eventHandler":{"__isSmartRef__":true,"id":267},"droppingEnabled":true,"halosEnabled":true,"layout":{"__isSmartRef__":true,"id":268},"owner":{"__isSmartRef__":true,"id":93},"chooserWidget":{"__isSmartRef__":true,"id":93},"showsHalos":false,"name":"ColorChooserPane","isLockOwner":false,"selectable":false,"halosTemporaryInvisible":false,"originalScale":1,"originalRotation":0,"lastRotation":0,"slide":0,"activeSlide":{"__isSmartRef__":true,"id":96},"_ClipMode":"hidden","container":{"__isSmartRef__":true,"id":95},"prevScroll":[0,0],"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":269},"__LivelyClassName__":"lively.morphic.CrayonColorChooser","__SourceModuleName__":"Global.lively.morphic.ColorChooserDraft","_Position":"lively.pt(50.0,36.0)","distanceToDragEvent":"lively.pt(150.0,-12.0)"},"95":{"submorphs":[{"__isSmartRef__":true,"id":96}],"scripts":[],"id":"797DF1CC-A658-4BAD-9679-82F97604542B","shape":{"__isSmartRef__":true,"id":259},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"container","eventHandler":{"__isSmartRef__":true,"id":260},"partTests":{"__isSmartRef__":true,"id":261},"owner":{"__isSmartRef__":true,"id":94},"isLockOwner":false,"_ClipMode":"visible","prevScroll":[0,0],"_Rotation":0,"_Scale":1.002003004005006,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"96":{"submorphs":[{"__isSmartRef__":true,"id":97},{"__isSmartRef__":true,"id":105},{"__isSmartRef__":true,"id":113},{"__isSmartRef__":true,"id":121},{"__isSmartRef__":true,"id":129},{"__isSmartRef__":true,"id":137},{"__isSmartRef__":true,"id":145},{"__isSmartRef__":true,"id":153},{"__isSmartRef__":true,"id":161},{"__isSmartRef__":true,"id":169},{"__isSmartRef__":true,"id":177},{"__isSmartRef__":true,"id":185},{"__isSmartRef__":true,"id":193},{"__isSmartRef__":true,"id":201},{"__isSmartRef__":true,"id":209},{"__isSmartRef__":true,"id":217},{"__isSmartRef__":true,"id":225},{"__isSmartRef__":true,"id":233},{"__isSmartRef__":true,"id":241},{"__isSmartRef__":true,"id":249}],"scripts":[],"shape":{"__isSmartRef__":true,"id":257},"eventHandler":{"__isSmartRef__":true,"id":258},"_ClipMode":"visible","derivationIds":[],"id":"EB64B186-FB73-4559-88ED-BB384A2DFAD2","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"owner":{"__isSmartRef__":true,"id":95},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"97":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":98},"eventHandler":{"__isSmartRef__":true,"id":104},"_ClipMode":"visible","derivationIds":[],"id":"4B2C8329-DB36-473F-8F8D-E216434C6D70","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)"},"98":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":99},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"99":{"stops":[{"__isSmartRef__":true,"id":100},{"__isSmartRef__":true,"id":101},{"__isSmartRef__":true,"id":102},{"__isSmartRef__":true,"id":103}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"100":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"101":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,127,127)"},"102":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,0,0)"},"103":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,0,0)"},"104":{"morph":{"__isSmartRef__":true,"id":97},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"105":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":106},"eventHandler":{"__isSmartRef__":true,"id":112},"_ClipMode":"visible","derivationIds":[],"id":"07762F1F-1FF8-4A23-8C87-1045050F0847","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(60.3,0.0)"},"106":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":107},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(95,94,95)"},"107":{"stops":[{"__isSmartRef__":true,"id":108},{"__isSmartRef__":true,"id":109},{"__isSmartRef__":true,"id":110},{"__isSmartRef__":true,"id":111}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"108":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"109":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(175,175,175)"},"110":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(95,94,95)"},"111":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(95,94,95)"},"112":{"morph":{"__isSmartRef__":true,"id":105},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"113":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":114},"eventHandler":{"__isSmartRef__":true,"id":120},"_ClipMode":"visible","derivationIds":[],"id":"F171E1B4-94AC-4F40-AB17-11EF32129461","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(120.5,0.0)"},"114":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":115},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(121,121,121)"},"115":{"stops":[{"__isSmartRef__":true,"id":116},{"__isSmartRef__":true,"id":117},{"__isSmartRef__":true,"id":118},{"__isSmartRef__":true,"id":119}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"116":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"117":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(188,188,188)"},"118":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(121,121,121)"},"119":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(121,121,121)"},"120":{"morph":{"__isSmartRef__":true,"id":113},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"121":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":122},"eventHandler":{"__isSmartRef__":true,"id":128},"_ClipMode":"visible","derivationIds":[],"id":"7252C9F2-15A0-4B4B-B9C3-8C590DF139A7","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(180.8,0.0)"},"122":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":123},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(255,255,255)"},"123":{"stops":[{"__isSmartRef__":true,"id":124},{"__isSmartRef__":true,"id":125},{"__isSmartRef__":true,"id":126},{"__isSmartRef__":true,"id":127}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"124":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"125":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"126":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"127":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"128":{"morph":{"__isSmartRef__":true,"id":121},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"129":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":130},"eventHandler":{"__isSmartRef__":true,"id":136},"_ClipMode":"visible","derivationIds":[],"id":"64A68E08-18AA-476B-A8E8-F394F813125D","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,57.3)"},"130":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":131},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(255,0,0)"},"131":{"stops":[{"__isSmartRef__":true,"id":132},{"__isSmartRef__":true,"id":133},{"__isSmartRef__":true,"id":134},{"__isSmartRef__":true,"id":135}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"132":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"133":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(255,127,127)"},"134":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,0,0)"},"135":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,0,0)"},"136":{"morph":{"__isSmartRef__":true,"id":129},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"137":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":138},"eventHandler":{"__isSmartRef__":true,"id":144},"_ClipMode":"visible","derivationIds":[],"id":"3AFA3F69-4F70-4CB6-9DD8-FE38088E7A9A","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(60.3,57.3)"},"138":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":139},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,204,0)"},"139":{"stops":[{"__isSmartRef__":true,"id":140},{"__isSmartRef__":true,"id":141},{"__isSmartRef__":true,"id":142},{"__isSmartRef__":true,"id":143}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"140":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"141":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,230,127)"},"142":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,204,0)"},"143":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,204,0)"},"144":{"morph":{"__isSmartRef__":true,"id":137},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"145":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":146},"eventHandler":{"__isSmartRef__":true,"id":152},"_ClipMode":"visible","derivationIds":[],"id":"E47A320D-BAC3-40D8-9CDC-E52C7B9501AA","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(120.5,57.3)"},"146":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":147},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(58,0,255)"},"147":{"stops":[{"__isSmartRef__":true,"id":148},{"__isSmartRef__":true,"id":149},{"__isSmartRef__":true,"id":150},{"__isSmartRef__":true,"id":151}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"148":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"149":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(157,127,255)"},"150":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(58,0,255)"},"151":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(58,0,255)"},"152":{"morph":{"__isSmartRef__":true,"id":145},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"153":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":154},"eventHandler":{"__isSmartRef__":true,"id":160},"_ClipMode":"visible","derivationIds":[],"id":"A56EC748-0A9C-407B-8719-5F123E87C350","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(180.8,57.3)"},"154":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":155},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(250,255,0)"},"155":{"stops":[{"__isSmartRef__":true,"id":156},{"__isSmartRef__":true,"id":157},{"__isSmartRef__":true,"id":158},{"__isSmartRef__":true,"id":159}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"156":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"157":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(253,255,127)"},"158":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(250,255,0)"},"159":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(250,255,0)"},"160":{"morph":{"__isSmartRef__":true,"id":153},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"161":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":162},"eventHandler":{"__isSmartRef__":true,"id":168},"_ClipMode":"visible","derivationIds":[],"id":"F63DEDE9-7F24-4C6C-9BDC-C75887AF8866","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,114.6)"},"162":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":163},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,255,133)"},"163":{"stops":[{"__isSmartRef__":true,"id":164},{"__isSmartRef__":true,"id":165},{"__isSmartRef__":true,"id":166},{"__isSmartRef__":true,"id":167}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"164":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"165":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,255,194)"},"166":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,255,133)"},"167":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,255,133)"},"168":{"morph":{"__isSmartRef__":true,"id":161},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"169":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":170},"eventHandler":{"__isSmartRef__":true,"id":176},"_ClipMode":"visible","derivationIds":[],"id":"FF011C9B-6F21-43D7-BB39-3B7A51659E05","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(60.3,114.6)"},"170":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":171},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(255,0,255)"},"171":{"stops":[{"__isSmartRef__":true,"id":172},{"__isSmartRef__":true,"id":173},{"__isSmartRef__":true,"id":174},{"__isSmartRef__":true,"id":175}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"172":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"173":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(255,127,255)"},"174":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,0,255)"},"175":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,0,255)"},"176":{"morph":{"__isSmartRef__":true,"id":169},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"177":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":178},"eventHandler":{"__isSmartRef__":true,"id":184},"_ClipMode":"visible","derivationIds":[],"id":"39BCA230-6802-47E2-B693-82FDE8519638","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(120.5,114.6)"},"178":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":179},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,149,148)"},"179":{"stops":[{"__isSmartRef__":true,"id":180},{"__isSmartRef__":true,"id":181},{"__isSmartRef__":true,"id":182},{"__isSmartRef__":true,"id":183}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"180":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"181":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,202,202)"},"182":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,149,148)"},"183":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,149,148)"},"184":{"morph":{"__isSmartRef__":true,"id":177},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"185":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":186},"eventHandler":{"__isSmartRef__":true,"id":192},"_ClipMode":"visible","derivationIds":[],"id":"5F167D89-08C5-4EA9-AEBA-2B26410E19B5","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(180.8,114.6)"},"186":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":187},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(28,0,153)"},"187":{"stops":[{"__isSmartRef__":true,"id":188},{"__isSmartRef__":true,"id":189},{"__isSmartRef__":true,"id":190},{"__isSmartRef__":true,"id":191}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"188":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"189":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(142,127,204)"},"190":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(28,0,153)"},"191":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(28,0,153)"},"192":{"morph":{"__isSmartRef__":true,"id":185},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"193":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":194},"eventHandler":{"__isSmartRef__":true,"id":200},"_ClipMode":"visible","derivationIds":[],"id":"45BF3756-211E-4504-A0D3-3CF42EC1F5EF","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,172.0)"},"194":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":195},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(160,0,152)"},"195":{"stops":[{"__isSmartRef__":true,"id":196},{"__isSmartRef__":true,"id":197},{"__isSmartRef__":true,"id":198},{"__isSmartRef__":true,"id":199}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"196":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"197":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(208,127,204)"},"198":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(160,0,152)"},"199":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(160,0,152)"},"200":{"morph":{"__isSmartRef__":true,"id":193},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"201":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":202},"eventHandler":{"__isSmartRef__":true,"id":208},"_ClipMode":"visible","derivationIds":[],"id":"67CDC105-3146-4428-8BA8-A2200441DA05","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(60.3,172.0)"},"202":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":203},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(154,79,0)"},"203":{"stops":[{"__isSmartRef__":true,"id":204},{"__isSmartRef__":true,"id":205},{"__isSmartRef__":true,"id":206},{"__isSmartRef__":true,"id":207}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"204":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"205":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(205,167,127)"},"206":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(154,79,0)"},"207":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(154,79,0)"},"208":{"morph":{"__isSmartRef__":true,"id":201},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"209":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":210},"eventHandler":{"__isSmartRef__":true,"id":216},"_ClipMode":"visible","derivationIds":[],"id":"00CE9408-444C-4BB3-A0F6-40505C84E763","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(120.5,172.0)"},"210":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":211},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(255,112,116)"},"211":{"stops":[{"__isSmartRef__":true,"id":212},{"__isSmartRef__":true,"id":213},{"__isSmartRef__":true,"id":214},{"__isSmartRef__":true,"id":215}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"212":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"213":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(255,184,186)"},"214":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,112,116)"},"215":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,112,116)"},"216":{"morph":{"__isSmartRef__":true,"id":209},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"217":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":218},"eventHandler":{"__isSmartRef__":true,"id":224},"_ClipMode":"visible","derivationIds":[],"id":"483CAF88-B31B-4B88-A82D-547A4126A78A","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(180.8,172.0)"},"218":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":219},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,151,0)"},"219":{"stops":[{"__isSmartRef__":true,"id":220},{"__isSmartRef__":true,"id":221},{"__isSmartRef__":true,"id":222},{"__isSmartRef__":true,"id":223}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"220":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"221":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,203,127)"},"222":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,151,0)"},"223":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,151,0)"},"224":{"morph":{"__isSmartRef__":true,"id":217},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"225":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":226},"eventHandler":{"__isSmartRef__":true,"id":232},"_ClipMode":"visible","derivationIds":[],"id":"7C9B2036-036C-4609-9A4A-DBC74B75F2A3","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,229.3)"},"226":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":227},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(255,101,255)"},"227":{"stops":[{"__isSmartRef__":true,"id":228},{"__isSmartRef__":true,"id":229},{"__isSmartRef__":true,"id":230},{"__isSmartRef__":true,"id":231}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"228":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"229":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(255,178,255)"},"230":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,101,255)"},"231":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(255,101,255)"},"232":{"morph":{"__isSmartRef__":true,"id":225},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"233":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":234},"eventHandler":{"__isSmartRef__":true,"id":240},"_ClipMode":"visible","derivationIds":[],"id":"4383C459-A130-4ACC-BFB2-36E00594A437","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(60.3,229.3)"},"234":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":235},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,142,255)"},"235":{"stops":[{"__isSmartRef__":true,"id":236},{"__isSmartRef__":true,"id":237},{"__isSmartRef__":true,"id":238},{"__isSmartRef__":true,"id":239}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"236":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"237":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(127,199,255)"},"238":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,142,255)"},"239":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,142,255)"},"240":{"morph":{"__isSmartRef__":true,"id":233},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"241":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":242},"eventHandler":{"__isSmartRef__":true,"id":248},"_ClipMode":"visible","derivationIds":[],"id":"20AF7C5F-38A4-4A61-93D2-AF4C57C44BD4","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(120.5,229.3)"},"242":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":243},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(144,149,0)"},"243":{"stops":[{"__isSmartRef__":true,"id":244},{"__isSmartRef__":true,"id":245},{"__isSmartRef__":true,"id":246},{"__isSmartRef__":true,"id":247}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"244":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"245":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(200,202,127)"},"246":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(144,149,0)"},"247":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(144,149,0)"},"248":{"morph":{"__isSmartRef__":true,"id":241},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"249":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":250},"eventHandler":{"__isSmartRef__":true,"id":256},"_ClipMode":"visible","derivationIds":[],"id":"888FF11C-9B99-49A5-ACA1-8C6F3A73446A","droppingEnabled":true,"halosEnabled":true,"__serializedExpressions__":["_Position"],"eventsAreIgnored":true,"owner":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(180.8,229.3)"},"250":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_Fill":{"__isSmartRef__":true,"id":251},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(52.3,49.3)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(229,105,255)"},"251":{"stops":[{"__isSmartRef__":true,"id":252},{"__isSmartRef__":true,"id":253},{"__isSmartRef__":true,"id":254},{"__isSmartRef__":true,"id":255}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"252":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"253":{"offset":0.05,"__serializedExpressions__":["color"],"color":"Color.rgb(242,180,255)"},"254":{"offset":0.1,"__serializedExpressions__":["color"],"color":"Color.rgb(229,105,255)"},"255":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(229,105,255)"},"256":{"morph":{"__isSmartRef__":true,"id":249},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"257":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"_BorderWidth":0,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(241.0,286.6)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)"},"258":{"morph":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"259":{"_BorderWidth":0,"_Fill":null,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,100.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"260":{"morph":{"__isSmartRef__":true,"id":95},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"261":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":262}},"262":{"test01IsMorph":{"__isSmartRef__":true,"id":263}},"263":{"varMapping":{"__isSmartRef__":true,"id":264},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":265},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"264":{"this":{"__isSmartRef__":true,"id":261}},"265":{},"266":{"_ClipMode":"hidden","_BorderWidth":0,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(241.0,286.6)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(204,0,0)"},"267":{"morph":{"__isSmartRef__":true,"id":94},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"268":{"adjustForNewBounds":false,"moveVertical":false,"moveHorizontal":false,"centeredHorizontal":false},"269":{"reset":{"__isSmartRef__":true,"id":270},"colorSet1":{"__isSmartRef__":true,"id":274},"build":{"__isSmartRef__":true,"id":278},"colorNames":{"__isSmartRef__":true,"id":282},"gradientColor":{"__isSmartRef__":true,"id":290},"removeHiddenSlides":{"__isSmartRef__":true,"id":294},"onMouseUp":{"__isSmartRef__":true,"id":298},"colorForPos":{"__isSmartRef__":true,"id":306},"colorSet2":{"__isSmartRef__":true,"id":314},"colorSet3":{"__isSmartRef__":true,"id":318},"clear":{"__isSmartRef__":true,"id":322},"previousSlide":{"__isSmartRef__":true,"id":326},"nextSlide":{"__isSmartRef__":true,"id":330},"slides":{"__isSmartRef__":true,"id":334},"animateRight":{"__isSmartRef__":true,"id":338},"animateLeft":{"__isSmartRef__":true,"id":342}},"270":{"varMapping":{"__isSmartRef__":true,"id":271},"source":"function reset() {\n    this.container = this.get(\"container\");\n    this.container.setPosition(pt(0,0));\n    this.slide = 0;\n    var slide = this.build(this.colorSet1());\n    this.container.addMorph(slide);\n    this.activeSlide = slide;\n    this.removeHiddenSlides(this.container);\n\n}","funcProperties":{"__isSmartRef__":true,"id":272},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"271":{"this":{"__isSmartRef__":true,"id":94}},"272":{"timestamp":{"__isSmartRef__":true,"id":273},"user":"huberthesse","tags":[]},"273":{"isSerializedDate":true,"string":"Wed Mar 07 2012 15:51:11 GMT+0100 (CET)"},"274":{"varMapping":{"__isSmartRef__":true,"id":275},"source":"function colorSet1() {\n    return [\"licorice iron steel snow\",\n            \"maraschino spring blueberry lemon\",\n            \"seafoam magenta teal midnight\",\n            \"plum mocha salmon clover\",\n            \"bubblegum aqua asparagus lavender\"\n            ]\n}","funcProperties":{"__isSmartRef__":true,"id":276},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"275":{"this":{"__isSmartRef__":true,"id":94}},"276":{"timestamp":{"__isSmartRef__":true,"id":277},"user":"huberthesse","tags":[]},"277":{"isSerializedDate":true,"string":"Fri Mar 02 2012 14:41:43 GMT+0100 (CET)"},"278":{"varMapping":{"__isSmartRef__":true,"id":279},"source":"function build(table) {\n        var slide = Morph.makeRectangle(0,0,this.getExtent().x,this.getExtent().y)\n        slide.setFill(Color.rgba(255,255,255,0));\n        slide.setBorderWidth(0);\n\n        var colorNames = this.colorNames(table),\n            x = 4, y = 5, // like MacOS colors\n            extent = slide.innerBounds().extent().scaleByPt(pt(1/x, 1/y)).subPt(pt(8,8));\n            //extent = pt(44,44)\n        for (var j = 0; j < y; j++) {\n            for (var i = 0; i < x; i++) {\n                var idx = j*x+i, // running offset j*x^1 + i*y^0\n                    color = CrayonColors[colorNames[idx]],\n                    rect = extent.scaleByPt(pt(i, j)).extent(extent),\n                    morph = new lively.morphic.Box(rect);\n                morph.applyStyle({borderColor: color, borderWidth: 1, borderRadius: 5});\n                morph.setFill(this.gradientColor(color));\n                morph.moveBy(pt(8*i,8*j));\n                morph.ignoreEvents();    \n                //morph.layout = {scaleHorizontal: true, scaleVertical: true};\n                slide.addMorph(morph);\n            }\n        }\n        //slide.layout = {adjustForNewBounds: true};\n        slide.adjustForNewBounds();\n        return slide;\n}","funcProperties":{"__isSmartRef__":true,"id":280},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"279":{"this":{"__isSmartRef__":true,"id":94}},"280":{"timestamp":{"__isSmartRef__":true,"id":281},"user":"undefined","tags":[]},"281":{"isSerializedDate":true,"string":"Fri Mar 09 2012 12:20:35 GMT+0100 (CET)"},"282":{"varMapping":{"__isSmartRef__":true,"id":283},"source":"function colorNames(table) {\n    return table.join(' ').split(' ');\n}","funcProperties":{"__isSmartRef__":true,"id":288},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"283":{"this":{"__isSmartRef__":true,"id":94},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":284}},"284":{"$super":{"__isSmartRef__":true,"id":285}},"285":{"varMapping":{"__isSmartRef__":true,"id":286},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":287},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"286":{"obj":{"__isSmartRef__":true,"id":94},"name":"colorNames"},"287":{},"288":{"timestamp":{"__isSmartRef__":true,"id":289},"user":"huberthesse","tags":[]},"289":{"isSerializedDate":true,"string":"Fri Mar 02 2012 14:41:30 GMT+0100 (CET)"},"290":{"varMapping":{"__isSmartRef__":true,"id":291},"source":"function gradientColor(color) {\n    var gradient = new lively.morphic.LinearGradient(\n                [\n                    {offset: 0, color: Color.white},\n                    {offset: 0.05, color: Color.white.mixedWith(color,0.5)},\n                    {offset: 0.1, color: color},\n                    {offset: 1, color: color}\n                ],\n                'northSouth'\n            );\n            return gradient;\n}","funcProperties":{"__isSmartRef__":true,"id":292},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"291":{"this":{"__isSmartRef__":true,"id":94}},"292":{"timestamp":{"__isSmartRef__":true,"id":293},"user":"huberthesse","tags":[]},"293":{"isSerializedDate":true,"string":"Tue Feb 21 2012 18:34:15 GMT+0100 (CET)"},"294":{"varMapping":{"__isSmartRef__":true,"id":295},"source":"function removeHiddenSlides(morph) {\n        for(var i = 0; i < morph.submorphs.length; i++ ) {\n            if(morph.submorphs[i] !== morph.owner.activeSlide) {\n                morph.submorphs[i].remove();\n            }\n        }\n    }","funcProperties":{"__isSmartRef__":true,"id":296},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"295":{"this":{"__isSmartRef__":true,"id":94}},"296":{"timestamp":{"__isSmartRef__":true,"id":297},"user":"athomschke","tags":[]},"297":{"isSerializedDate":true,"string":"Sun May 20 2012 21:28:03 GMT+0200 (CEST)"},"298":{"varMapping":{"__isSmartRef__":true,"id":299},"source":"function onMouseUp(evt) {\n    var color = this.colorForPos(this.localize(evt.getPosition()));\n    this.chooserWidget.updateSliderColor(color);\n    this.chooserWidget.currentColor = color;\n    this.chooserWidget.button.setFill(color)\n}","funcProperties":{"__isSmartRef__":true,"id":304},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"299":{"this":{"__isSmartRef__":true,"id":94},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":300}},"300":{"$super":{"__isSmartRef__":true,"id":301}},"301":{"varMapping":{"__isSmartRef__":true,"id":302},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":303},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"302":{"obj":{"__isSmartRef__":true,"id":94},"name":"onMouseUp"},"303":{},"304":{"timestamp":{"__isSmartRef__":true,"id":305},"user":"huberthesse","tags":[]},"305":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:29:45 GMT+0100 (CET)"},"306":{"varMapping":{"__isSmartRef__":true,"id":307},"source":"function colorForPos(pos) {\n    var r = this.shape.getBounds().insetBy(this.getBorderWidth()),\n            pos = r.closestPointToPt(pos),\n            m = this.activeSlide.submorphs.detect(function(ea) { return ea.bounds().containsPoint(pos) });\n            color = m && m.getFill().stops.find(function(ea){return ea.offset == 1}).color;\n    return color ? color : Color.black; \n}","funcProperties":{"__isSmartRef__":true,"id":312},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"307":{"this":{"__isSmartRef__":true,"id":94},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":308}},"308":{"$super":{"__isSmartRef__":true,"id":309}},"309":{"varMapping":{"__isSmartRef__":true,"id":310},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":311},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"310":{"obj":{"__isSmartRef__":true,"id":94},"name":"colorForPos"},"311":{},"312":{"timestamp":{"__isSmartRef__":true,"id":313},"user":"huberthesse","tags":[]},"313":{"isSerializedDate":true,"string":"Wed Mar 07 2012 14:55:22 GMT+0100 (CET)"},"314":{"varMapping":{"__isSmartRef__":true,"id":315},"source":"function colorSet2() {\n    return [\"licorice lead tungsten nickel\",\n            \"silver magnesium aluminum tin\",\n            \"mercury orchid grape eggplant\",\n            \"aqua blueberry ocean midnight\",\n            \"sky turquoise spindrift ice\"\n            ]\n}","funcProperties":{"__isSmartRef__":true,"id":316},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"315":{"this":{"__isSmartRef__":true,"id":94}},"316":{"timestamp":{"__isSmartRef__":true,"id":317},"user":"huberthesse","tags":[]},"317":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:29:45 GMT+0100 (CET)"},"318":{"varMapping":{"__isSmartRef__":true,"id":319},"source":"function colorSet3() {\n    return [\"maraschino cayenne maroon strawberry\",\n            \"tangerine lemon cantaloupe banana\",\n            \"fern asparagus asparagus spring\",\n            \"lime seafoam flora moss\", \n            \"clover aqua lavender bubblegum\"\n            ]\n}","funcProperties":{"__isSmartRef__":true,"id":320},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"319":{"this":{"__isSmartRef__":true,"id":94}},"320":{"timestamp":{"__isSmartRef__":true,"id":321},"user":"huberthesse","tags":[]},"321":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:29:45 GMT+0100 (CET)"},"322":{"varMapping":{"__isSmartRef__":true,"id":323},"source":"function clear() {\n    this.container.submorphs.invoke('remove')\n}","funcProperties":{"__isSmartRef__":true,"id":324},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"323":{"this":{"__isSmartRef__":true,"id":94}},"324":{"timestamp":{"__isSmartRef__":true,"id":325},"user":"huberthesse","tags":[]},"325":{"isSerializedDate":true,"string":"Wed Mar 07 2012 15:20:41 GMT+0100 (CET)"},"326":{"varMapping":{"__isSmartRef__":true,"id":327},"source":"function previousSlide() {\n    if (this.slide - 1 < 0) {\n        this.slide = this.slide + 3;\n    }\n    this.slide = (this.slide - 1) % 3;\n    //this.clear();\n    var previous = this.build(this.slides()[this.slide]);\n    previous.setPosition(pt(this.activeSlide.getPosition().x - this.activeSlide.getExtent().x,0));\n    this.container.addMorph(previous)\n    this.activeSlide = previous;\n\n    this.animateLeft(1000);\n}","funcProperties":{"__isSmartRef__":true,"id":328},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"327":{"this":{"__isSmartRef__":true,"id":94}},"328":{"timestamp":{"__isSmartRef__":true,"id":329},"user":"huberthesse","tags":[]},"329":{"isSerializedDate":true,"string":"Wed Mar 07 2012 15:54:40 GMT+0100 (CET)"},"330":{"varMapping":{"__isSmartRef__":true,"id":331},"source":"function nextSlide() {\n    this.slide = (this.slide+1)%3\n    //this.clear()\n    var next = this.build(this.slides()[this.slide]);\n    next.setPosition(pt(this.activeSlide.getPosition().x + this.activeSlide.getExtent().x,0));\n    this.container.addMorph(next)\n    this.activeSlide = next;\n\n    this.animateRight(1000);\n\n}","funcProperties":{"__isSmartRef__":true,"id":332},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"331":{"this":{"__isSmartRef__":true,"id":94}},"332":{"timestamp":{"__isSmartRef__":true,"id":333},"user":"athomschke","tags":[]},"333":{"isSerializedDate":true,"string":"Sun May 20 2012 20:43:57 GMT+0200 (CEST)"},"334":{"varMapping":{"__isSmartRef__":true,"id":335},"source":"function slides() {\n    return [this.colorSet1(), this.colorSet2(), this.colorSet3()]\n}","funcProperties":{"__isSmartRef__":true,"id":336},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"335":{"this":{"__isSmartRef__":true,"id":94}},"336":{"timestamp":{"__isSmartRef__":true,"id":337},"user":"huberthesse","tags":[]},"337":{"isSerializedDate":true,"string":"Fri Mar 02 2012 16:32:29 GMT+0100 (CET)"},"338":{"varMapping":{"__isSmartRef__":true,"id":339},"source":"function animateRight(timeout) {\n    this.container.moveByAnimated(pt(-this.getExtent().x,0), timeout, this.removeHiddenSlides);\n}","funcProperties":{"__isSmartRef__":true,"id":340},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"339":{"this":{"__isSmartRef__":true,"id":94}},"340":{"timestamp":{"__isSmartRef__":true,"id":341},"user":"undefined","tags":[]},"341":{"isSerializedDate":true,"string":"Fri Mar 09 2012 12:28:28 GMT+0100 (CET)"},"342":{"varMapping":{"__isSmartRef__":true,"id":343},"source":"function animateLeft(timeout) {\n    this.container.moveByAnimated(pt(this.getExtent().x,0), timeout, this.removeHiddenSlides);\n}","funcProperties":{"__isSmartRef__":true,"id":344},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"343":{"this":{"__isSmartRef__":true,"id":94}},"344":{"timestamp":{"__isSmartRef__":true,"id":345},"user":"undefined","tags":[]},"345":{"isSerializedDate":true,"string":"Fri Mar 09 2012 12:28:25 GMT+0100 (CET)"},"346":{"submorphs":[{"__isSmartRef__":true,"id":347}],"scripts":[],"shape":{"__isSmartRef__":true,"id":359},"id":"5477660F-B00A-4F44-88E2-889D12AF2F69","eventHandler":{"__isSmartRef__":true,"id":360},"droppingEnabled":true,"halosEnabled":true,"attributeConnections":[{"__isSmartRef__":true,"id":361},{"__isSmartRef__":true,"id":363}],"doNotSerialize":["$$value"],"doNotCopyProperties":["$$value"],"sliderExtent":0.1,"valueScale":1,"sliderKnob":{"__isSmartRef__":true,"id":347},"styleClass":["slider_background_horizontal"],"showsHalos":false,"knobRatio":3,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":365},"isBeingDragged":false,"prevScroll":[0,0],"name":"AlphaSlider","owner":{"__isSmartRef__":true,"id":93},"value":1,"_ClipMode":"visible","_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent","color","iPadColor","midColor"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":366},"__LivelyClassName__":"lively.morphic.Slider","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(22.0,384.1)","distanceToDragEvent":"lively.pt(148.0,-8.0)","color":"Color.rgb(0,0,0)","iPadColor":"Color.rgb(0,0,0)","midColor":"Color.rgb(255,112,116)"},"347":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":348},"id":"7C8995E1-F932-4C19-BB04-9B6A28DF0B40","eventHandler":{"__isSmartRef__":true,"id":349},"droppingEnabled":true,"halosEnabled":true,"draggingEnabled":true,"slider":{"__isSmartRef__":true,"id":346},"owner":{"__isSmartRef__":true,"id":346},"styleClass":["slider_horizontal"],"isBeingDragged":false,"draggableWithoutHalo":true,"showsHalos":false,"isLockOwner":false,"prevScroll":[0,0],"_ClipMode":"visible","__serializedExpressions__":["_Position","hitPoint"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":350},"__LivelyClassName__":"lively.morphic.SliderKnob","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(273.6,0.0)","hitPoint":"lively.pt(1398.0,493.0)"},"348":{"_ClipMode":"visible","_BorderWidth":2.7760000000000002,"_BorderRadius":13,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(30.4,7.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(146,146,146)","_Fill":"Color.rgba(235,235,235,0.6)"},"349":{"morph":{"__isSmartRef__":true,"id":347},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"350":{"onrestore":{"__isSmartRef__":true,"id":351}},"351":{"varMapping":{"__isSmartRef__":true,"id":352},"source":"function onrestore() {\n    $super();\n    this.setFill(Color.rgba(235,235,235,0.6))\n}","funcProperties":{"__isSmartRef__":true,"id":357},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"352":{"this":{"__isSmartRef__":true,"id":347},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":353}},"353":{"$super":{"__isSmartRef__":true,"id":354}},"354":{"varMapping":{"__isSmartRef__":true,"id":355},"source":"function () {\n                try {\n                    return obj.constructor.prototype[name].apply(obj, arguments)\n                } catch(e) {\n                    alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":356},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"355":{"obj":{"__isSmartRef__":true,"id":347},"name":"onrestore"},"356":{},"357":{"timestamp":{"__isSmartRef__":true,"id":358},"user":"athomschke","tags":[]},"358":{"isSerializedDate":true,"string":"Wed Feb 22 2012 10:19:48 GMT+0100 (CET)"},"359":{"_ClipMode":"visible","_BorderWidth":1,"_BorderRadius":6,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(304.0,7.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(95,94,95)","_Fill":"Color.rgb(0,0,0)"},"360":{"morph":{"__isSmartRef__":true,"id":346},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"361":{"sourceObj":{"__isSmartRef__":true,"id":346},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":346},"targetMethodName":"adjustSliderParts","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":362},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"362":{"source":{"__isSmartRef__":true,"id":346},"target":{"__isSmartRef__":true,"id":346}},"363":{"sourceObj":{"__isSmartRef__":true,"id":346},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"setBorderFillOfTarget","converterString":"function (val) {return this.getSourceObj().getColor()}","updaterString":null,"varMapping":{"__isSmartRef__":true,"id":364},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"364":{"source":{"__isSmartRef__":true,"id":346},"target":{"__isSmartRef__":true,"id":93}},"365":{"resizeWidth":true,"moveVertical":true},"366":{"getColor":{"__isSmartRef__":true,"id":367},"updateColor":{"__isSmartRef__":true,"id":371},"setKnobFill":{"__isSmartRef__":true,"id":375}},"367":{"varMapping":{"__isSmartRef__":true,"id":368},"source":"function getColor() {\n    return this.color.withA(this.value)\n}","funcProperties":{"__isSmartRef__":true,"id":369},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"368":{"this":{"__isSmartRef__":true,"id":346}},"369":{"timestamp":{"__isSmartRef__":true,"id":370},"user":"huberthesse","tags":[]},"370":{"isSerializedDate":true,"string":"Tue Feb 28 2012 17:27:35 GMT+0100 (CET)"},"371":{"varMapping":{"__isSmartRef__":true,"id":372},"source":"function updateColor(color) {\n    this.iPadColor = color;\n    this.color = color;\n    this.setFill(color);\n    if (this.updateFill) \n        this.updateFill(this.value)\n}","funcProperties":{"__isSmartRef__":true,"id":373},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"372":{"this":{"__isSmartRef__":true,"id":346}},"373":{"timestamp":{"__isSmartRef__":true,"id":374},"user":"athomschke","tags":[]},"374":{"isSerializedDate":true,"string":"Sun May 20 2012 20:52:00 GMT+0200 (CEST)"},"375":{"varMapping":{"__isSmartRef__":true,"id":376},"source":"function setKnobFill() {\n            var knobStyle= new lively.morphic.LinearGradient(\n                [\n                    {offset: 0, color: Color.darkGray.mixedWith(Color.white, 0.5)},\n                    {offset: 0.3, color: Color.lightGray},\n                    {offset: 1, color: Color.white}\n                ]\n            )\n            this.sliderKnob.setFill(knobStyle);\n}","funcProperties":{"__isSmartRef__":true,"id":377},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"376":{"this":{"__isSmartRef__":true,"id":346}},"377":{"timestamp":{"__isSmartRef__":true,"id":378},"user":"undefined","tags":[]},"378":{"isSerializedDate":true,"string":"Tue Mar 13 2012 11:54:12 GMT+0100 (CET)"},"379":{"submorphs":[{"__isSmartRef__":true,"id":380}],"scripts":[],"id":"709262DA-9E3A-4304-836D-0FE5F94B6A9B","shape":{"__isSmartRef__":true,"id":385},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"registeredForMouseEvents":true,"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":386},"lighterFill":{"__isSmartRef__":true,"id":391},"label":{"__isSmartRef__":true,"id":380},"name":"ScriptableButton3","showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":396}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"eventHandler":{"__isSmartRef__":true,"id":397},"layout":{"__isSmartRef__":true,"id":398},"owner":{"__isSmartRef__":true,"id":93},"isLockOwner":false,"prevScroll":[0,0],"_ClipMode":"visible","isPressed":false,"_Rotation":1.5707963267948966,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":399},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(320.5,63.4)","distanceToDragEvent":"lively.pt(24.1,-11.9)"},"380":{"submorphs":[],"scripts":[],"id":"8FEA935C-628F-40E5-B3E4-1E859712318E","shape":{"__isSmartRef__":true,"id":381},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WhiteSpaceHandling":"pre-wrap","fixedHeight":true,"allowInput":false,"_FontFamily":"Helvetica","registeredForMouseEvents":true,"_MaxTextWidth":271,"_MaxTextHeight":null,"textStyle":null,"owner":{"__isSmartRef__":true,"id":379},"isLabel":true,"eventsAreIgnored":true,"_ClipMode":"hidden","textChunks":[{"__isSmartRef__":true,"id":382}],"_Align":"center","eventHandler":{"__isSmartRef__":true,"id":384},"_HandStyle":"default","_PointerEvents":"none","_MinTextWidth":271,"_MinTextHeight":null,"isLockOwner":false,"_WordBreak":"break-all","lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_Position","padding","_Padding"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(0.0,0.0)","padding":"lively.rect(5,5,0,0)","_Padding":"lively.rect(0,0,0,0)"},"381":{"_BorderWidth":0,"_Fill":null,"_ClipMode":"hidden","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(271.0,18.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"382":{"style":{"__isSmartRef__":true,"id":383},"chunkOwner":{"__isSmartRef__":true,"id":380},"storedString":"^","_id":"_121","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"383":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"384":{"morph":{"__isSmartRef__":true,"id":380},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"385":{"_BorderWidth":1.1840000000000002,"_Fill":{"__isSmartRef__":true,"id":386},"_BorderRadius":5.2,"_ClipMode":"visible","_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(271.0,18.0)","_BorderColor":"Color.rgb(214,214,214)","_Padding":"lively.rect(0,0,0,0)"},"386":{"stops":[{"__isSmartRef__":true,"id":387},{"__isSmartRef__":true,"id":388},{"__isSmartRef__":true,"id":389},{"__isSmartRef__":true,"id":390}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"387":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(245,245,245)"},"388":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"389":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"390":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(240,240,240)"},"391":{"stops":[{"__isSmartRef__":true,"id":392},{"__isSmartRef__":true,"id":393},{"__isSmartRef__":true,"id":394},{"__isSmartRef__":true,"id":395}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"392":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(250,250,250)"},"393":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"394":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"395":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(248,248,248)"},"396":{"sourceObj":{"__isSmartRef__":true,"id":379},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":379},"targetMethodName":"onFire","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"397":{"morph":{"__isSmartRef__":true,"id":379},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"398":{"centeredHorizontal":false,"centeredVertical":false,"adjustForNewBounds":true,"resizeWidth":false,"resizeHeight":false,"moveVertical":true,"moveHorizontal":true},"399":{"onFire":{"__isSmartRef__":true,"id":400}},"400":{"varMapping":{"__isSmartRef__":true,"id":401},"source":"function onFire() {\n    this.owner.nextSlide();\n}","funcProperties":{"__isSmartRef__":true,"id":402},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"401":{"this":{"__isSmartRef__":true,"id":379}},"402":{"timestamp":{"__isSmartRef__":true,"id":403},"user":"conradcalmez","tags":[]},"403":{"isSerializedDate":true,"string":"Thu May 03 2012 10:43:53 GMT+0200 (CEST)"},"404":{"submorphs":[{"__isSmartRef__":true,"id":405}],"scripts":[],"id":"9099A2BE-6BF1-4711-B410-D041B4CB13E1","shape":{"__isSmartRef__":true,"id":410},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"registeredForMouseEvents":true,"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":411},"lighterFill":{"__isSmartRef__":true,"id":416},"label":{"__isSmartRef__":true,"id":405},"name":"ScriptableButton2","showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":421}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"eventHandler":{"__isSmartRef__":true,"id":422},"layout":{"__isSmartRef__":true,"id":423},"owner":{"__isSmartRef__":true,"id":93},"isLockOwner":false,"_ClipMode":"visible","prevScroll":[0,0],"isPressed":false,"_Rotation":-1.5707963267948966,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":424},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(19.5,332.4)","distanceToDragEvent":"lively.pt(36.7,-281.8)"},"405":{"submorphs":[],"scripts":[],"id":"76E73E85-6C70-4762-9A30-C2A064EB18AA","shape":{"__isSmartRef__":true,"id":406},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WhiteSpaceHandling":"pre-wrap","fixedHeight":true,"allowInput":false,"_FontFamily":"Helvetica","registeredForMouseEvents":true,"_MaxTextWidth":269,"_MaxTextHeight":null,"textStyle":null,"owner":{"__isSmartRef__":true,"id":404},"isLabel":true,"eventsAreIgnored":true,"_ClipMode":"hidden","textChunks":[{"__isSmartRef__":true,"id":407}],"_Align":"center","eventHandler":{"__isSmartRef__":true,"id":409},"_HandStyle":"default","_PointerEvents":"none","_MinTextWidth":269,"_MinTextHeight":null,"isLockOwner":false,"_WordBreak":"break-all","lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_Position","padding","_Padding"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(0.0,0.0)","padding":"lively.rect(5,5,0,0)","_Padding":"lively.rect(0,0,0,0)"},"406":{"_BorderWidth":0,"_Fill":null,"_ClipMode":"hidden","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(269.0,16.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"407":{"style":{"__isSmartRef__":true,"id":408},"chunkOwner":{"__isSmartRef__":true,"id":405},"storedString":"^","_id":"_122","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"408":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"409":{"morph":{"__isSmartRef__":true,"id":405},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"410":{"_BorderWidth":1.1840000000000002,"_Fill":{"__isSmartRef__":true,"id":411},"_BorderRadius":5.2,"_ClipMode":"visible","_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(269.0,16.0)","_BorderColor":"Color.rgb(214,214,214)","_Padding":"lively.rect(0,0,0,0)"},"411":{"stops":[{"__isSmartRef__":true,"id":412},{"__isSmartRef__":true,"id":413},{"__isSmartRef__":true,"id":414},{"__isSmartRef__":true,"id":415}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"412":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(245,245,245)"},"413":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"414":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"415":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(240,240,240)"},"416":{"stops":[{"__isSmartRef__":true,"id":417},{"__isSmartRef__":true,"id":418},{"__isSmartRef__":true,"id":419},{"__isSmartRef__":true,"id":420}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"417":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(250,250,250)"},"418":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"419":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"420":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(248,248,248)"},"421":{"sourceObj":{"__isSmartRef__":true,"id":404},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":404},"targetMethodName":"onFire","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"422":{"morph":{"__isSmartRef__":true,"id":404},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"423":{"centeredHorizontal":false,"centeredVertical":false,"adjustForNewBounds":true,"resizeWidth":false,"moveHorizontal":false,"moveVertical":true},"424":{"onFire":{"__isSmartRef__":true,"id":425}},"425":{"varMapping":{"__isSmartRef__":true,"id":426},"source":"function onFire() {\n    this.owner.previousSlide();\n}","funcProperties":{"__isSmartRef__":true,"id":427},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"426":{"this":{"__isSmartRef__":true,"id":404}},"427":{"timestamp":{"__isSmartRef__":true,"id":428},"user":"conradcalmez","tags":[]},"428":{"isSerializedDate":true,"string":"Thu May 03 2012 10:43:42 GMT+0200 (CEST)"},"429":{"submorphs":[],"scripts":[],"id":"051ACD2E-DBFB-4BE4-A00D-5632B6D3651C","shape":{"__isSmartRef__":true,"id":430},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":false,"fixedHeight":true,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":null,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":14,"name":"Label","textChunks":[{"__isSmartRef__":true,"id":431}],"charsReplaced":"Color","lastFindLoc":5,"priorSelectionRange":null,"prevScroll":[0,0],"isLabel":true,"_ClipMode":"visible","_WhiteSpaceHandling":"pre-wrap","allowInput":false,"eventsAreIgnored":false,"eventHandler":{"__isSmartRef__":true,"id":433},"moved":true,"owner":{"__isSmartRef__":true,"id":93},"_MinTextWidth":null,"_MinTextHeight":null,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":434},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1.002003004005006,"__serializedExpressions__":["_Position","textColor","distanceToDragEvent"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(141.9,8.0)","textColor":"Color.rgb(0,0,0)","distanceToDragEvent":"lively.pt(43.6,-9.0)"},"430":{"fill":null,"_BorderWidth":0,"_Fill":null,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(53.0,22.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,0,0,0)"},"431":{"style":{"__isSmartRef__":true,"id":432},"chunkOwner":{"__isSmartRef__":true,"id":429},"storedString":"Pencil","_id":"_123","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"432":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"433":{"morph":{"__isSmartRef__":true,"id":429},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"434":{"moveHorizontal":false,"centeredHorizontal":true,"moveVertical":false},"435":{"submorphs":[],"scripts":[],"id":"E196EE2C-7D74-4448-9F2F-FF610942B220","shape":{"__isSmartRef__":true,"id":436},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":18.899550000000033,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":10,"name":"Text","textChunks":[{"__isSmartRef__":true,"id":437}],"charsReplaced":"some text ","lastFindLoc":20,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":439},"_ClipMode":"visible","_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":18.899550000000033,"_MinTextHeight":null,"moved":true,"owner":{"__isSmartRef__":true,"id":93},"isBeingDragged":false,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":440},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1.002003004005006,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(18.0,358.1)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(38.0,-15.0)"},"436":{"fill":null,"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(26.9,19.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)"},"437":{"style":{"__isSmartRef__":true,"id":438},"morph":{"__isSmartRef__":true,"id":435},"chunkOwner":{"__isSmartRef__":true,"id":435},"storedString":"Fill","_id":"_124","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"438":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"439":{"morph":{"__isSmartRef__":true,"id":435},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"440":{"moveVertical":true},"441":{"submorphs":[],"scripts":[],"id":"889880DA-424A-48BE-B073-D67F836D8BAA","shape":{"__isSmartRef__":true,"id":442},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":37.861569000000024,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":10,"name":"Text1","textChunks":[{"__isSmartRef__":true,"id":443}],"charsReplaced":"FillOpacity","lastFindLoc":11,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":445},"_ClipMode":"visible","_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":37.861569000000024,"_MinTextHeight":null,"moved":true,"isBeingDragged":false,"owner":{"__isSmartRef__":true,"id":93},"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":446},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1.002003004005006,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(20.0,395.1)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(36.0,-14.0)"},"442":{"fill":null,"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(45.9,19.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)","_Fill":"Color.rgb(255,255,255)"},"443":{"style":{"__isSmartRef__":true,"id":444},"morph":{"__isSmartRef__":true,"id":441},"chunkOwner":{"__isSmartRef__":true,"id":441},"storedString":"Alpha","_id":"_125","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"444":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"445":{"morph":{"__isSmartRef__":true,"id":441},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"446":{"moveVertical":true},"447":{"submorphs":[],"scripts":[],"id":"0E07EF22-4C43-47C3-9DB5-C6DC9E92006A","shape":{"__isSmartRef__":true,"id":448},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":37.861569000000024,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":10,"name":"Text2","textChunks":[{"__isSmartRef__":true,"id":449}],"charsReplaced":"Alpha","lastFindLoc":5,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":451},"_ClipMode":"visible","_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":37.861569000000024,"_MinTextHeight":null,"previousSelection":[0,5],"moved":true,"isBeingDragged":false,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":452},"owner":{"__isSmartRef__":true,"id":93},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1.002003004005006,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(21.0,436.1)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(36.0,-14.0)"},"448":{"fill":null,"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(45.9,19.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)","_Fill":"Color.rgb(255,255,255)"},"449":{"style":{"__isSmartRef__":true,"id":450},"morph":{"__isSmartRef__":true,"id":447},"chunkOwner":{"__isSmartRef__":true,"id":447},"storedString":"Width","_id":"_126","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"450":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"451":{"morph":{"__isSmartRef__":true,"id":447},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"452":{"moveVertical":true},"453":{"submorphs":[{"__isSmartRef__":true,"id":454}],"scripts":[],"id":"6768DA02-A9B2-4A69-A7A8-41FF690EAEC4","shape":{"__isSmartRef__":true,"id":457},"droppingEnabled":true,"halosEnabled":true,"attributeConnections":[{"__isSmartRef__":true,"id":462},{"__isSmartRef__":true,"id":464},{"__isSmartRef__":true,"id":466}],"doNotSerialize":["$$value"],"doNotCopyProperties":["$$value"],"sliderExtent":0.1,"valueScale":1,"sliderKnob":{"__isSmartRef__":true,"id":454},"styleClass":["slider_background_horizontal"],"showsHalos":false,"name":"ColorSlider","eventHandler":{"__isSmartRef__":true,"id":468},"layout":{"__isSmartRef__":true,"id":469},"isBeingDragged":false,"moved":true,"owner":{"__isSmartRef__":true,"id":93},"headRevision":145293,"prevScroll":[0,0],"value":0.5,"_ClipMode":"visible","_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","midColor","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":470},"__LivelyClassName__":"lively.morphic.Slider","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(21.0,346.2)","midColor":"Color.rgb(0,0,0)","distanceToDragEvent":"lively.pt(110.0,-24.0)"},"454":{"submorphs":[],"scripts":[],"id":"27A11FAE-76A3-42A3-BE32-C9D60C9B7886","shape":{"__isSmartRef__":true,"id":455},"droppingEnabled":true,"halosEnabled":true,"draggingEnabled":true,"slider":{"__isSmartRef__":true,"id":453},"owner":{"__isSmartRef__":true,"id":453},"styleClass":["slider_horizontal"],"eventHandler":{"__isSmartRef__":true,"id":456},"isBeingDragged":false,"draggableWithoutHalo":true,"showsHalos":false,"_ClipMode":"visible","prevScroll":[0,0],"__serializedExpressions__":["_Position","hitPoint"],"__LivelyClassName__":"lively.morphic.SliderKnob","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(136.8,0.0)","hitPoint":"lively.pt(1123.0,403.0)"},"455":{"_BorderWidth":2.7760000000000002,"_BorderRadius":13,"_ClipMode":"visible","__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(30.4,7.0)","_BorderColor":"Color.rgb(146,146,146)","_Fill":"Color.rgba(235,235,235,0.6)","_Padding":"lively.rect(0,0,0,0)"},"456":{"morph":{"__isSmartRef__":true,"id":454},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"457":{"_BorderWidth":1,"_Fill":{"__isSmartRef__":true,"id":458},"_BorderRadius":6,"_Opacity":1,"_BorderStyle":"solid","_ClipMode":"visible","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(304.0,7.0)","_BorderColor":"Color.rgb(95,94,95)","_Padding":"lively.rect(0,0,0,0)"},"458":{"stops":[{"__isSmartRef__":true,"id":459},{"__isSmartRef__":true,"id":460},{"__isSmartRef__":true,"id":461}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,1,0)"},"459":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"460":{"offset":0.5,"__serializedExpressions__":["color"],"color":"Color.rgb(0,0,0)"},"461":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,0,0)"},"462":{"sourceObj":{"__isSmartRef__":true,"id":453},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":453},"targetMethodName":"adjustSliderParts","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":463},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"463":{"source":{"__isSmartRef__":true,"id":453},"target":{"__isSmartRef__":true,"id":453}},"464":{"sourceObj":{"__isSmartRef__":true,"id":453},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"setBorderFillOfTarget","converterString":"function (val) {return this.getSourceObj().getColor()}","updaterString":null,"varMapping":{"__isSmartRef__":true,"id":465},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"465":{"source":{"__isSmartRef__":true,"id":453},"target":{"__isSmartRef__":true,"id":93}},"466":{"sourceObj":{"__isSmartRef__":true,"id":453},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"updateAlphaSlider","converterString":"function (val) {\n            return this.getSourceObj().getColor()\n        }","updaterString":null,"varMapping":{"__isSmartRef__":true,"id":467},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"467":{"source":{"__isSmartRef__":true,"id":453},"target":{"__isSmartRef__":true,"id":93}},"468":{"morph":{"__isSmartRef__":true,"id":453},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"469":{"resizeWidth":true,"moveVertical":true},"470":{"updateColor":{"__isSmartRef__":true,"id":471},"getColor":{"__isSmartRef__":true,"id":475},"updateFill":{"__isSmartRef__":true,"id":479},"setKnobFill":{"__isSmartRef__":true,"id":483}},"471":{"varMapping":{"__isSmartRef__":true,"id":472},"source":"function updateColor(color) {\n    this.midColor = color;\n    this.setFill(new lively.morphic.LinearGradient(\n                [\n                    {offset: 0, color: color.mixedWith(Color.white, 0)},\n                    {offset: 0.5, color: color},\n                    {offset: 1, color: color.mixedWith(Color.black, 0)}\n                ],\n               'eastWest'\n            )); \n}","funcProperties":{"__isSmartRef__":true,"id":473},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"472":{"this":{"__isSmartRef__":true,"id":453}},"473":{"timestamp":{"__isSmartRef__":true,"id":474},"user":"undefined","tags":[]},"474":{"isSerializedDate":true,"string":"Tue Mar 13 2012 11:49:04 GMT+0100 (CET)"},"475":{"varMapping":{"__isSmartRef__":true,"id":476},"source":"function getColor() {\n    var color = this.midColor;\n    var alpha = this.get('AlphaSlider').getValue();\n    if (this.value < 0.5) {     \n        return color.mixedWith(Color.white, 1-(0.5-this.value) * 2).withA(alpha)\n    }\n    else {     \n        return color.mixedWith(Color.black, 1-(this.value-0.5) * 2).withA(alpha)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":477},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"476":{"this":{"__isSmartRef__":true,"id":453}},"477":{"timestamp":{"__isSmartRef__":true,"id":478},"user":"undefined","tags":[]},"478":{"isSerializedDate":true,"string":"Tue Mar 13 2012 11:48:39 GMT+0100 (CET)"},"479":{"varMapping":{"__isSmartRef__":true,"id":480},"source":"function updateFill(value) {\n\n}","funcProperties":{"__isSmartRef__":true,"id":481},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"480":{"this":{"__isSmartRef__":true,"id":453}},"481":{"timestamp":{"__isSmartRef__":true,"id":482},"user":"undefined","tags":[]},"482":{"isSerializedDate":true,"string":"Tue Mar 13 2012 11:48:47 GMT+0100 (CET)"},"483":{"varMapping":{"__isSmartRef__":true,"id":484},"source":"function setKnobFill() {\n            var knobStyle= new lively.morphic.LinearGradient(\n                [\n                    {offset: 0, color: Color.darkGray.mixedWith(Color.white, 0.5)},\n                    {offset: 0.3, color: Color.lightGray},\n                    {offset: 1, color: Color.white}\n                ]\n            )\n            this.sliderKnob.setFill(knobStyle);\n}","funcProperties":{"__isSmartRef__":true,"id":485},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"484":{"this":{"__isSmartRef__":true,"id":453}},"485":{"timestamp":{"__isSmartRef__":true,"id":486},"user":"undefined","tags":[]},"486":{"isSerializedDate":true,"string":"Tue Mar 13 2012 11:45:15 GMT+0100 (CET)"},"487":{"submorphs":[],"scripts":[],"id":"DCCF8FD0-3DFB-4E67-957E-BEF0EDCB36E0","shape":{"__isSmartRef__":true,"id":488},"droppingEnabled":true,"halosEnabled":true,"_ClipMode":"auto","eventHandler":{"__isSmartRef__":true,"id":489},"itemList":["solid","hidden","dotted","dashed","double","groove","ridge","inset","outset"],"selectOnMove":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":490}],"doNotSerialize":["$$selection"],"doNotCopyProperties":["$$selection"],"name":"BorderStyleList","prevScroll":[0,0],"selectedLineNo":0,"valueScale":1,"changeTriggered":true,"owner":{"__isSmartRef__":true,"id":93},"isLockOwner":false,"selection":"solid","layout":{"__isSmartRef__":true,"id":491},"isBeingDragged":false,"#startLetters":"sel","_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":492},"__LivelyClassName__":"lively.morphic.DropDownList","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(22.6,462.8)","distanceToDragEvent":"lively.pt(106.5,-16.1)"},"488":{"_BorderWidth":0,"_BorderRadius":0,"_BorderStyle":"solid","_Opacity":1,"__serializedExpressions__":["_Position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(304.0,20.0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(243,243,243)","_Padding":"lively.rect(0,0,0,0)"},"489":{"morph":{"__isSmartRef__":true,"id":487},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"490":{"sourceObj":{"__isSmartRef__":true,"id":487},"sourceAttrName":"selection","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"setBorderStyleOfTarget","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"491":{"resizeWidth":true,"moveVertical":true},"492":{"setupConnections":{"__isSmartRef__":true,"id":493}},"493":{"varMapping":{"__isSmartRef__":true,"id":494},"source":"function setupConnections() {\n    connect(this, 'selection', this.owner, 'setBorderStyleOfTarget')\n}","funcProperties":{"__isSmartRef__":true,"id":495},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"494":{"this":{"__isSmartRef__":true,"id":487}},"495":{"timestamp":{"__isSmartRef__":true,"id":496},"user":"undefined","tags":[]},"496":{"isSerializedDate":true,"string":"Tue Mar 13 2012 16:14:21 GMT+0100 (CET)"},"497":{"submorphs":[],"scripts":[],"id":"FFC74087-876A-484E-B9AE-03263B84A6BC","shape":{"__isSmartRef__":true,"id":498},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":false,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":37.861569000000024,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":10,"name":"Text3","textChunks":[{"__isSmartRef__":true,"id":499}],"charsReplaced":"Alpha","lastFindLoc":5,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":501},"_ClipMode":"visible","_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":37.861569000000024,"_MinTextHeight":null,"previousSelection":[0,5],"moved":true,"isBeingDragged":false,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":502},"owner":{"__isSmartRef__":true,"id":93},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1.0100552207170068,"__serializedExpressions__":["_Position","textColor","_Padding","distanceToDragEvent"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(16.0,483.6)","textColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(5,5,0,0)","distanceToDragEvent":"lively.pt(33.1,-9.7)"},"498":{"fill":null,"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(45.9,19.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(4,2,0,0)","_Fill":"Color.rgb(255,255,255)"},"499":{"style":{"__isSmartRef__":true,"id":500},"chunkOwner":{"__isSmartRef__":true,"id":497},"storedString":"Style","_id":"_127","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"500":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"501":{"morph":{"__isSmartRef__":true,"id":497},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"502":{"moveVertical":true},"503":{"submorphs":[{"__isSmartRef__":true,"id":504}],"scripts":[],"id":"108C4B42-624C-4F9C-BBD9-C488A7976ECA","shape":{"__isSmartRef__":true,"id":511},"droppingEnabled":true,"halosEnabled":true,"attributeConnections":[{"__isSmartRef__":true,"id":516},{"__isSmartRef__":true,"id":518}],"doNotSerialize":["$$value"],"doNotCopyProperties":["$$value"],"sliderExtent":0.1,"valueScale":20,"sliderKnob":{"__isSmartRef__":true,"id":504},"styleClass":["slider_background_horizontal"],"showsHalos":false,"name":"WidthSlider","eventHandler":{"__isSmartRef__":true,"id":520},"layout":{"__isSmartRef__":true,"id":521},"_ClipMode":"visible","owner":{"__isSmartRef__":true,"id":93},"isBeingDragged":false,"value":0,"_Rotation":0,"_Scale":1.0080361203307935,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":522},"__LivelyClassName__":"lively.morphic.Slider","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(20.4,423.4)","distanceToDragEvent":"lively.pt(208.0,-15.0)"},"504":{"submorphs":[],"scripts":[],"id":"739D71E1-6C80-4C4B-AA08-155FC0469AE7","shape":{"__isSmartRef__":true,"id":505},"droppingEnabled":true,"halosEnabled":true,"draggingEnabled":true,"slider":{"__isSmartRef__":true,"id":503},"owner":{"__isSmartRef__":true,"id":503},"styleClass":["slider_horizontal"],"eventHandler":{"__isSmartRef__":true,"id":510},"_ClipMode":"visible","isBeingDragged":false,"__serializedExpressions__":["_Position","hitPoint"],"__LivelyClassName__":"lively.morphic.SliderKnob","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,0.0)","hitPoint":"lively.pt(1322.0,531.0)"},"505":{"_BorderWidth":1,"_Fill":{"__isSmartRef__":true,"id":506},"_BorderRadius":6,"__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(30.4,7.0)","_BorderColor":"Color.rgb(102,102,102)","_Padding":"lively.rect(0,0,0,0)"},"506":{"stops":[{"__isSmartRef__":true,"id":507},{"__isSmartRef__":true,"id":508},{"__isSmartRef__":true,"id":509}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"507":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(196,211,221)"},"508":{"offset":0.5,"__serializedExpressions__":["color"],"color":"Color.rgb(137,167,187)"},"509":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(96,130,153)"},"510":{"morph":{"__isSmartRef__":true,"id":504},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"511":{"_BorderWidth":1,"_Fill":{"__isSmartRef__":true,"id":512},"_BorderRadius":6,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(304.0,7.0)","_BorderColor":"Color.rgb(192,192,192)","_Padding":"lively.rect(0,0,0,0)"},"512":{"stops":[{"__isSmartRef__":true,"id":513},{"__isSmartRef__":true,"id":514},{"__isSmartRef__":true,"id":515}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"513":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(204,204,204)"},"514":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(240,240,240)"},"515":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(245,245,245)"},"516":{"sourceObj":{"__isSmartRef__":true,"id":503},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"setBorderWidthOfTarget","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":517},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"517":{"source":{"__isSmartRef__":true,"id":503},"target":{"__isSmartRef__":true,"id":93}},"518":{"sourceObj":{"__isSmartRef__":true,"id":503},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":503},"targetMethodName":"adjustSliderParts","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":519},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"519":{"source":{"__isSmartRef__":true,"id":503},"target":{"__isSmartRef__":true,"id":503}},"520":{"morph":{"__isSmartRef__":true,"id":503},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"521":{},"522":{"setupConnections":{"__isSmartRef__":true,"id":523}},"523":{"varMapping":{"__isSmartRef__":true,"id":524},"source":"function setupConnections() {\n    this.attributeConnections.invoke('disconnect')\n    connect(this, 'value', this.owner, 'setBorderWidthOfTarget', {});\n    connect(this, \"value\", this, \"adjustSliderParts\", {});\n}","funcProperties":{"__isSmartRef__":true,"id":525},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"524":{"this":{"__isSmartRef__":true,"id":503}},"525":{"timestamp":{"__isSmartRef__":true,"id":526},"user":"athomschke","tags":[]},"526":{"isSerializedDate":true,"string":"Fri May 18 2012 14:12:32 GMT+0200 (CEST)"},"527":{"_ClipMode":"visible","_BorderWidth":1,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(342.0,518.4)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(146,146,146)","_Fill":"Color.rgb(255,255,255)"},"528":{"morph":{"__isSmartRef__":true,"id":93},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"529":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":530},"derivationIds":[null,"3BFE1379-1F04-4D67-9EF7-5B4FBFDBA664","5D6C7189-578D-43F4-9CD7-1147488CC39A","B94896ED-7945-451C-A272-EA37CA082437","79E0E27D-35CD-4A03-B953-6F312765B235","D910A585-E632-4BF3-B5E2-3C8C154AE3CF","663F24FF-769C-4449-B930-428BC331F801","78E6C55C-74A8-40BE-8945-601B8A6A8DC5","8B22D49A-3C38-492E-BC57-A51B77BAC1AF","0CDF2390-AF1D-4F41-8CFD-A48C6F218004","541AD507-0755-4227-8E55-0AD0063413B0","96D6CBE3-A7CC-4B98-9085-1F8AC9094FBB","E7ADEEC3-05EA-4DAA-9123-4115A65E19D7","CEF69D58-911C-468E-8373-CFC838CA8ABB","DE4FC545-B285-4F44-923B-C98E6184A1E0","C9450FA0-D866-4133-8DD9-5BD20D41B1FE","DD1B8752-C7BD-4452-B9C8-94D3F0F07CFF","5728FB50-ECBE-41F8-9A2B-E303875FB2A9","50059C5E-6E8B-4386-B9DD-FC2FEC6A867D","65DBB414-A81E-4413-9D82-9F80F0D373F7","C170EE35-98E8-445C-B2E9-EA3968AC312A","58202EAC-1B7D-4B20-BEF0-DEB4A086E0B9"],"id":"D478DC86-5731-4215-B687-AAB4DA6B26A3","eventHandler":{"__isSmartRef__":true,"id":531},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":532},"chooserWidget":{"__isSmartRef__":true,"id":93},"owner":null,"attributeConnections":[{"__isSmartRef__":true,"id":538}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"layout":{"__isSmartRef__":true,"id":540},"isLockOwner":false,"showsHalos":false,"name":"ColorButton","colorSlider":{"__isSmartRef__":true,"id":541},"selectable":false,"__serializedExpressions__":["_Position","normalFill","lighterFill","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":580},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(120.5,396.0)","normalFill":"Color.rgb(121,121,121)","lighterFill":"Color.rgb(230,230,230)","distanceToDragEvent":"lively.pt(74.5,-9.0)"},"530":{"_ClipMode":"visible","_BorderWidth":1,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,30.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(102,102,102)","_Fill":"Color.rgb(160,0,152)"},"531":{"morph":{"__isSmartRef__":true,"id":529},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"532":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":533},"derivationIds":[null,"409AFB2A-7C17-44E5-973E-DD024B4CD5F8","D5F9CE00-5FA6-4908-9AB4-0A7E3C77A700","BE9078C1-0F94-4812-9E6A-5FEBAF5CD444","70AE98EB-20F3-4475-838A-2B496B86064E","FE986E29-AA1F-40D8-A74A-E77F7552A745","BF036DBC-71B7-4D1C-8207-AB523600C020"],"id":"245B31E3-A914-450B-999C-72F26243A5F7","_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":534}],"eventHandler":{"__isSmartRef__":true,"id":536},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"_ClipMode":"hidden","fixedWidth":true,"fixedHeight":true,"allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"_MaxTextWidth":100,"_MinTextWidth":100,"_MaxTextHeight":null,"_MinTextHeight":null,"evalEnabled":false,"owner":null,"isLabel":true,"_HandStyle":"default","_Align":"center","eventsAreIgnored":true,"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"layout":{"__isSmartRef__":true,"id":537},"isLockOwner":false,"showsHalos":false,"__serializedExpressions__":["_Position","_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(0.0,7.0)","_TextColor":"Color.rgb(26,41,127)"},"533":{"_ClipMode":"hidden","_BorderWidth":0,"_Fill":null,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(100.0,16.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"534":{"style":{"__isSmartRef__":true,"id":535},"chunkOwner":{"__isSmartRef__":true,"id":532},"storedString":"Apply","_id":"_128","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"535":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"536":{"morph":{"__isSmartRef__":true,"id":532},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"537":{"centeredVertical":true,"centeredHorizontal":true,"moveVertical":false},"538":{"sourceObj":{"__isSmartRef__":true,"id":529},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":529},"targetMethodName":"updateBorderFillOfTarget","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":539},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"539":{"source":{"__isSmartRef__":true,"id":529},"target":{"__isSmartRef__":true,"id":529}},"540":{"adjustForNewBounds":true,"centeredHorizontal":true,"moveVertical":true},"541":{"submorphs":[{"__isSmartRef__":true,"id":542}],"scripts":[],"shape":{"__isSmartRef__":true,"id":554},"derivationIds":[null,"364359B5-1B95-4042-A1C6-CC5B778FBAB2","E23C63BE-652E-40F7-8097-3DF7BED48B6C","A6A49117-8DAC-4A69-AF96-BA716A6C97EB","C0B5F763-CA00-4443-B9CD-2CA95B36429B","77B2DB00-1E0D-4B3E-B3C9-202137BF3133","942AB4D6-4180-4618-BFAE-FA77436A07EA","39BFE677-6965-447C-8920-74E41CF1199A","F945FF1B-1922-4BC1-8029-435B2E295162","7DCD9012-2605-495C-AD57-1C70B8F8EF89","755F7C9A-3821-4A3E-9BA7-CF67F715C9A9","576830D2-EAA2-4CE3-9267-49C3069C041B","615B5236-3080-4512-BD82-4E248EF48B72","7F3C54D5-8B7C-4B5D-AA97-62485D67B23F","3042EF8C-3796-43E2-92DB-3F6C9D9A479E","59A3F72B-B84A-4E6C-A251-AD4EA34C0BAD","66A534B9-6DCD-4F91-B586-CF1BA826557D","F6145A65-C9F9-4473-9FCA-0CB8760CFC99","80031AFD-1DED-4106-9F99-32C316B8A5DF","4D1F7850-8645-4D46-A6D8-D3B824D9FFF7","CA9EE9CE-6106-4B91-AB54-593C5557A152","DE940626-E2D2-40C4-A8DF-BB608552A705"],"id":"F64E7757-3E90-485B-BD5C-29DD01C7EA38","eventHandler":{"__isSmartRef__":true,"id":559},"droppingEnabled":true,"halosEnabled":true,"attributeConnections":[{"__isSmartRef__":true,"id":560},{"__isSmartRef__":true,"id":562},{"__isSmartRef__":true,"id":564}],"doNotSerialize":["$$value"],"doNotCopyProperties":["$$value"],"sliderExtent":0.1,"valueScale":1,"sliderKnob":{"__isSmartRef__":true,"id":542},"styleClass":["slider_background_horizontal"],"owner":null,"showsHalos":false,"knobRatio":3,"isLockOwner":false,"layout":{"__isSmartRef__":true,"id":566},"isBeingDragged":false,"prevScroll":[0,0],"name":"ColorSlider","colorChooser":{"__isSmartRef__":true,"id":93},"value":0.5,"__serializedExpressions__":["_Position","distanceToDragEvent","midColor"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":567},"__LivelyClassName__":"lively.morphic.Slider","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(22.0,332.0)","distanceToDragEvent":"lively.pt(168.0,-10.0)","midColor":"Color.rgb(0,151,0)"},"542":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":543},"derivationIds":[null,"9C2384F5-91D1-4379-B620-DEA9D7F7CE18","F00A4628-8174-4DEC-BB3B-6775B129BB7D","B191BDB8-E5F9-4720-8E66-90DDF52C8722","2283BE9C-5ADC-489A-9A0B-D491138EFB8D","6FA7B465-1E0D-4582-8C58-2927A2EEDA4E","CCE7CD6F-56AF-48A3-BC41-8B9690F3B8DB","6B87CAB8-5613-48A2-89FC-1A97E946D601","AD2740EA-5C95-4785-A9E9-3E1574E4261A","A6A80ED9-FC6C-436C-9764-29F30AC73678","FF701D0F-6EA7-498A-8437-C9258F0C538A","90F2E11F-E3D9-4CF7-AB93-2D5B9660186B","0E2A0CA4-B53D-438D-A05C-5A10C6F94DC2","C73C8D0E-EEA3-40D6-9357-B1DA8D0FEE24","BC14E452-06DB-453A-987A-68CD11F501C7","6D3C62D7-7739-4DBB-91F4-20C0A3AFE16B","EDAF8BDF-C972-477A-9FD0-4DADB3466F4B","F269ECC8-D226-4173-AD4C-A263E89F78B4","23FBB672-4FD8-465D-A75B-C7E7F55628AD","0F556F96-3FEE-45F8-A9D7-786A9847D672","FACAD732-28A7-46C9-85CF-E2836B2E9E5B","E5B62663-9402-4137-9CE6-C294AB0F70C9"],"id":"46D79328-A9D0-4939-A9B2-C568EC3B6108","eventHandler":{"__isSmartRef__":true,"id":544},"droppingEnabled":true,"halosEnabled":true,"draggingEnabled":true,"slider":{"__isSmartRef__":true,"id":541},"owner":{"__isSmartRef__":true,"id":541},"styleClass":["slider_horizontal"],"isBeingDragged":false,"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"draggableWithoutHalo":true,"showsHalos":false,"isLockOwner":false,"prevScroll":[0,0],"selectable":false,"__serializedExpressions__":["_Position","hitPoint"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":545},"__LivelyClassName__":"lively.morphic.SliderKnob","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(133.7,0.0)","hitPoint":"lively.pt(462.0,404.0)"},"543":{"_ClipMode":"visible","_BorderWidth":2.7760000000000002,"_BorderRadius":13,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(29.7,6.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(146,146,146)","_Fill":"Color.rgba(235,235,235,0.6)"},"544":{"morph":{"__isSmartRef__":true,"id":542},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"545":{"onrestore":{"__isSmartRef__":true,"id":546}},"546":{"varMapping":{"__isSmartRef__":true,"id":547},"source":"function onrestore() {\n    $super();\n    this.setFill(Color.rgba(235,235,235,0.6))\n}","funcProperties":{"__isSmartRef__":true,"id":552},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"547":{"this":{"__isSmartRef__":true,"id":542},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":548}},"548":{"$super":{"__isSmartRef__":true,"id":549}},"549":{"varMapping":{"__isSmartRef__":true,"id":550},"source":"function () {\n                try {\n                    return obj.constructor.prototype[name].apply(obj, arguments)\n                } catch(e) {\n                    alert('Error in $super call: ' + e + '\\n' + e.stack);\n                    return null;\n                }\n            }","funcProperties":{"__isSmartRef__":true,"id":551},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"550":{"obj":{"__isSmartRef__":true,"id":542},"name":"onrestore"},"551":{},"552":{"timestamp":{"__isSmartRef__":true,"id":553},"user":"athomschke","tags":[]},"553":{"isSerializedDate":true,"string":"Wed Feb 22 2012 10:19:48 GMT+0100 (CET)"},"554":{"_ClipMode":"visible","_BorderWidth":1,"_Fill":{"__isSmartRef__":true,"id":555},"_BorderRadius":6,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(297.0,6.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(95,94,95)"},"555":{"stops":[{"__isSmartRef__":true,"id":556},{"__isSmartRef__":true,"id":557},{"__isSmartRef__":true,"id":558}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,1,0)"},"556":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(255,255,255)"},"557":{"offset":0.5,"__serializedExpressions__":["color"],"color":"Color.rgb(0,151,0)"},"558":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(0,0,0)"},"559":{"morph":{"__isSmartRef__":true,"id":541},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"560":{"sourceObj":{"__isSmartRef__":true,"id":541},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":541},"targetMethodName":"adjustSliderParts","converterString":null,"updaterString":null,"varMapping":{"__isSmartRef__":true,"id":561},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"561":{"source":{"__isSmartRef__":true,"id":541},"target":{"__isSmartRef__":true,"id":541}},"562":{"sourceObj":{"__isSmartRef__":true,"id":541},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"updateAlphaSlider","converterString":"function (val) {return this.getSourceObj().getColor()}","updaterString":null,"varMapping":{"__isSmartRef__":true,"id":563},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"563":{"source":{"__isSmartRef__":true,"id":541},"target":{"__isSmartRef__":true,"id":93}},"564":{"sourceObj":{"__isSmartRef__":true,"id":541},"sourceAttrName":"value","targetObj":{"__isSmartRef__":true,"id":93},"targetMethodName":"updateBorderFillOfTarget","converterString":"function (val) {return this.getSourceObj().getColor()}","updaterString":null,"varMapping":{"__isSmartRef__":true,"id":565},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"565":{"source":{"__isSmartRef__":true,"id":541},"target":{"__isSmartRef__":true,"id":93}},"566":{"resizeWidth":true,"moveVertical":true},"567":{"getColor":{"__isSmartRef__":true,"id":568},"updateColor":{"__isSmartRef__":true,"id":572},"updateFill":{"__isSmartRef__":true,"id":576}},"568":{"varMapping":{"__isSmartRef__":true,"id":569},"source":"function getColor() {\n    var color = this.midColor;\n    var alpha = this.get('AlphaSlider').getValue();\n    if (this.value < 0.5) {     \n        return color.mixedWith(Color.white, 1-(0.5-this.value) * 2).withA(alpha)\n    }\n    else {     \n        return color.mixedWith(Color.black, 1-(this.value-0.5) * 2).withA(alpha)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":570},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"569":{"this":{"__isSmartRef__":true,"id":541}},"570":{"timestamp":{"__isSmartRef__":true,"id":571},"user":"huberthesse","tags":[]},"571":{"isSerializedDate":true,"string":"Tue Feb 28 2012 17:30:25 GMT+0100 (CET)"},"572":{"varMapping":{"__isSmartRef__":true,"id":573},"source":"function updateColor(color) {\n    this.midColor = color;\n    this.setFill(new lively.morphic.LinearGradient(\n                [\n                    {offset: 0, color: color.mixedWith(Color.white, 0)},\n                    {offset: 0.5, color: color},\n                    {offset: 1, color: color.mixedWith(Color.black, 0)}\n                ],\n               'eastWest'\n            )); \n}","funcProperties":{"__isSmartRef__":true,"id":574},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"573":{"this":{"__isSmartRef__":true,"id":541}},"574":{"timestamp":{"__isSmartRef__":true,"id":575},"user":"huberthesse","tags":[]},"575":{"isSerializedDate":true,"string":"Tue Feb 28 2012 17:57:12 GMT+0100 (CET)"},"576":{"varMapping":{"__isSmartRef__":true,"id":577},"source":"function updateFill() {\n    //overwrite\n}","funcProperties":{"__isSmartRef__":true,"id":578},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"577":{"this":{"__isSmartRef__":true,"id":541}},"578":{"timestamp":{"__isSmartRef__":true,"id":579},"user":"undefined","tags":[]},"579":{"isSerializedDate":true,"string":"Fri Mar 09 2012 12:39:43 GMT+0100 (CET)"},"580":{"onrestore":{"__isSmartRef__":true,"id":581},"updateColor":{"__isSmartRef__":true,"id":589},"updateBorderFillOfTarget":{"__isSmartRef__":true,"id":593}},"581":{"varMapping":{"__isSmartRef__":true,"id":582},"source":"function onrestore() {\n    $super();\n    this.applyStyle({borderRadius: 0})\n}","funcProperties":{"__isSmartRef__":true,"id":587},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"582":{"this":{"__isSmartRef__":true,"id":529},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":583}},"583":{"$super":{"__isSmartRef__":true,"id":584}},"584":{"varMapping":{"__isSmartRef__":true,"id":585},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":586},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"585":{"obj":{"__isSmartRef__":true,"id":529},"name":"onrestore"},"586":{},"587":{"timestamp":{"__isSmartRef__":true,"id":588},"user":"huberthesse","tags":[]},"588":{"isSerializedDate":true,"string":"Wed Feb 22 2012 14:22:27 GMT+0100 (CET)"},"589":{"varMapping":{"__isSmartRef__":true,"id":590},"source":"function updateColor(color) {\n    this.setFill(color);\n    this.normalFill = this.getFill();\n    this.lighterFill = Color.lightGray\n}","funcProperties":{"__isSmartRef__":true,"id":591},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"590":{"this":{"__isSmartRef__":true,"id":529}},"591":{"timestamp":{"__isSmartRef__":true,"id":592},"user":"huberthesse","tags":[]},"592":{"isSerializedDate":true,"string":"Tue Feb 28 2012 18:04:43 GMT+0100 (CET)"},"593":{"varMapping":{"__isSmartRef__":true,"id":594},"source":"function updateBorderFillOfTarget() {\n    this.getFill()\n    $world.currentHaloTarget && $world.currentHaloTarget.setBorderColor(this.normalFill) \n}","funcProperties":{"__isSmartRef__":true,"id":595},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"594":{"this":{"__isSmartRef__":true,"id":529}},"595":{"timestamp":{"__isSmartRef__":true,"id":596},"user":"undefined","tags":[]},"596":{"isSerializedDate":true,"string":"Fri Mar 09 2012 12:33:33 GMT+0100 (CET)"},"597":{"adjustForNewBounds":true,"moveVertical":true},"598":{"lastStart":{"__isSmartRef__":true,"id":599},"identifier":3753021798,"pageY":475,"screenX":459,"clientX":645,"clientY":439,"screenY":338,"pageX":645,"__serializedExpressions__":["touchStart","touchStartInClientCoordinates"],"touchStart":"lively.pt(645.0,475.0)","touchStartInClientCoordinates":"lively.pt(645.0,439.0)"},"599":{"isSerializedDate":true,"string":"Wed Feb 29 2012 18:19:15 GMT+0100 (CET)"},"600":{"submorphs":[{"__isSmartRef__":true,"id":601},{"__isSmartRef__":true,"id":624}],"scripts":[],"id":"38B24D22-B706-4604-83FE-ABB747BBD1D3","shape":{"__isSmartRef__":true,"id":663},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"ChatPane","eventHandler":{"__isSmartRef__":true,"id":664},"partTests":{"__isSmartRef__":true,"id":665},"_ClipMode":"visible","owner":{"__isSmartRef__":true,"id":0},"layout":{"__isSmartRef__":true,"id":670},"prevScroll":[0,0],"whiteboard":{"__isSmartRef__":true,"id":54},"pencilStyler":{"__isSmartRef__":true,"id":93},"isCopyMorphRef":true,"morphRefId":2,"commands":{"__isSmartRef__":true,"id":671},"userName":"","visible":false,"_Visible":false,"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":672},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(209.0,-16.0)"},"601":{"submorphs":[],"scripts":[],"id":"BB61FCA1-6CE1-43FF-AA8B-4A1F26E16598","shape":{"__isSmartRef__":true,"id":602},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":true,"allowsInput":true,"_OverflowMode":"visible","_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_MaxTextWidth":310.6757780000002,"_MaxTextHeight":null,"showsHalos":false,"_FontSize":14,"name":"InputField","textChunks":[{"__isSmartRef__":true,"id":603}],"charsReplaced":"","lastFindLoc":0,"prevScroll":[0,0],"eventHandler":{"__isSmartRef__":true,"id":605},"_WhiteSpaceHandling":"pre-wrap","_ClipMode":"visible","moved":true,"owner":{"__isSmartRef__":true,"id":600},"_MinTextWidth":310.6757780000002,"_MinTextHeight":null,"layout":{"__isSmartRef__":true,"id":606},"savedTextString":"","isBeingDragged":false,"history":[],"historyPosition":0,"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","textColor","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":607},"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(2.0,554.0)","textColor":"Color.rgb(0,0,0)","distanceToDragEvent":"lively.pt(216.0,-13.0)"},"602":{"fill":null,"_BorderWidth":1.1840000000000002,"_BorderRadius":6.660000000000001,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["_Position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(328.0,24.4)","_BorderColor":"Color.rgb(192,192,192)","_Padding":"lively.rect(0,0,0,0)"},"603":{"style":{"__isSmartRef__":true,"id":604},"chunkOwner":{"__isSmartRef__":true,"id":601},"_id":"_21501","storedString":"","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"604":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"605":{"morph":{"__isSmartRef__":true,"id":601},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"606":{"resizeWidth":true,"moveVertical":true},"607":{"onrestore":{"__isSmartRef__":true,"id":608},"onKeyDown":{"__isSmartRef__":true,"id":616}},"608":{"varMapping":{"__isSmartRef__":true,"id":609},"source":"function onrestore() {\n    this.history = [];\n    this.historyPosition = 0;\n}","funcProperties":{"__isSmartRef__":true,"id":614},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"609":{"this":{"__isSmartRef__":true,"id":601},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":610}},"610":{"$super":{"__isSmartRef__":true,"id":611}},"611":{"varMapping":{"__isSmartRef__":true,"id":612},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world) \n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":613},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"612":{"obj":{"__isSmartRef__":true,"id":601},"name":"onrestore"},"613":{},"614":{"timestamp":{"__isSmartRef__":true,"id":615},"user":"conradcalmez","tags":[]},"615":{"isSerializedDate":true,"string":"Fri Apr 27 2012 20:59:12 GMT+0200 (CEST)"},"616":{"varMapping":{"__isSmartRef__":true,"id":617},"source":"function onKeyDown(evt) {\n    //$super(evt);\n    var text = this.getTextString();\n    if (evt.keyCode === 13 && text) {\n        this.history.push(text);\n        this.historyPosition = this.history.length;\n        if (text.slice(0,1) === \"/\") {\n            this.owner.processCommand(text);\n        } else {\n            this.owner.sendMessage(text);\n        }\n        this.setTextString(\"\");\n    } else if (evt.keyCode === 38) {\n        this.historyPosition--;\n        if (this.historyPosition >= 0) {\n            this.setTextString(this.history[this.historyPosition]);\n        } else {\n            this.historyPosition = 0;\n        }\n    } else if (evt.keyCode === 40) {\n        this.historyPosition++;\n        if (this.historyPosition < this.history.length) {\n            this.setTextString(this.history[this.historyPosition]);\n        } else if (this.historyPosition == this.history.length) {\n            this.setTextString(\"\");\n        } else {\n            this.historyPosition = this.history.length;\n        }\n    };\n    //evt.stop();\n}","funcProperties":{"__isSmartRef__":true,"id":622},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"617":{"this":{"__isSmartRef__":true,"id":601},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":618}},"618":{"$super":{"__isSmartRef__":true,"id":619}},"619":{"varMapping":{"__isSmartRef__":true,"id":620},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world) \n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":621},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"620":{"obj":{"__isSmartRef__":true,"id":601},"name":"onKeyDown"},"621":{},"622":{"timestamp":{"__isSmartRef__":true,"id":623},"user":"conradcalmez","tags":[]},"623":{"isSerializedDate":true,"string":"Mon Apr 30 2012 08:32:02 GMT+0200 (CEST)"},"624":{"submorphs":[{"__isSmartRef__":true,"id":625}],"scripts":[],"id":"31A25F9D-D7CE-4115-AE58-A6CAEF09AA53","shape":{"__isSmartRef__":true,"id":643},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"ConsolePane","eventHandler":{"__isSmartRef__":true,"id":644},"partTests":{"__isSmartRef__":true,"id":645},"_ClipMode":"auto","owner":{"__isSmartRef__":true,"id":600},"isBeingDragged":false,"prevScroll":[0,0],"#startLetters":"setRich","_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":650},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(1.2,1.0)"},"625":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":626},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":627}],"eventHandler":{"__isSmartRef__":true,"id":629},"_ClipMode":"visible","id":"0C69C8B8-32BF-4085-BAB5-9A0DB933E524","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":true,"_HandStyle":"default","allowInput":true,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"name":"TextPane","eventsAreDisabled":true,"_PointerEvents":"none","owner":{"__isSmartRef__":true,"id":624},"lastSearchString":"","lastSearchIndex":0,"searchHighlights":[],"__serializedExpressions__":["_TextColor"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":630},"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(64,64,64)"},"626":{"_BorderWidth":1,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(326.0,548.0)","_Padding":"lively.rect(4,2,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(0,0,0)"},"627":{"style":{"__isSmartRef__":true,"id":628},"chunkOwner":{"__isSmartRef__":true,"id":625},"_id":"_4371","storedString":"","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"628":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"629":{"morph":{"__isSmartRef__":true,"id":625},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"630":{"onrestore":{"__isSmartRef__":true,"id":631},"reset":{"__isSmartRef__":true,"id":639}},"631":{"varMapping":{"__isSmartRef__":true,"id":632},"source":"function onrestore() {\n    this.reset();\n}","funcProperties":{"__isSmartRef__":true,"id":637},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"632":{"this":{"__isSmartRef__":true,"id":625},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":633}},"633":{"$super":{"__isSmartRef__":true,"id":634}},"634":{"varMapping":{"__isSmartRef__":true,"id":635},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":636},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"635":{"obj":{"__isSmartRef__":true,"id":625},"name":"onrestore"},"636":{},"637":{"timestamp":{"__isSmartRef__":true,"id":638},"user":"conradcalmez","tags":[]},"638":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:53:48 GMT+0100 (CET)"},"639":{"varMapping":{"__isSmartRef__":true,"id":640},"source":"function reset() {\n    var transparent = new Color.rgba(0, 0, 0, 0);\n    this.disableEvents();\n    this.setFill(transparent);\n    this.setBorderColor(transparent);\n    this.setExtent(pt(326,548));\n}","funcProperties":{"__isSmartRef__":true,"id":641},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"640":{"this":{"__isSmartRef__":true,"id":625}},"641":{"timestamp":{"__isSmartRef__":true,"id":642},"user":"conradcalmez","tags":[]},"642":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:53:36 GMT+0100 (CET)"},"643":{"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(330.0,550.0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(235,235,235)","_Padding":"lively.rect(0,0,0,0)"},"644":{"morph":{"__isSmartRef__":true,"id":624},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"645":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":646}},"646":{"test01IsMorph":{"__isSmartRef__":true,"id":647}},"647":{"varMapping":{"__isSmartRef__":true,"id":648},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":649},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"648":{"this":{"__isSmartRef__":true,"id":645}},"649":{},"650":{"onrestore":{"__isSmartRef__":true,"id":651},"reset":{"__isSmartRef__":true,"id":659}},"651":{"varMapping":{"__isSmartRef__":true,"id":652},"source":"function onrestore() {\n    this.reset();\n}","funcProperties":{"__isSmartRef__":true,"id":657},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"652":{"this":{"__isSmartRef__":true,"id":624},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":653}},"653":{"$super":{"__isSmartRef__":true,"id":654}},"654":{"varMapping":{"__isSmartRef__":true,"id":655},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":656},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"655":{"obj":{"__isSmartRef__":true,"id":624},"name":"onrestore"},"656":{},"657":{"timestamp":{"__isSmartRef__":true,"id":658},"user":"conradcalmez","tags":[]},"658":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:54:16 GMT+0100 (CET)"},"659":{"varMapping":{"__isSmartRef__":true,"id":660},"source":"function reset() {\n    this.setClipMode(\"auto\");\n    this.get(\"TextPane\").reset();\n}","funcProperties":{"__isSmartRef__":true,"id":661},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"660":{"this":{"__isSmartRef__":true,"id":624}},"661":{"timestamp":{"__isSmartRef__":true,"id":662},"user":"conradcalmez","tags":[]},"662":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:54:33 GMT+0100 (CET)"},"663":{"_BorderWidth":1,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(332.6,582.1)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(255,255,255)","_Padding":"lively.rect(0,0,0,0)"},"664":{"morph":{"__isSmartRef__":true,"id":600},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"665":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":666}},"666":{"test01IsMorph":{"__isSmartRef__":true,"id":667}},"667":{"varMapping":{"__isSmartRef__":true,"id":668},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":669},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"668":{"this":{"__isSmartRef__":true,"id":665}},"669":{},"670":{"adjustForNewBounds":true,"moveHorizontal":true,"resizeWidth":false,"resizeHeight":true},"671":{},"672":{"onrestore":{"__isSmartRef__":true,"id":673},"hide":{"__isSmartRef__":true,"id":681},"initializeCommands":{"__isSmartRef__":true,"id":685},"setupConnections":{"__isSmartRef__":true,"id":689},"reset":{"__isSmartRef__":true,"id":693},"toggle":{"__isSmartRef__":true,"id":697},"show":{"__isSmartRef__":true,"id":701},"showMessage":{"__isSmartRef__":true,"id":709},"sendMessage":{"__isSmartRef__":true,"id":713},"processCommand":{"__isSmartRef__":true,"id":717},"callCommand":{"__isSmartRef__":true,"id":721},"createChatListeners":{"__isSmartRef__":true,"id":725}},"673":{"varMapping":{"__isSmartRef__":true,"id":674},"source":"function onrestore() {\n    this.setExtent(pt(332.6,582.1));\n    this.visible = false;\n    this.hide();\n    this.initializeCommands();\n}","funcProperties":{"__isSmartRef__":true,"id":679},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"674":{"this":{"__isSmartRef__":true,"id":600},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":675}},"675":{"$super":{"__isSmartRef__":true,"id":676}},"676":{"varMapping":{"__isSmartRef__":true,"id":677},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world) \n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":678},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"677":{"obj":{"__isSmartRef__":true,"id":600},"name":"onrestore"},"678":{},"679":{"timestamp":{"__isSmartRef__":true,"id":680},"user":"conradcalmez","tags":[]},"680":{"isSerializedDate":true,"string":"Mon May 07 2012 20:14:36 GMT+0200 (CEST)"},"681":{"varMapping":{"__isSmartRef__":true,"id":682},"source":"function hide() {\n    this.setPosition(pt(0, 0));\n    this.setVisible(false);\n}","funcProperties":{"__isSmartRef__":true,"id":683},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"682":{"this":{"__isSmartRef__":true,"id":600}},"683":{"timestamp":{"__isSmartRef__":true,"id":684},"user":"conradcalmez","tags":[]},"684":{"isSerializedDate":true,"string":"Wed May 02 2012 15:40:19 GMT+0200 (CEST)"},"685":{"varMapping":{"__isSmartRef__":true,"id":686},"source":"function initializeCommands() {\n    this.commands = {\n        'nick': function (name) {\n            this.whiteboard.setUserName(name);\n            this.showMessage(\"changed nick to \" + name);\n        },\n        'names': function () {\n            this.whiteboard.getConnectedUserNames();\n        },\n        'channel': function (channel) {\n            this.whiteboard.setChannel(channel);\n        },\n        'chan': this.commands['channel'],\n        'clear': function () {\n            this.whiteboard.clear();\n        },\n        'activate': function () {\n            this.whiteboard.activate();\n        },\n        'a': this.commands['activate'],\n        'deactivate': function () {\n            this.whiteboard.deactivate();\n        },\n        'd': this.commands['deactivate'],\n        'color': function (r, g, b, a) {\n            this.whiteboard.setColor(Color.rgba(r, g, b, a));\n        },\n        'c': this.commands['color'],\n        'pencil': function (size) {\n            this.whiteboard.setPencilSize(size);\n        },\n        'p': this.commands['pencil'],\n        'pencilstyler': function () {\n            this.pencilStyler.toggle();\n        },\n        'ps': this.commands['pencilstyler'],\n        'chat': function () {\n            this.toggle();\n        },\n        'help': function () {\n            var helpText = \"HELP :: (available commands)\\n\";\n            helpText += \"----------------------------\\n\\n\"\n            helpText += \"/help\\n :: prints this help text\\n\"\n            helpText += \"/nick <nickname>\\n :: sets your nick name\\n\"\n            helpText += \"/names\\n :: shows the users in your channel\\n\"\n            helpText += \"/chan <channel>\\n :: sets the channel you are in\\n\"\n            helpText += \"/clear\\n :: clears your whiteboard\\n\"\n            helpText += \"/activate\\n :: takes your whiteboard online\\n\"\n            helpText += \"/deactivate\\n :: takes your whiteboard offline\\n\"\n            helpText += \"/color <r> <g> <b> <a>\\n :: sets the color of your pencil\\n\"\n            helpText += \"/pencil <size>\\n :: sets the size of your pencil in pixels\\n\"\n            helpText += \"/pencilstyler\\n :: toggles the pencil styler\\n\"\n            helpText += \"/chat\\n :: toggles the chat pane\\n\"\n            this.showMessage(helpText);\n        },\n        'h': this.commands['help']\n    };\n}","funcProperties":{"__isSmartRef__":true,"id":687},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"686":{"this":{"__isSmartRef__":true,"id":600}},"687":{"timestamp":{"__isSmartRef__":true,"id":688},"user":"conradcalmez","tags":[]},"688":{"isSerializedDate":true,"string":"Thu Nov 08 2012 18:45:27 GMT+0100 (CET)"},"689":{"varMapping":{"__isSmartRef__":true,"id":690},"source":"function setupConnections() {\n    this.attributeConnections && this.attributeConnections.invoke('disconnect');\n}","funcProperties":{"__isSmartRef__":true,"id":691},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"690":{"this":{"__isSmartRef__":true,"id":600}},"691":{"timestamp":{"__isSmartRef__":true,"id":692},"user":"conradcalmez","tags":[]},"692":{"isSerializedDate":true,"string":"Thu Dec 20 2012 16:31:48 GMT+0100 (CET)"},"693":{"varMapping":{"__isSmartRef__":true,"id":694},"source":"function reset() {\n    var empty = new lively.morphic.RichText(),\n        console = this.get(\"ConsolePane\"),\n        text = console.get(\"TextPane\");\n    empty.initialize();\n    \n    console.reset();\n    text.setRichText(empty);\n    \n    this.whiteboard = this.owner.get(\"WhiteBoard\");\n    this.pencilStyler = this.owner.get(\"PencilStyler\");\n    this.initializeCommands();\n    this.hide();\n}","funcProperties":{"__isSmartRef__":true,"id":695},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"694":{"this":{"__isSmartRef__":true,"id":600}},"695":{"timestamp":{"__isSmartRef__":true,"id":696},"user":"conradcalmez","tags":[]},"696":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:55:51 GMT+0100 (CET)"},"697":{"varMapping":{"__isSmartRef__":true,"id":698},"source":"function toggle() {\n    if (this.visible) {\n        this.hide();\n        this.visible = false;\n    } else {\n        this.show();\n        this.visible = true;\n        this.get(\"InputField\").focus();\n    }\n    if (this.pencilStyler.isVisible()) {\n        // rearrange the pencil styler\n        this.pencilStyler.show();\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":699},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"698":{"this":{"__isSmartRef__":true,"id":600}},"699":{"timestamp":{"__isSmartRef__":true,"id":700},"user":"conradcalmez","tags":[]},"700":{"isSerializedDate":true,"string":"Thu Nov 08 2012 19:04:16 GMT+0100 (CET)"},"701":{"varMapping":{"__isSmartRef__":true,"id":702},"source":"function show() {\n    var titlebarOffset = this.owner.titleBar.getExtent().y;\n    var windowOffset = this.owner.getExtent().x;\n    this.setPosition(pt(windowOffset, titlebarOffset));\n    this.setVisible(true);\n}","funcProperties":{"__isSmartRef__":true,"id":707},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"702":{"this":{"__isSmartRef__":true,"id":600},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":703}},"703":{"$super":{"__isSmartRef__":true,"id":704}},"704":{"varMapping":{"__isSmartRef__":true,"id":705},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":706},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"705":{"obj":{"__isSmartRef__":true,"id":600},"name":"show"},"706":{},"707":{"timestamp":{"__isSmartRef__":true,"id":708},"user":"conradcalmez","tags":[]},"708":{"isSerializedDate":true,"string":"Thu Dec 20 2012 15:50:50 GMT+0100 (CET)"},"709":{"varMapping":{"__isSmartRef__":true,"id":710},"source":"function showMessage(txtAry) {\n    var txtAry = typeof(arguments[0]) === 'string' ?\n                    [{message: arguments[0], color: Color.black}] : txtAry,\n        pane = this.get(\"ConsolePane\").get(\"TextPane\"),\n        currentText = pane.getRichText(),\n        newText = new lively.morphic.RichText(),\n        newTextChunks,\n        content = new lively.morphic.RichText();\n    newText.initialize();\n    content.initialize();\n    \n    newTextChunks = txtAry.collect(function (ea) {\n        var chunk = new lively.morphic.TextChunk(ea.message);\n        chunk.styleText({color: ea.color});\n        return chunk;\n    });\n    newText.setTextChunks(newTextChunks);\n\n    content.setTextChunks(\n        currentText.getTextChunks()\n        .concat(newText.getTextChunks())    \n    );\n    pane.setRichText(content);\n    pane.scrollToBottom();\n}","funcProperties":{"__isSmartRef__":true,"id":711},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"710":{"this":{"__isSmartRef__":true,"id":600}},"711":{"timestamp":{"__isSmartRef__":true,"id":712},"user":"conradcalmez","tags":[]},"712":{"isSerializedDate":true,"string":"Sun Feb 10 2013 20:57:46 GMT+0100 (CET)"},"713":{"varMapping":{"__isSmartRef__":true,"id":714},"source":"function sendMessage(messageText) {\n    if (this.whiteboard.active) {\n        this.whiteboard.socket.emit('chat', {\n            message: messageText,\n            me: true,\n            broadcast: true,\n        });\n    } else {\n        this.showMessage(\"! You are not online !\");   \n    }\n}","funcProperties":{"__isSmartRef__":true,"id":715},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"714":{"this":{"__isSmartRef__":true,"id":600}},"715":{"timestamp":{"__isSmartRef__":true,"id":716},"user":"conradcalmez","tags":["message sending"]},"716":{"isSerializedDate":true,"string":"Sun Feb 10 2013 17:54:58 GMT+0100 (CET)"},"717":{"varMapping":{"__isSmartRef__":true,"id":718},"source":"function processCommand(commandString) {\n    this.callCommand(commandString.slice(1).split(\" \"));\n}","funcProperties":{"__isSmartRef__":true,"id":719},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"718":{"this":{"__isSmartRef__":true,"id":600}},"719":{"timestamp":{"__isSmartRef__":true,"id":720},"user":"conradcalmez","tags":[]},"720":{"isSerializedDate":true,"string":"Mon May 07 2012 20:36:33 GMT+0200 (CEST)"},"721":{"varMapping":{"__isSmartRef__":true,"id":722},"source":"function callCommand(command) {\n    var func = this.commands[command[0]]\n    if (func) {\n        func.apply(this, command.slice(1));\n    } else {\n        this.showMessage(\"!ERROR :: command \\\"\" + command[0] + \"\\\" is not available\");\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":723},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"722":{"this":{"__isSmartRef__":true,"id":600}},"723":{"timestamp":{"__isSmartRef__":true,"id":724},"user":"athomschke","tags":[]},"724":{"isSerializedDate":true,"string":"Sun May 20 2012 21:13:40 GMT+0200 (CEST)"},"725":{"varMapping":{"__isSmartRef__":true,"id":726},"source":"function createChatListeners() {\n    var socket = this.whiteboard.socket,\n        that = this;\n        \n    socket.on('chat', function (data) {\n        var color = Color.hsb(\n            data.message.color.h,\n            data.message.color.s,\n            data.message.color.b\n        );\n        \n        that.showMessage([\n            {message: '<', color: Color.black},\n            {message: data.message.nick, color: color},\n            {message: '> ' + data.message.text, color: Color.black}\n        ]);\n    });\n    \n    socket.on('names', function (data) {\n        var txtAry = [{message: \"Currently connected users:\\n[\", color: Color.black}],\n            newNick,\n            comma = {\n                message: \", \",\n                color: Color.black\n            };\n\n        data.message.each(function (ea) {\n            newNick = {\n                message: ea.nick,\n                color: Color.hsb(ea.color.h, ea.color.s, ea.color.b)\n            };\n            txtAry.push(newNick);\n            txtAry.push(comma);\n        });\n        txtAry.pop(); // remove the last comma\n        txtAry.push({message: ']', color: Color.black})\n        that.showMessage(txtAry);\n    });\n    \n    socket.on('nick', function (data) {\n        var color = Color.hsb(\n            data.message.color.h,\n            data.message.color.s,\n            data.message.color.b\n        );\n        \n        that.showMessage([\n            {message: data.message[\"old\"], color: color},\n            {message: \" changed its name to \", color: Color.black},\n            {message: data.message[\"new\"], color: color}\n        ]);\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":727},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"726":{"this":{"__isSmartRef__":true,"id":600}},"727":{"timestamp":{"__isSmartRef__":true,"id":728},"user":"conradcalmez","tags":[]},"728":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:39:18 GMT+0100 (CET)"},"729":{"onrestore":{"__isSmartRef__":true,"id":730},"setupConnections":{"__isSmartRef__":true,"id":738},"reset":{"__isSmartRef__":true,"id":742},"hide":{"__isSmartRef__":true,"id":746},"setBorderWidthOfTarget":{"__isSmartRef__":true,"id":750},"setBorderFillOfTarget":{"__isSmartRef__":true,"id":754},"setBorderStyleOfTarget":{"__isSmartRef__":true,"id":758},"updateTarget":{"__isSmartRef__":true,"id":762},"updateSliderColor":{"__isSmartRef__":true,"id":766},"updateColorSlider":{"__isSmartRef__":true,"id":770},"updateAlphaSlider":{"__isSmartRef__":true,"id":774},"nextSlide":{"__isSmartRef__":true,"id":778},"previousSlide":{"__isSmartRef__":true,"id":782},"show":{"__isSmartRef__":true,"id":786},"toggle":{"__isSmartRef__":true,"id":794}},"730":{"varMapping":{"__isSmartRef__":true,"id":731},"source":"function onrestore() {\n    $super();\n    module('projects.BP2012.InteractionWithIPad.CSSTransitions').load(false);\n    this.whiteboard = this.owner.get('WhiteBoard');\n}","funcProperties":{"__isSmartRef__":true,"id":736},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"731":{"this":{"__isSmartRef__":true,"id":93},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":732}},"732":{"$super":{"__isSmartRef__":true,"id":733}},"733":{"varMapping":{"__isSmartRef__":true,"id":734},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":735},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"734":{"obj":{"__isSmartRef__":true,"id":93},"name":"onrestore"},"735":{},"736":{"timestamp":{"__isSmartRef__":true,"id":737},"user":"conradcalmez","tags":[]},"737":{"isSerializedDate":true,"string":"Thu Dec 20 2012 17:42:09 GMT+0100 (CET)"},"738":{"varMapping":{"__isSmartRef__":true,"id":739},"source":"function setupConnections() {\n    this.attributeConnections && this.attributeConnections.invoke('disconnect');\n}","funcProperties":{"__isSmartRef__":true,"id":740},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"739":{"this":{"__isSmartRef__":true,"id":93}},"740":{"timestamp":{"__isSmartRef__":true,"id":741},"user":"conradcalmez","tags":[]},"741":{"isSerializedDate":true,"string":"Thu Dec 20 2012 16:31:32 GMT+0100 (CET)"},"742":{"varMapping":{"__isSmartRef__":true,"id":743},"source":"function reset() {\n    this.hide();\n    this.chat = this.owner.get(\"ChatPane\");\n    this.widthSlider = this.get('WidthSlider');\n    this.alphaSlider = this.get('AlphaSlider');\n    this.slider = this.get('ColorSlider');\n    this.borderStyleList = this.get('BorderStyleList');\n    this.colorChooser.reset();\n    this.widthSlider.setValue(0);\n    this.alphaSlider.setValue(1);\n    this.borderStyleList.selectAt(0);\n    this.updateTarget(this.whiteboard);\n    this.updateSliderColor(Color.black)\n}","funcProperties":{"__isSmartRef__":true,"id":744},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"743":{"this":{"__isSmartRef__":true,"id":93}},"744":{"timestamp":{"__isSmartRef__":true,"id":745},"user":"conradcalmez","tags":[]},"745":{"isSerializedDate":true,"string":"Thu Nov 08 2012 18:07:59 GMT+0100 (CET)"},"746":{"varMapping":{"__isSmartRef__":true,"id":747},"source":"function hide() {\n    this.setPosition(pt(0, 0));\n    this.setVisible(false);\n}","funcProperties":{"__isSmartRef__":true,"id":748},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"747":{"this":{"__isSmartRef__":true,"id":93}},"748":{"timestamp":{"__isSmartRef__":true,"id":749},"user":"conradcalmez","tags":[]},"749":{"isSerializedDate":true,"string":"Thu Nov 08 2012 19:11:53 GMT+0100 (CET)"},"750":{"varMapping":{"__isSmartRef__":true,"id":751},"source":"function setBorderWidthOfTarget(value) {\n    this.whiteboard.setPencilSize(value*5+1);\n}","funcProperties":{"__isSmartRef__":true,"id":752},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"751":{"this":{"__isSmartRef__":true,"id":93}},"752":{"timestamp":{"__isSmartRef__":true,"id":753},"user":"athomschke","tags":[]},"753":{"isSerializedDate":true,"string":"Sun May 20 2012 14:14:21 GMT+0200 (CEST)"},"754":{"varMapping":{"__isSmartRef__":true,"id":755},"source":"function setBorderFillOfTarget(color) {\n    this.whiteboard.setColor(color);\n}","funcProperties":{"__isSmartRef__":true,"id":756},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"755":{"this":{"__isSmartRef__":true,"id":93}},"756":{"timestamp":{"__isSmartRef__":true,"id":757},"user":"conradcalmez","tags":[]},"757":{"isSerializedDate":true,"string":"Wed May 02 2012 19:17:14 GMT+0200 (CEST)"},"758":{"varMapping":{"__isSmartRef__":true,"id":759},"source":"function setBorderStyleOfTarget(value) {\n    this.whiteboard.setPencilStyle(value);\n}","funcProperties":{"__isSmartRef__":true,"id":760},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"759":{"this":{"__isSmartRef__":true,"id":93}},"760":{"timestamp":{"__isSmartRef__":true,"id":761},"user":"athomschke","tags":[]},"761":{"isSerializedDate":true,"string":"Sun May 20 2012 14:13:48 GMT+0200 (CEST)"},"762":{"varMapping":{"__isSmartRef__":true,"id":763},"source":"function updateTarget(target) {\n    if (target) {\n        this.updateSliderColor(target.getColor());\n        this.widthSlider.setValue(target.getPencilSize()-1);\n        this.borderStyleList.setSelection(target.getPencilStyle());\n    } else {\n        this.updateSliderColor(Color.white);\n        this.widthSlider.setValue(0);\n        this.borderStyleList.setSelection(\"solid\");\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":764},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"763":{"this":{"__isSmartRef__":true,"id":93}},"764":{"timestamp":{"__isSmartRef__":true,"id":765},"user":"conradcalmez","tags":[]},"765":{"isSerializedDate":true,"string":"Thu Nov 08 2012 18:31:01 GMT+0100 (CET)"},"766":{"varMapping":{"__isSmartRef__":true,"id":767},"source":"function updateSliderColor(color) {\n    this.updateColorSlider(color);\n    this.updateAlphaSlider(color);\n}","funcProperties":{"__isSmartRef__":true,"id":768},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"767":{"this":{"__isSmartRef__":true,"id":93}},"768":{"timestamp":{"__isSmartRef__":true,"id":769},"user":"conradcalmez","tags":[]},"769":{"isSerializedDate":true,"string":"Wed May 02 2012 13:51:06 GMT+0200 (CEST)"},"770":{"varMapping":{"__isSmartRef__":true,"id":771},"source":"function updateColorSlider(color) {\n    this.slider.updateColor(color);\n    this.slider.setValue(0.5);\n}","funcProperties":{"__isSmartRef__":true,"id":772},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"771":{"this":{"__isSmartRef__":true,"id":93}},"772":{"timestamp":{"__isSmartRef__":true,"id":773},"user":"athomschke","tags":[]},"773":{"isSerializedDate":true,"string":"Sun May 20 2012 20:46:21 GMT+0200 (CEST)"},"774":{"varMapping":{"__isSmartRef__":true,"id":775},"source":"function updateAlphaSlider(color) {\n    this.alphaSlider.updateColor(color);\n}","funcProperties":{"__isSmartRef__":true,"id":776},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"775":{"this":{"__isSmartRef__":true,"id":93}},"776":{"timestamp":{"__isSmartRef__":true,"id":777},"user":"athomschke","tags":[]},"777":{"isSerializedDate":true,"string":"Fri May 18 2012 14:36:25 GMT+0200 (CEST)"},"778":{"varMapping":{"__isSmartRef__":true,"id":779},"source":"function nextSlide() {\n    this.colorChooser.nextSlide();\n}","funcProperties":{"__isSmartRef__":true,"id":780},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"779":{"this":{"__isSmartRef__":true,"id":93}},"780":{"timestamp":{"__isSmartRef__":true,"id":781},"user":"conradcalmez","tags":[]},"781":{"isSerializedDate":true,"string":"Wed May 02 2012 14:15:52 GMT+0200 (CEST)"},"782":{"varMapping":{"__isSmartRef__":true,"id":783},"source":"function previousSlide() {\n    this.colorChooser.previousSlide();\n}","funcProperties":{"__isSmartRef__":true,"id":784},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"783":{"this":{"__isSmartRef__":true,"id":93}},"784":{"timestamp":{"__isSmartRef__":true,"id":785},"user":"conradcalmez","tags":[]},"785":{"isSerializedDate":true,"string":"Wed May 02 2012 14:15:57 GMT+0200 (CEST)"},"786":{"varMapping":{"__isSmartRef__":true,"id":787},"source":"function show() {\n    var titlebarOffset = this.owner.titleBar.getExtent().y;\n    var windowOffset = this.owner.getExtent().x;\n    if (this.chat.isVisible()) {\n        windowOffset += this.chat.getExtent().x;\n    }\n    this.setPosition(pt(windowOffset, titlebarOffset));\n    this.setVisible(true);\n    this.updateTarget(this.whiteboard);\n}","funcProperties":{"__isSmartRef__":true,"id":792},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"787":{"this":{"__isSmartRef__":true,"id":93},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":788}},"788":{"$super":{"__isSmartRef__":true,"id":789}},"789":{"varMapping":{"__isSmartRef__":true,"id":790},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":791},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"790":{"obj":{"__isSmartRef__":true,"id":93},"name":"show"},"791":{},"792":{"timestamp":{"__isSmartRef__":true,"id":793},"user":"conradcalmez","tags":[]},"793":{"isSerializedDate":true,"string":"Thu Dec 20 2012 15:51:02 GMT+0100 (CET)"},"794":{"varMapping":{"__isSmartRef__":true,"id":795},"source":"function toggle() {\n    if (this._Visible) {\n        this.hide();\n    } else {\n        this.show();\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":796},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"795":{"this":{"__isSmartRef__":true,"id":93}},"796":{"timestamp":{"__isSmartRef__":true,"id":797},"user":"conradcalmez","tags":[]},"797":{"isSerializedDate":true,"string":"Thu Nov 08 2012 19:14:21 GMT+0100 (CET)"},"798":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)"},"799":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)"},"800":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)"},"801":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)"},"802":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)"},"803":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)"},"804":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)"},"805":{"morph":{"__isSmartRef__":true,"id":54},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)"},"806":{"sourceObj":{"__isSmartRef__":true,"id":54},"sourceAttrName":"channelName","targetObj":{"__isSmartRef__":true,"id":1},"targetMethodName":"setTitle","varMapping":{"__isSmartRef__":true,"id":807},"converterString":"function (channelName) {\n            return 'Channel: ' + channelName;\n        }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"807":{"source":{"__isSmartRef__":true,"id":54},"target":{"__isSmartRef__":true,"id":1}},"808":{"onrestore":{"__isSmartRef__":true,"id":809},"reset":{"__isSmartRef__":true,"id":817},"deactivate":{"__isSmartRef__":true,"id":821},"isOnline":{"__isSmartRef__":true,"id":825},"defaultDeactiveColor":{"__isSmartRef__":true,"id":829},"ensureButton":{"__isSmartRef__":true,"id":833},"clear":{"__isSmartRef__":true,"id":837},"setupButtons":{"__isSmartRef__":true,"id":841},"createTitleBarButton":{"__isSmartRef__":true,"id":845},"setupConnections":{"__isSmartRef__":true,"id":849},"onMouseOut":{"__isSmartRef__":true,"id":853},"setChannel":{"__isSmartRef__":true,"id":861},"setUserName":{"__isSmartRef__":true,"id":865},"getUserName":{"__isSmartRef__":true,"id":869},"setPencilSize":{"__isSmartRef__":true,"id":873},"setColor":{"__isSmartRef__":true,"id":877},"setPencilStyle":{"__isSmartRef__":true,"id":881},"getColor":{"__isSmartRef__":true,"id":885},"getPencilSize":{"__isSmartRef__":true,"id":889},"getPencilStyle":{"__isSmartRef__":true,"id":893},"$$isOnline":{"__isSmartRef__":true,"id":897},"disconnectSocket":{"__isSmartRef__":true,"id":901},"activate":{"__isSmartRef__":true,"id":905},"initialSync":{"__isSmartRef__":true,"id":909},"lineTo":{"__isSmartRef__":true,"id":913},"morphMenuItems":{"__isSmartRef__":true,"id":917},"onMouseDown":{"__isSmartRef__":true,"id":925},"onMouseMove":{"__isSmartRef__":true,"id":933},"onMouseUp":{"__isSmartRef__":true,"id":941},"onTouchEnd":{"__isSmartRef__":true,"id":949},"onTouchMove":{"__isSmartRef__":true,"id":957},"onTouchStart":{"__isSmartRef__":true,"id":961},"toggleActivation":{"__isSmartRef__":true,"id":969},"transformPoint":{"__isSmartRef__":true,"id":973},"getChannel":{"__isSmartRef__":true,"id":977},"createStrokeShape":{"__isSmartRef__":true,"id":981},"connectSocket":{"__isSmartRef__":true,"id":985},"deleteMorphWith":{"__isSmartRef__":true,"id":989},"createSocketListeners":{"__isSmartRef__":true,"id":993},"addMorphFrom":{"__isSmartRef__":true,"id":997},"deserializeMorph":{"__isSmartRef__":true,"id":1001},"defaultColor":{"__isSmartRef__":true,"id":1005},"getConnectedUserNames":{"__isSmartRef__":true,"id":1009},"defaultPencilSize":{"__isSmartRef__":true,"id":1013},"defaultPencilStyle":{"__isSmartRef__":true,"id":1017},"applyChanges":{"__isSmartRef__":true,"id":1021},"fakeCopy":{"__isSmartRef__":true,"id":1025},"observeChanges":{"__isSmartRef__":true,"id":1029},"sendChange":{"__isSmartRef__":true,"id":1033},"createMouseIndicator":{"__isSmartRef__":true,"id":1037},"updateMouseIndicators":{"__isSmartRef__":true,"id":1041},"onTouchOut":{"__isSmartRef__":true,"id":1045},"sendLine":{"__isSmartRef__":true,"id":1049},"sendMorph":{"__isSmartRef__":true,"id":1053},"handleStartEvent":{"__isSmartRef__":true,"id":1057},"handleEndEvent":{"__isSmartRef__":true,"id":1061},"handleMoveEvent":{"__isSmartRef__":true,"id":1065},"handleOutEvent":{"__isSmartRef__":true,"id":1069},"moveMorphInHand":{"__isSmartRef__":true,"id":1073},"serializeMorph":{"__isSmartRef__":true,"id":1077},"applySubmorphOrderChanges":{"__isSmartRef__":true,"id":1081},"loggedIn":{"__isSmartRef__":true,"id":1085},"packLine":{"__isSmartRef__":true,"id":1089},"drawLine":{"__isSmartRef__":true,"id":1093},"defaultActiveColor":{"__isSmartRef__":true,"id":1097},"createTestMorph":{"__isSmartRef__":true,"id":1101},"getCurrentStroke":{"__isSmartRef__":true,"id":1105}},"809":{"varMapping":{"__isSmartRef__":true,"id":810},"source":"function onrestore() {\n    // this.deactivate();\n    module('projects.BP2012.Whiteboard').load(true);\n    module('projects.BP2012.DiffMerge').load(true);\n    this.reset();\n}","funcProperties":{"__isSmartRef__":true,"id":815},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"810":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":811}},"811":{"$super":{"__isSmartRef__":true,"id":812}},"812":{"varMapping":{"__isSmartRef__":true,"id":813},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":814},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"813":{"obj":{"__isSmartRef__":true,"id":54},"name":"onrestore"},"814":{},"815":{"timestamp":{"__isSmartRef__":true,"id":816},"user":"conradcalmez","tags":["initialization"]},"816":{"isSerializedDate":true,"string":"Thu Dec 20 2012 17:53:59 GMT+0100 (CET)"},"817":{"varMapping":{"__isSmartRef__":true,"id":818},"source":"function reset() {\n    this.deactivate();\n    this.clear();\n    this.setupButtons();\n    this.setupConnections();\n    \n    this.owner.addMorph(this);\n    \n    this.isWhiteboard = true;\n    this.setChannel('default');\n    this.setUserName('');\n    this.enteredBefore = false;\n    this.isDrawing = false;\n    this.currentStroke = null;\n    this.prevState = null;\n    this.doNotSerializeList = [\n        'showsHalos', 'lastTap', 'lastTimeClickedOnIpad', 'lastUpdate',\n        'startDate', 'lastUpdate', 'showsPie', 'selectionMorph', 'pieItems',\n        'moved', 'scrolled', 'selectable', 'showTimeout', 'pieTouch',\n        'enteredItem', 'activatedPieItem', 'moveTouch', 'tapTouch',\n        'textChunks', 'previousOwner', 'previousPosition'\n    ];\n\n    this.pencilStyler.reset();\n    this.chat.reset();\n}","funcProperties":{"__isSmartRef__":true,"id":819},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"818":{"this":{"__isSmartRef__":true,"id":54}},"819":{"timestamp":{"__isSmartRef__":true,"id":820},"user":"conradcalmez","tags":["initialization"]},"820":{"isSerializedDate":true,"string":"Thu Nov 08 2012 17:18:13 GMT+0100 (CET)"},"821":{"varMapping":{"__isSmartRef__":true,"id":822},"source":"function deactivate() {\n    if (this.isOnline()) {\n        this.socket.emit('mouse', {\n            message: {x: 0, y: 0, remove: []},\n            me: false,\n            broadcast: true\n        });\n\n        this.disconnectSocket();\n        this.stopStepping();\n        this.oldSubmorphs = [];\n        this.userName = '';\n        this.owner.submorphs.each(function (ea) {\n            if (ea.isMouseIndicator) {\n                ea.remove();\n            }\n        });\n    }\n    this.active = false;\n    this.setBorderColor(this.defaultDeactiveColor());\n    this.ensureButton(\"O\", \"ensureDepressed\");\n}","funcProperties":{"__isSmartRef__":true,"id":823},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"822":{"this":{"__isSmartRef__":true,"id":54}},"823":{"timestamp":{"__isSmartRef__":true,"id":824},"user":"conradcalmez","tags":["user interaction"]},"824":{"isSerializedDate":true,"string":"Sun Feb 10 2013 17:01:53 GMT+0100 (CET)"},"825":{"varMapping":{"__isSmartRef__":true,"id":826},"source":"function isOnline() {\n    return (this.active && this.socket !== undefined);\n}","funcProperties":{"__isSmartRef__":true,"id":827},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"826":{"this":{"__isSmartRef__":true,"id":54}},"827":{"timestamp":{"__isSmartRef__":true,"id":828},"user":"conradcalmez","tags":["accessing"]},"828":{"isSerializedDate":true,"string":"Tue Feb 12 2013 14:55:44 GMT+0100 (CET)"},"829":{"varMapping":{"__isSmartRef__":true,"id":830},"source":"function defaultDeactiveColor() {\n    return Color.black;\n}","funcProperties":{"__isSmartRef__":true,"id":831},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"830":{"this":{"__isSmartRef__":true,"id":54}},"831":{"timestamp":{"__isSmartRef__":true,"id":832},"user":"conradcalmez","tags":["accessing"]},"832":{"isSerializedDate":true,"string":"Sun Feb 10 2013 13:18:26 GMT+0100 (CET)"},"833":{"varMapping":{"__isSmartRef__":true,"id":834},"source":"function ensureButton(name, ensureFunctionName) {\n    this.owner.titleBar.submorphs.each(function (button) {\n        if (button instanceof lively.morphic.Button\n            && button.extraButton === true\n            && button.getLabel() === name) {\n            button[ensureFunctionName].call(button);\n        }\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":835},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"834":{"this":{"__isSmartRef__":true,"id":54}},"835":{"timestamp":{"__isSmartRef__":true,"id":836},"user":"conradcalmez","tags":["user interface"]},"836":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"837":{"varMapping":{"__isSmartRef__":true,"id":838},"source":"function clear() {\n    if (this.isOnline()) {\n        this.socket.emit('clear', {\n            // TODO this is used very much -> refactor to a object factory\n            me: true,\n            broadcast: true\n        });\n    } else {\n        this.submorphs.invoke('remove');\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":839},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"838":{"this":{"__isSmartRef__":true,"id":54}},"839":{"timestamp":{"__isSmartRef__":true,"id":840},"user":"conradcalmez","tags":["user interaction","message sending"]},"840":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"841":{"varMapping":{"__isSmartRef__":true,"id":842},"source":"function setupButtons() {\n    this.owner.titleBar.submorphs.select(function (ea) {\n        if (ea.extraButton) {\n            return ea;\n        }\n    }).each(function (ea) {\n        ea.remove();\n    });\n    this.createTitleBarButton(\n        \"O\",\n        \"toggles online state\",\n        this,\n        \"active\",\n        \"toggleActivation\"\n    );\n    this.createTitleBarButton(\n        \"C\",\n        \"opens the chat pane\",\n        this.chat,\n        \"_Visible\",\n        \"toggle\"\n    );\n    this.createTitleBarButton(\n        \"P\",\n        \"opens the pencil styler\",\n        this.pencilStyler,\n        \"_Visible\",\n        \"toggle\"\n    );\n}","funcProperties":{"__isSmartRef__":true,"id":843},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"842":{"this":{"__isSmartRef__":true,"id":54}},"843":{"timestamp":{"__isSmartRef__":true,"id":844},"user":"conradcalmez","tags":[]},"844":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"845":{"varMapping":{"__isSmartRef__":true,"id":846},"source":"function createTitleBarButton(name, tooltip,\n                targetObject, targetState, toggleFunction) {\n    var titleBar = this.owner.titleBar,\n        size = titleBar.getExtent().y - 2,\n        b = new lively.morphic.Button(),\n        buttonCount;\n\n    if (!this.owner) {\n        // when whiteboard is not completely serialized\n        // e.g. when loading it from the PartsBin\n        return;\n    }\n    b.whiteboard = this;\n    b.targetObject = targetObject;\n    b.targetState = targetState;\n    b.toggleFunction = toggleFunction;\n    b.setToolTip(tooltip);\n    b.extraButton = true;\n    b.setExtent(pt(size, size));\n    if (b.beToolbarButton) {\n        b.beToolbarButton(name);\n    } else {\n        b.setLabel(name);\n    }\n    b.addScript(function ensurePressed() {\n        if (this.isActive) {\n            this.isPressed = true;\n            this.changeAppearanceFor(true);\n        }\n    });\n    b.addScript(function ensureDepressed() {\n        this.isPressed = false;\n        this.changeAppearanceFor(false);\n    });\n    b.addScript(function onFire() {\n        this.targetObject[this.toggleFunction].apply(this.targetObject);\n    });\n    connect(b, \"fire\", b, \"onFire\");\n    //redefine behaviour on mouse events\n    b.onMouseDown = function (evt) {\n        if (this.isValidClick(evt) && this.isActive) {\n            this.isPressed = true;\n            this.changeAppearanceFor(true);\n        }\n        return false;\n    };\n    b.onMouseOut = function (evt) {\n        //this.isPressed && this.changeAppearanceFor(false);\n    };\n    b.onMouseUp = function (evt) {\n        if (this.isValidClick(evt) && this.isPressed) {\n            var newValue = this.toggle ? !this.value : false;\n            this.setValue(newValue);\n            var targetState = this.targetObject[this.targetState];\n            this.changeAppearanceFor(targetState);\n            this.isPressed = targetState;\n        }\n        return false;\n    };\n    b.openInWorld();\n    titleBar.addMorphFront(b);\n    buttonCount = titleBar.submorphs.select(function (ea) {\n        return ea.extraButton;\n    }).length;\n    b.setPosition(pt((buttonCount + 1) * b.getExtent().x, 1));\n    b.adjustForNewBounds();\n    return b;\n}","funcProperties":{"__isSmartRef__":true,"id":847},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"846":{"this":{"__isSmartRef__":true,"id":54}},"847":{"timestamp":{"__isSmartRef__":true,"id":848},"user":"conradcalmez","tags":["user interface"]},"848":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"849":{"varMapping":{"__isSmartRef__":true,"id":850},"source":"function setupConnections() {\n    this.attributeConnections.invoke('disconnect');\n    connect(this, 'channelName', this.owner.titleBar, 'setTitle', {\n        converter: function (channelName) {\n            return 'Channel: ' + channelName;\n        }\n    });\n    this.chat.setupConnections();\n    this.pencilStyler.setupConnections();\n}","funcProperties":{"__isSmartRef__":true,"id":851},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"850":{"this":{"__isSmartRef__":true,"id":54}},"851":{"timestamp":{"__isSmartRef__":true,"id":852},"user":"conradcalmez","tags":[]},"852":{"isSerializedDate":true,"string":"Sun Nov 04 2012 20:38:36 GMT+0100 (CET)"},"853":{"varMapping":{"__isSmartRef__":true,"id":854},"source":"function onMouseOut(evt) {\n    this.handleOutEvent(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":859},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"854":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":855}},"855":{"$super":{"__isSmartRef__":true,"id":856}},"856":{"varMapping":{"__isSmartRef__":true,"id":857},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":858},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"857":{"obj":{"__isSmartRef__":true,"id":54},"name":"onMouseOut"},"858":{},"859":{"timestamp":{"__isSmartRef__":true,"id":860},"user":"athomschke","tags":["user interaction","mouse actions"]},"860":{"isSerializedDate":true,"string":"Sun May 20 2012 18:55:58 GMT+0200 (CEST)"},"861":{"varMapping":{"__isSmartRef__":true,"id":862},"source":"function setChannel(channelName) {\n    var that = this;\n\n    this.channelName = channelName;\n    // TODO: maybe we don't want this for proper offline/online switching\n    // reasons.\n    this.submorphs.each(function (ea) {\n        ea.identifier = undefined;\n    });\n\n    if (this.isOnline()) {\n        // this.submorphs.each(function (ea) {\n            // ea.remove();\n        // });\n        this.socket.emit(\n            'channel',\n            this.channelName,\n            function (join, joinChannel, leave, leaveChannel, initialStrokes,\n                     initialMorphs, initialChanges) {\n                if (join) {\n                    alertOK('Successfully joined channel ' +\n                            joinChannel + '.');\n                    that.initialSync(\n                        initialStrokes,\n                        initialMorphs,\n                        initialChanges\n                    );\n                    that.startStepping(1000, 'observeChanges');\n                }\n                if (leave) {\n                    alertOK('Successfully left channel ' + leaveChannel + '.');\n                }\n            }\n        );\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":863},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"862":{"this":{"__isSmartRef__":true,"id":54}},"863":{"timestamp":{"__isSmartRef__":true,"id":864},"user":"conradcalmez","tags":["message sending"]},"864":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"865":{"varMapping":{"__isSmartRef__":true,"id":866},"source":"function setUserName(name) {\n    this.userName = name || this.getUserName();\n    if (this.isOnline()) {\n        this.socket.emit('nick', {message: name, me: false, broadcast: true});\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":867},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"866":{"this":{"__isSmartRef__":true,"id":54}},"867":{"timestamp":{"__isSmartRef__":true,"id":868},"user":"conradcalmez","tags":["message sending"]},"868":{"isSerializedDate":true,"string":"Sun Feb 10 2013 13:13:25 GMT+0100 (CET)"},"869":{"varMapping":{"__isSmartRef__":true,"id":870},"source":"function getUserName() {\n    return this.userName || lively.morphic.World.current().requestUserName();\n}","funcProperties":{"__isSmartRef__":true,"id":871},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"870":{"this":{"__isSmartRef__":true,"id":54}},"871":{"timestamp":{"__isSmartRef__":true,"id":872},"user":"athomschke","tags":["accessing"]},"872":{"isSerializedDate":true,"string":"Mon May 21 2012 18:39:36 GMT+0200 (CEST)"},"873":{"varMapping":{"__isSmartRef__":true,"id":874},"source":"function setPencilSize(size) {\n    this.pencilSize = size;\n}","funcProperties":{"__isSmartRef__":true,"id":875},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"874":{"this":{"__isSmartRef__":true,"id":54}},"875":{"timestamp":{"__isSmartRef__":true,"id":876},"user":"conradcalmez","tags":["accessing"]},"876":{"isSerializedDate":true,"string":"Mon Apr 30 2012 08:57:47 GMT+0200 (CEST)"},"877":{"varMapping":{"__isSmartRef__":true,"id":878},"source":"function setColor(color) {\n    this.color = color;\n}","funcProperties":{"__isSmartRef__":true,"id":879},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"878":{"this":{"__isSmartRef__":true,"id":54}},"879":{"timestamp":{"__isSmartRef__":true,"id":880},"user":"conradcalmez","tags":["accessing"]},"880":{"isSerializedDate":true,"string":"Fri Apr 27 2012 20:45:41 GMT+0200 (CEST)"},"881":{"varMapping":{"__isSmartRef__":true,"id":882},"source":"function setPencilStyle(style) {\n    this.pencilStyle = style;\n}","funcProperties":{"__isSmartRef__":true,"id":883},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"882":{"this":{"__isSmartRef__":true,"id":54}},"883":{"timestamp":{"__isSmartRef__":true,"id":884},"user":"conradcalmez","tags":["accessing"]},"884":{"isSerializedDate":true,"string":"Wed May 02 2012 14:59:47 GMT+0200 (CEST)"},"885":{"varMapping":{"__isSmartRef__":true,"id":886},"source":"function getColor() {\n    return this.color || this.defaultColor();\n}","funcProperties":{"__isSmartRef__":true,"id":887},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"886":{"this":{"__isSmartRef__":true,"id":54}},"887":{"timestamp":{"__isSmartRef__":true,"id":888},"user":"conradcalmez","tags":["accessing"]},"888":{"isSerializedDate":true,"string":"Fri Apr 27 2012 20:44:47 GMT+0200 (CEST)"},"889":{"varMapping":{"__isSmartRef__":true,"id":890},"source":"function getPencilSize() {\n    return this.pencilSize || this.defaultPencilSize();\n}","funcProperties":{"__isSmartRef__":true,"id":891},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"890":{"this":{"__isSmartRef__":true,"id":54}},"891":{"timestamp":{"__isSmartRef__":true,"id":892},"user":"conradcalmez","tags":["accessing"]},"892":{"isSerializedDate":true,"string":"Mon Apr 30 2012 08:58:24 GMT+0200 (CEST)"},"893":{"varMapping":{"__isSmartRef__":true,"id":894},"source":"function getPencilStyle() {\n    return this.pencilStyle || this.defaultPencilStyle();\n}","funcProperties":{"__isSmartRef__":true,"id":895},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"894":{"this":{"__isSmartRef__":true,"id":54}},"895":{"timestamp":{"__isSmartRef__":true,"id":896},"user":"conradcalmez","tags":["accessing"]},"896":{"isSerializedDate":true,"string":"Wed May 02 2012 15:03:14 GMT+0200 (CEST)"},"897":{"varMapping":{"__isSmartRef__":true,"id":898},"source":"function isOnline() {\n    return (this.active && this.socket !== undefined);\n}","funcProperties":{"__isSmartRef__":true,"id":899},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"898":{"this":{"__isSmartRef__":true,"id":54}},"899":{"timestamp":{"__isSmartRef__":true,"id":900},"user":"conradcalmez","tags":[]},"900":{"isSerializedDate":true,"string":"Sun Nov 04 2012 19:01:24 GMT+0100 (CET)"},"901":{"varMapping":{"__isSmartRef__":true,"id":902},"source":"function disconnectSocket() {\n    if (this.socket) {\n        this.socket.disconnect();\n    }\n    this.socket = null;\n}","funcProperties":{"__isSmartRef__":true,"id":903},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"902":{"this":{"__isSmartRef__":true,"id":54}},"903":{"timestamp":{"__isSmartRef__":true,"id":904},"user":"conradcalmez","tags":["server connection","synchronization"]},"904":{"isSerializedDate":true,"string":"Sun Feb 10 2013 17:16:30 GMT+0100 (CET)"},"905":{"varMapping":{"__isSmartRef__":true,"id":906},"source":"function activate() {\n    if (!this.isOnline()) {\n        this.connectSocket();\n        // this.setUserName();\n        this.active = true;\n        this.setBorderColor(this.defaultActiveColor());\n        this.ensureButton(\"O\", \"ensurePressed\");\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":907},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"906":{"this":{"__isSmartRef__":true,"id":54}},"907":{"timestamp":{"__isSmartRef__":true,"id":908},"user":"conradcalmez","tags":["user interaction"]},"908":{"isSerializedDate":true,"string":"Sun Feb 10 2013 17:01:38 GMT+0100 (CET)"},"909":{"varMapping":{"__isSmartRef__":true,"id":910},"source":"function initialSync(initialStrokes, initialMorphs,\n                    initialChanges) {\n    var that = this,\n        m,\n        existingIds;\n\n    alertOK('Synchronizing with channel.');\n    // sync new strokes and morphs\n    this.submorphs.each(function (ea) {\n        var color,\n            line;\n\n        if (ea.identifier === undefined) {\n            ea.identifier = ea.id;\n            if (ea.isStroke) {\n                color = {\n                    r: ea.getBorderColor().r * 255,\n                    g: ea.getBorderColor().g * 255,\n                    b: ea.getBorderColor().b * 255,\n                    a: ea.getBorderColor().a\n                };\n                line = that.packLine(\n                    ea.shape.vertices(),\n                    ea.timestamp,\n                    ea.identifier,\n                    color,\n                    ea.getBorderWidth(),\n                    ea.getBorderStyle()\n                );\n                that.sendLine(line);\n            } else {\n                that.sendMorph(ea, false, true);\n            }\n        }\n    });\n    this.oldSubmorphs = this.submorphs.pluck('identifier');\n    // pull strokes and morphs that are not already there\n    existingIds = this.submorphs.pluck('identifier');\n    initialStrokes.each(function (ea) {\n        that.drawLine(ea);\n    });\n    initialMorphs.each(function (ea) {\n        if (ea.morph && existingIds.indexOf(ea.identifier) < 0) {\n            m = that.deserializeMorph(ea.morph);\n            that.addMorph(m);\n            m.setPosition(pt(ea.position.x, ea.position.y));\n        }\n    });\n    initialChanges.each(function (ea) {\n        that.applyChanges(ea, initialMorphs.pluck('identifier'));\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":911},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"910":{"this":{"__isSmartRef__":true,"id":54}},"911":{"timestamp":{"__isSmartRef__":true,"id":912},"user":"conradcalmez","tags":["server connection","user interaction"]},"912":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"913":{"varMapping":{"__isSmartRef__":true,"id":914},"source":"function lineTo(point, optTransform, optColor) {\n    var stroke,\n        color,\n        line;\n\n    if (optTransform) {\n        point = this.transformPoint(point);\n    }\n    stroke = this.getCurrentStroke(point);\n    if (optColor) {\n        color = optColor;\n        stroke.setBorderColor(color);\n    } else {\n        color = this.color;\n    }\n    stroke.setVertices(stroke.vertices().concat([point]));\n    if (this.isOnline()) {\n        line = this.packLine(\n            stroke.identifier,\n            point,\n            {\n                r: color.r * 255,\n                g: color.g * 255,\n                b: color.b * 255,\n                a: color.a\n            },\n            stroke.getBorderWidth(),\n            stroke.getBorderStyle()\n        );\n        this.sendLine(line);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":915},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"914":{"this":{"__isSmartRef__":true,"id":54}},"915":{"timestamp":{"__isSmartRef__":true,"id":916},"user":"conradcalmez","tags":["user interaction","drawing"]},"916":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"917":{"varMapping":{"__isSmartRef__":true,"id":918},"source":"function morphMenuItems() {\n    var world = lively.morphic.World.current(),\n        items = $super(),\n        itemString = \"activate sync\",\n        penString = \" pencil styler\",\n        chatString = \" chat\";\n\n    items.push([\"get tester morph\", function () {\n        this.createTestMorph();\n    }.bind(this)]);\n    if (this.isOnline()) {\n        itemString = \"de\" + itemString;\n    }\n    items.push([itemString, function () {\n        this.toggleActivation();\n    }.bind(this)]);\n    items.push([\"clear whiteboard\", function () {\n        this.clear();\n    }.bind(this)]);\n    items.push([\n        \"change channel\",\n        function () {\n            world.prompt(\n                'Enter a channel name',\n                function (input) {\n                    this.setChannel(input);\n                }.bind(this),\n                this.getChannel()\n            );\n        }.bind(this)\n    ]);\n    if (this.pencilStyler.isVisible()) {\n        penString = \"hide\" + penString;\n    } else {\n        penString = \"show\" + penString;\n    }\n    items.push([penString, function () {\n        this.pencilStyler.toggle();\n    }.bind(this)]);\n    if (this.chat.isVisible()) {\n        chatString = \"hide\" + chatString;\n    } else {\n        chatString = \"show\" + chatString;\n    }\n    items.push([chatString, function () { this.chat.toggle(); }.bind(this)]);\n    return items;\n}","funcProperties":{"__isSmartRef__":true,"id":923},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"918":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":919}},"919":{"$super":{"__isSmartRef__":true,"id":920}},"920":{"varMapping":{"__isSmartRef__":true,"id":921},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":922},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"921":{"obj":{"__isSmartRef__":true,"id":54},"name":"morphMenuItems"},"922":{},"923":{"timestamp":{"__isSmartRef__":true,"id":924},"user":"conradcalmez","tags":["user interface"]},"924":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"925":{"varMapping":{"__isSmartRef__":true,"id":926},"source":"function onMouseDown(evt) {\n    var keyPressed = evt.altKet || evt.ctrlKey || evt.metaKey || evt.shiftKey;\n    if (!keyPressed && evt.isLeftMouseButtonDown()) {\n        this.handleStartEvent(evt);\n    }\n    $super(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":931},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"926":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":927}},"927":{"$super":{"__isSmartRef__":true,"id":928}},"928":{"varMapping":{"__isSmartRef__":true,"id":929},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":930},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"929":{"obj":{"__isSmartRef__":true,"id":54},"name":"onMouseDown"},"930":{},"931":{"timestamp":{"__isSmartRef__":true,"id":932},"user":"conradcalmez","tags":["user interaction","mouse actions"]},"932":{"isSerializedDate":true,"string":"Thu Dec 20 2012 18:04:52 GMT+0100 (CET)"},"933":{"varMapping":{"__isSmartRef__":true,"id":934},"source":"function onMouseMove(evt) {\n    this.moveCounter = this.moveCounter || 0;\n    if (this.moveCounter >= 20) {\n        this.handleMoveEvent(evt);\n    } else {\n        this.moveCounter += 1;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":939},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"934":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":935}},"935":{"$super":{"__isSmartRef__":true,"id":936}},"936":{"varMapping":{"__isSmartRef__":true,"id":937},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":938},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"937":{"obj":{"__isSmartRef__":true,"id":54},"name":"onMouseMove"},"938":{},"939":{"timestamp":{"__isSmartRef__":true,"id":940},"user":"conradcalmez","tags":["user interaction","mouse actions"]},"940":{"isSerializedDate":true,"string":"Thu Dec 20 2012 18:04:31 GMT+0100 (CET)"},"941":{"varMapping":{"__isSmartRef__":true,"id":942},"source":"function onMouseUp(evt) {\n    this.handleEndEvent(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":947},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"942":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":943}},"943":{"$super":{"__isSmartRef__":true,"id":944}},"944":{"varMapping":{"__isSmartRef__":true,"id":945},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":946},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"945":{"obj":{"__isSmartRef__":true,"id":54},"name":"onMouseUp"},"946":{},"947":{"timestamp":{"__isSmartRef__":true,"id":948},"user":"athomschke","tags":["user interaction","mouse actions"]},"948":{"isSerializedDate":true,"string":"Sun May 20 2012 16:51:50 GMT+0200 (CEST)"},"949":{"varMapping":{"__isSmartRef__":true,"id":950},"source":"function onTouchEnd(evt) {\n    this.handleEndEvent(evt);\n    evt.stop();\n}","funcProperties":{"__isSmartRef__":true,"id":955},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"950":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":951}},"951":{"$super":{"__isSmartRef__":true,"id":952}},"952":{"varMapping":{"__isSmartRef__":true,"id":953},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":954},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"953":{"obj":{"__isSmartRef__":true,"id":54},"name":"onTouchEnd"},"954":{},"955":{"timestamp":{"__isSmartRef__":true,"id":956},"user":"athomschke","tags":["user interaction","touch actions"]},"956":{"isSerializedDate":true,"string":"Sun May 20 2012 15:00:05 GMT+0200 (CEST)"},"957":{"varMapping":{"__isSmartRef__":true,"id":958},"source":"function onTouchMove(evt) {\n    this.handleMoveEvent(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":959},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"958":{"this":{"__isSmartRef__":true,"id":54}},"959":{"timestamp":{"__isSmartRef__":true,"id":960},"user":"conradcalmez","tags":["user interaction","touch actions"]},"960":{"isSerializedDate":true,"string":"Sun Nov 04 2012 11:44:04 GMT+0100 (CET)"},"961":{"varMapping":{"__isSmartRef__":true,"id":962},"source":"function onTouchStart(evt) {\n    if (evt.touches.length === 1) {\n        if (!this.handleStartEvent(evt)) {\n            $super(evt);\n        }\n    } else {\n        this.handleEndEvent(evt);\n        $super(evt);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":967},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"962":{"this":{"__isSmartRef__":true,"id":54},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":963}},"963":{"$super":{"__isSmartRef__":true,"id":964}},"964":{"varMapping":{"__isSmartRef__":true,"id":965},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":966},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"965":{"obj":{"__isSmartRef__":true,"id":54},"name":"onTouchStart"},"966":{},"967":{"timestamp":{"__isSmartRef__":true,"id":968},"user":"conradcalmez","tags":["user interaction","touch actions"]},"968":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"969":{"varMapping":{"__isSmartRef__":true,"id":970},"source":"function toggleActivation() {\n    if (!this.isOnline()) {\n        this.loggedIn(function (status) {\n            if (!status.isDone()) {\n                return;\n            }\n            this.activate();\n        });\n    } else {\n        this.deactivate();\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":971},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"970":{"this":{"__isSmartRef__":true,"id":54}},"971":{"timestamp":{"__isSmartRef__":true,"id":972},"user":"conradcalmez","tags":[]},"972":{"isSerializedDate":true,"string":"Sun Nov 04 2012 11:56:20 GMT+0100 (CET)"},"973":{"varMapping":{"__isSmartRef__":true,"id":974},"source":"function transformPoint(pagePoint) {\n    var whiteboardPoint = pagePoint\n                            .addPt(this.getScrollBounds().topLeft())\n                            .subPt(this.getPositionInWorld());\n    return whiteboardPoint;\n}","funcProperties":{"__isSmartRef__":true,"id":975},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"974":{"this":{"__isSmartRef__":true,"id":54}},"975":{"timestamp":{"__isSmartRef__":true,"id":976},"user":"conradcalmez","tags":["drawing"]},"976":{"isSerializedDate":true,"string":"Sun Nov 04 2012 11:57:15 GMT+0100 (CET)"},"977":{"varMapping":{"__isSmartRef__":true,"id":978},"source":"function getChannel() {\n    return (this.channelName || 'example');\n}","funcProperties":{"__isSmartRef__":true,"id":979},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"978":{"this":{"__isSmartRef__":true,"id":54}},"979":{"timestamp":{"__isSmartRef__":true,"id":980},"user":"conradcalmez","tags":["accessing"]},"980":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"981":{"varMapping":{"__isSmartRef__":true,"id":982},"source":"function createStrokeShape(points, optSpec) {\n    var pointArray,\n        spec,\n        stroke;\n\n    if (points.constructor !== Array) {\n        pointArray = [pt(points.x, points.y)];\n    } else {\n        pointArray = points;\n    }\n    if (optSpec === undefined) {\n        spec = {\n            timestamp: Date.now(),\n            color: this.getColor(),\n            width: this.getPencilSize(),\n            style: this.getPencilStyle()\n        };\n    } else {\n        spec = optSpec;\n        spec.color = Color.rgba(\n            optSpec.color.r,\n            optSpec.color.g,\n            optSpec.color.b,\n            optSpec.color.a\n        );\n    }\n    stroke = Morph.makePolygon(\n        pointArray,\n        1,\n        spec.color,\n        Color.white.withA(0.0001)\n    );\n    stroke.setBorderWidth(spec.width);\n    stroke.setBorderStyle(spec.style);\n    stroke.disableEvents();\n    stroke.disableDropping();\n    stroke.isStroke = true;\n    if (spec.identifier !== undefined) {\n        stroke.identifier = spec.identifier;\n    } else {\n        stroke.identifier = stroke.id;\n    }\n    stroke.time = spec.timestamp;\n    return stroke;\n}","funcProperties":{"__isSmartRef__":true,"id":983},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"982":{"this":{"__isSmartRef__":true,"id":54}},"983":{"timestamp":{"__isSmartRef__":true,"id":984},"user":"conradcalmez","tags":["user interaction","drawing"]},"984":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"985":{"varMapping":{"__isSmartRef__":true,"id":986},"source":"function connectSocket() {\n    var resource = 'socket.io',\n        socketIOpath = '/socket.io.js',\n        socketioURL = 'http://lively-kernel.org:4000/' +\n                      resource +\n                      socketIOpath,\n        source;\n\n    // load Socket.io library if required\n    if (window.io === undefined) {\n        source = JSLoader.getSync(socketioURL);\n        window.eval(source);\n    }\n    \n    // connect to server\n    this.socket = io.connect(\n        'lively-kernel.org:4000',\n        {\n            'force new connection': true,\n            'reconnection delay': 1000\n        }\n    );\n    \n    this.createSocketListeners();\n}","funcProperties":{"__isSmartRef__":true,"id":987},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"986":{"this":{"__isSmartRef__":true,"id":54}},"987":{"timestamp":{"__isSmartRef__":true,"id":988},"user":"conradcalmez","tags":["server connection"]},"988":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:35:19 GMT+0100 (CET)"},"989":{"varMapping":{"__isSmartRef__":true,"id":990},"source":"function deleteMorphWith(identifier) {\n    var toDelete = this.submorphs.find(function (ea) {\n        return (ea.identifier === identifier);\n    });\n    // remove toDelete from oldSubmorphs ary\n    if (!toDelete) {\n        return;\n    }\n    this.oldSubmorphs = this.oldSubmorphs.select(function (ea) {\n        return toDelete.identifier !== ea;\n    });\n    toDelete.remove();\n}","funcProperties":{"__isSmartRef__":true,"id":991},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"990":{"this":{"__isSmartRef__":true,"id":54}},"991":{"timestamp":{"__isSmartRef__":true,"id":992},"user":"conradcalmez","tags":["synchronization","message receiving"]},"992":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"993":{"varMapping":{"__isSmartRef__":true,"id":994},"source":"function createSocketListeners() {\n    var that = this;\n\n    // auth / (dis)connect + channel join\n    this.socket.on('connect', function () {\n        that.setUserName(that.getUserName());   // TODO somehow looks strange\n        that.setChannel(that.getChannel());     // TODO somehow looks strange\n    });\n\n    this.socket.on('error', function (reason) {\n        alert('Unable to connect socket.io on namespace ' +\n              that.getChannel() + ': ' + reason);\n        that.deactivate();\n    });\n\n    // client (dis)connects\n    this.socket.on('clientConnect', function (data) {\n        var dataColor = Color.hsb(data.message.color.h,\n                                  data.message.color.s,\n                                  data.message.color.b),\n            color = data.message.color ? dataColor : Color.black;\n        that.chat.showMessage([\n            {message: data.message.nick, color: color},\n            {message: ' connected', color: Color.black}\n        ]);\n    });\n    \n    this.socket.on('clientDisconnect', function (data) {\n        var dataColor = Color.hsb(data.message.color.h,\n                                  data.message.color.s,\n                                  data.message.color.b),\n            color = data.message.color ? dataColor : Color.black;\n        that.chat.showMessage([\n            {message: data.message.nick, color: color},\n            {message: ' disconnected', color: Color.black}\n        ]);\n        that.owner.submorphs.each(function (ea) {\n            if (ea.isMouseIndicator && ea.identifier === data.message.id) {\n                ea.remove();\n            }\n        });\n    });\n\n    // ping pong example\n    this.socket.on('ping', function (data) {\n        that.socket.emit('pong');\n    });\n    \n    this.socket.on('pong', function (data) {\n        alertOK(data.message);\n    });\n\n    this.chat.createChatListeners();\n\n    this.socket.on('draw', function (data) {\n        that.drawLine(data.message);\n    });\n\n    this.socket.on('clear', function () {\n        that.submorphs.invoke('remove');\n    });\n\n    this.socket.on('delete', function (data) {\n        that.deleteMorphWith(data.message);\n    });\n\n    this.socket.on('morph', function (data) {\n        that.addMorphFrom(data.message);\n    });\n\n    this.socket.on('mouse', function (data) {\n        that.updateMouseIndicators(data);\n    });\n\n    this.socket.on('change', function (data) {\n        that.applyChanges(data.message);\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":995},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"994":{"this":{"__isSmartRef__":true,"id":54}},"995":{"timestamp":{"__isSmartRef__":true,"id":996},"user":"conradcalmez","tags":["server connection","synchronization"]},"996":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:06:49 GMT+0100 (CET)"},"997":{"varMapping":{"__isSmartRef__":true,"id":998},"source":"function addMorphFrom(message) {\n    var that = this,\n        indicatorId = message.id,\n        morph,\n        indicator;\n\n    if (message.serialized) {\n        morph = that.deserializeMorph(message.serialized);\n        that.addMorph(morph);\n    } else {\n        indicator = this.owner.submorphs.find(function (ea) {\n            return ea.identifier === indicatorId;\n        });\n        if (!indicator) {\n            return;\n        }\n\n        indicator.submorphs.each(function (ea) {\n            that.addMorph(ea);\n            ea.setPosition(pt(message.position.x, message.position.y));\n        });\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":999},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"998":{"this":{"__isSmartRef__":true,"id":54}},"999":{"timestamp":{"__isSmartRef__":true,"id":1000},"user":"conradcalmez","tags":["synchronization","message receiving"]},"1000":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1001":{"varMapping":{"__isSmartRef__":true,"id":1002},"source":"function deserializeMorph(JSONmorph) {\n    var serializer = ObjectGraphLinearizer.forNewLivelyCopy(),\n        jso = JSON.parse(JSONmorph.morph),\n        morph = serializer.deserializeJso(jso);\n    morph.withAllSubmorphsDo(function () {\n        if (typeof this.setNewId === 'function') {\n            this.setNewId();\n        }\n    });\n    return morph;\n}","funcProperties":{"__isSmartRef__":true,"id":1003},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1002":{"this":{"__isSmartRef__":true,"id":54}},"1003":{"timestamp":{"__isSmartRef__":true,"id":1004},"user":"conradcalmez","tags":["synchronization"]},"1004":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1005":{"varMapping":{"__isSmartRef__":true,"id":1006},"source":"function defaultColor() {\n    return Color.black;\n}","funcProperties":{"__isSmartRef__":true,"id":1007},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1006":{"this":{"__isSmartRef__":true,"id":54}},"1007":{"timestamp":{"__isSmartRef__":true,"id":1008},"user":"conradcalmez","tags":["accessing"]},"1008":{"isSerializedDate":true,"string":"Fri Apr 27 2012 20:45:03 GMT+0200 (CEST)"},"1009":{"varMapping":{"__isSmartRef__":true,"id":1010},"source":"function getConnectedUserNames() {\n    if (this.isOnline()) {\n        this.socket.emit('names');\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1011},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1010":{"this":{"__isSmartRef__":true,"id":54}},"1011":{"timestamp":{"__isSmartRef__":true,"id":1012},"user":"conradcalmez","tags":["user interaction","message sending"]},"1012":{"isSerializedDate":true,"string":"Sun Nov 04 2012 12:33:30 GMT+0100 (CET)"},"1013":{"varMapping":{"__isSmartRef__":true,"id":1014},"source":"function defaultPencilSize() {\n    return 1;\n}","funcProperties":{"__isSmartRef__":true,"id":1015},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1014":{"this":{"__isSmartRef__":true,"id":54}},"1015":{"timestamp":{"__isSmartRef__":true,"id":1016},"user":"conradcalmez","tags":["accessing"]},"1016":{"isSerializedDate":true,"string":"Mon Apr 30 2012 08:59:02 GMT+0200 (CEST)"},"1017":{"varMapping":{"__isSmartRef__":true,"id":1018},"source":"function defaultPencilStyle() {\n    return \"solid\";\n}","funcProperties":{"__isSmartRef__":true,"id":1019},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1018":{"this":{"__isSmartRef__":true,"id":54}},"1019":{"timestamp":{"__isSmartRef__":true,"id":1020},"user":"conradcalmez","tags":["accessing"]},"1020":{"isSerializedDate":true,"string":"Wed May 02 2012 15:03:39 GMT+0200 (CEST)"},"1021":{"varMapping":{"__isSmartRef__":true,"id":1022},"source":"function applyChanges(diffL, optInitialMorphIds) {\n    var that = this,\n        toRemove,\n        morphChange,\n        morph;\n\n    if (diffL.removed) {\n        toRemove = this.withAllSubmorphsDetect(function (ea) {\n            return ea.identifier === diffL.removed;\n        });\n        if (toRemove) {\n            toRemove.remove();\n        }\n    } else {\n        Properties.own(diffL).each(function (ea) {\n            if (diffL[ea] === 'null') {\n                return false;\n            }\n            morphChange = lively.persistence.Serializer.deserialize(diffL[ea]);\n            morph = that.withAllSubmorphsDetect(function (m) {\n                return m.identifier === ea || m.id === ea;\n            });\n\n            if (!morph) {\n                return false;\n            }\n\n            morph.applyModifications(morphChange.modified, true);\n            that.fakeCopy(morph.identifier);\n\n            that.applySubmorphOrderChanges(\n                morph,\n                morphChange.removed,\n                morphChange.added,\n                optInitialMorphIds\n            );\n            morph.refreshRenderContext();\n        });\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1023},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1022":{"this":{"__isSmartRef__":true,"id":54}},"1023":{"timestamp":{"__isSmartRef__":true,"id":1024},"user":"conradcalmez","tags":["diffing","message receiving"]},"1024":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1025":{"varMapping":{"__isSmartRef__":true,"id":1026},"source":"function fakeCopy(optIdentifiers) {\n    this.prevState = this.submorphs.collect(function (ea) {\n        var m,\n            identifierIndex;\n        \n        identifierIndex = optIdentifiers ?\n                            optIdentifiers.indexOf(ea.identifier) :\n                            -1;\n\n        if (ea.isStroke) {\n            return false;\n        }\n        if (!optIdentifiers || identifierIndex >= 0) {\n            m = ea.copy(['attributeConnections']);\n            m.identifier = ea.identifier;\n            m.setName(ea.name);\n            return m;\n        }\n        // TODO what is returned in this case here?\n    }).select(function (ea) {\n        return ea;\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":1027},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1026":{"this":{"__isSmartRef__":true,"id":54}},"1027":{"timestamp":{"__isSmartRef__":true,"id":1028},"user":"conradcalmez","tags":["diffing"]},"1028":{"isSerializedDate":true,"string":"Tue Feb 12 2013 15:55:24 GMT+0100 (CET)"},"1029":{"varMapping":{"__isSmartRef__":true,"id":1030},"source":"function observeChanges() {\n    var that = this,\n        diffL = {},\n        remove = false,\n        diffLNotEmpty;\n\n    if (this.prevState === undefined) {\n        this.fakeCopy();\n    }\n\n    this.prevState && this.prevState.each(function (sub) {\n        var world = lively.morphic.World.current(),\n            match = that.submorphs.find(function (ea) {\n                return (sub.identifier === ea.identifier);\n            }),\n            tmpDiffList,\n            identifierHoldingMorph,\n            morphInHand;\n\n        if (match) {\n            tmpDiffList = sub.twoWayDiff(\n                match,\n                that.doNotSerializeList.concat(['identifier'])\n            );\n            if (tmpDiffList &&\n                    tmpDiffList.isEmpty &&\n                    !tmpDiffList.isEmpty()) {\n                Properties.own(tmpDiffList).each(function (ea) {\n                    var prop = tmpDiffList[ea];\n                    if (prop.isEmpty && !prop.isEmpty()) {\n                        diffL[prop.matchingId] = prop;\n                        diffL[prop.matchingId].flattenPropertyTree();\n                    }\n                });\n            }\n        } else if (!sub.isStroke) {\n            identifierHoldingMorph = that.owner.submorphs.find(function (ea) {\n                var identifierIndex = ea.submorphs.pluck('identifier').indexOf(\n                    sub.identifier\n                );\n                return (ea.isMouseIndicator && identifierIndex >= 0);\n            });\n            morphInHand = world.firstHand().submorphs.find(function (ea) {\n                return ea.identifier === sub.identifier;\n            });\n            if (!identifierHoldingMorph && !morphInHand) {\n                diffL = sub.identifier;\n                remove = true;\n            }\n        }\n    });\n    diffLNotEmpty = Properties.own(diffL).find(function (ea) {\n        return diffL[ea].isEmpty && !diffL[ea].isEmpty();\n    });\n    if (diffLNotEmpty) {\n        that.sendChange(diffL, remove);\n    }\n    this.fakeCopy.bind(this).delay(0);\n}","funcProperties":{"__isSmartRef__":true,"id":1031},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1030":{"this":{"__isSmartRef__":true,"id":54}},"1031":{"timestamp":{"__isSmartRef__":true,"id":1032},"user":"conradcalmez","tags":["diffing"]},"1032":{"isSerializedDate":true,"string":"Sun Feb 10 2013 21:04:16 GMT+0100 (CET)"},"1033":{"varMapping":{"__isSmartRef__":true,"id":1034},"source":"function sendChange(change, optRemoved) {\n    var that = this,\n        serializedChange = {};\n\n    if (this.isOnline()) {\n        if (optRemoved) {\n            serializedChange.removed = change;\n        } else {\n            Properties.own(change).each(function (ea) {\n                if (Properties.own(change[ea].removed).length > 0) {\n                    that.sendMorph(\n                        {identifier: that.socket.socket.sessionid},\n                        true\n                    );\n                }\n            });\n            Properties.own(change).each(function (ea) {\n                var serializer = lively.persistence.Serializer;\n                serializedChange[ea] = serializer.serialize(change[ea]);\n            });\n        }\n        this.socket.emit('change', {\n            message: serializedChange,\n            me: false,\n            broadcast: true\n        });\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1035},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1034":{"this":{"__isSmartRef__":true,"id":54}},"1035":{"timestamp":{"__isSmartRef__":true,"id":1036},"user":"conradcalmez","tags":["message sending"]},"1036":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1037":{"varMapping":{"__isSmartRef__":true,"id":1038},"source":"function createMouseIndicator(id, colorCode, nick) {\n    var world = lively.morphic.World.current(),\n        indicator = Morph.makeRectangle(\n            rect(world.getExtent().subXY(10, 10), world.getExtent())\n        );\n\n    indicator.identifier = id;\n    indicator.isMouseIndicator = true;\n    indicator.disableDropping();\n    if (colorCode) {\n        indicator.setFill(Color.hsb(colorCode.h, colorCode.s, colorCode.b));\n    }\n    indicator.setToolTip(nick);\n    indicator.moveOnBorderFrom = function (ownerMorph, position) {\n        var extent = ownerMorph.getExtent(),\n            original = true;\n        if (position.x > extent.x) {            // TODO refactor magic numbers\n            position.x = extent.x;\n            original = false;\n        } else if (position.x < 0) {\n            position.x = 0;\n            original = false;\n        }\n        if (position.y > extent.y) {\n            position.y = extent.y;\n            original = false;\n        } else if (position.y < 21) {\n            position.y = 21;\n            original = false;\n        }\n        this.setPosition(position);\n        if (original) {\n            this.submorphs.invoke('setVisible', true);\n        } else {\n            this.submorphs.invoke('setVisible', false);\n        }\n    };\n    this.owner.addMorph(indicator);\n    return indicator;\n}","funcProperties":{"__isSmartRef__":true,"id":1039},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1038":{"this":{"__isSmartRef__":true,"id":54}},"1039":{"timestamp":{"__isSmartRef__":true,"id":1040},"user":"conradcalmez","tags":["message response","user interface"]},"1040":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1041":{"varMapping":{"__isSmartRef__":true,"id":1042},"source":"function updateMouseIndicators(data) {\n    var that = this,\n        position = pt(data.message.x, data.message.y)\n                        .subPt(this.getScrollBounds().topLeft())\n                        .addPt(this.getPosition()),\n        indicator = this.owner.submorphs.find(function (ea) {\n            return ea.identifier === data.message.id;\n        }) || this.createMouseIndicator(\n            data.message.id,\n            data.message.color,\n            data.message.nick\n        );\n\n    if (data.message.remove) {\n        indicator.remove();\n        return;\n    }\n\n    indicator.moveOnBorderFrom(this, position);\n\n    if (data.message.morphs) {\n        data.message.morphs.each(function (ea) {\n            var subMorph;\n            if (ea.morph) {\n                subMorph = that.deserializeMorph(ea.morph);\n            } else {\n                subMorph = that.withAllSubmorphsDetect(function (each) {\n                    return ea.identifier === each.identifier;\n                });\n            }\n            if (!that.prevState) {\n                that.prevState = [];\n            }\n            that.prevState = that.prevState.select(function (each) {\n                return each.identifier !== subMorph.identifier;\n            });\n            indicator.addMorphBack(subMorph);\n            // self repairing system could apply a submorph position here\n        });\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1043},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1042":{"this":{"__isSmartRef__":true,"id":54}},"1043":{"timestamp":{"__isSmartRef__":true,"id":1044},"user":"conradcalmez","tags":["message receiving"]},"1044":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1045":{"varMapping":{"__isSmartRef__":true,"id":1046},"source":"function onTouchOut(evt) {\n    this.handleOutEvent(evt);\n}","funcProperties":{"__isSmartRef__":true,"id":1047},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1046":{"this":{"__isSmartRef__":true,"id":54}},"1047":{"timestamp":{"__isSmartRef__":true,"id":1048},"user":"athomschke","tags":["user interaction"]},"1048":{"isSerializedDate":true,"string":"Sun May 20 2012 14:58:38 GMT+0200 (CEST)"},"1049":{"varMapping":{"__isSmartRef__":true,"id":1050},"source":"function sendLine(line) {\n    if (this.isOnline()) {\n        this.socket.emit('draw', {\n            message: line,\n            me: false,        // drawn locally ...\n            broadcast: true  // sent to all others\n        });\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1051},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1050":{"this":{"__isSmartRef__":true,"id":54}},"1051":{"timestamp":{"__isSmartRef__":true,"id":1052},"user":"conradcalmez","tags":["message sending"]},"1052":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1053":{"varMapping":{"__isSmartRef__":true,"id":1054},"source":"function sendMorph(aMorph, doNotAddToWhiteboard, optSerialize) {\n    if (this.isOnline()) {\n        this.socket.emit('morph', {\n            message: {\n                morphId: aMorph.identifier,\n                doNotAddToWhiteboard: doNotAddToWhiteboard,\n                serialized: optSerialize && aMorph.serialize()\n            },\n            me: false,\n            broadcast: true\n        });\n        this.enteredBefore = false;\n    }\n    if (this.prevState !== undefined) {\n        if (this.submorphs.length !== this.prevState.length) {\n            this.fakeCopy();\n        }\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1055},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1054":{"this":{"__isSmartRef__":true,"id":54}},"1055":{"timestamp":{"__isSmartRef__":true,"id":1056},"user":"conradcalmez","tags":["message sending"]},"1056":{"isSerializedDate":true,"string":"Tue Feb 12 2013 15:27:06 GMT+0100 (CET)"},"1057":{"varMapping":{"__isSmartRef__":true,"id":1058},"source":"function handleStartEvent(evt) {\n    var world = lively.morphic.World.current(),\n        morphs = world.morphsContainingPoint(evt.getPosition()),\n        whiteboardIndex = morphs.indexOf(this);\n    if (whiteboardIndex < 0) {\n        return false;\n    }\n    // TODO what is the implication of this?\n    // all morphs behind the whiteboard will be ignored in the following check\n    // what does array position mean?\n    morphs.splice(whiteboardIndex);\n    if (!morphs.find(function (ea) { return !ea.isStroke; }) &&\n            world.firstHand().submorphs.length <= 0) {\n        this.isDrawing = true;\n        evt.stop();\n        return true;\n    }\n    return false;\n}","funcProperties":{"__isSmartRef__":true,"id":1059},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1058":{"this":{"__isSmartRef__":true,"id":54}},"1059":{"timestamp":{"__isSmartRef__":true,"id":1060},"user":"conradcalmez","tags":["user interaction"]},"1060":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1061":{"varMapping":{"__isSmartRef__":true,"id":1062},"source":"function handleEndEvent(evt) {\n    if (this.isDrawing) {\n        this.isDrawing = false;\n        this.currentStroke = null;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1063},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1062":{"this":{"__isSmartRef__":true,"id":54}},"1063":{"timestamp":{"__isSmartRef__":true,"id":1064},"user":"conradcalmez","tags":["user interaction"]},"1064":{"isSerializedDate":true,"string":"Thu Dec 20 2012 18:13:25 GMT+0100 (CET)"},"1065":{"varMapping":{"__isSmartRef__":true,"id":1066},"source":"function handleMoveEvent(evt) {\n    var point = this.transformPoint(evt.getPosition());\n    if (this.isDrawing) {\n        this.lineTo(point);\n    }\n    if (this.isOnline()) {\n        this.moveMorphInHand(point);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1067},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1066":{"this":{"__isSmartRef__":true,"id":54}},"1067":{"timestamp":{"__isSmartRef__":true,"id":1068},"user":"conradcalmez","tags":["user interaction"]},"1068":{"isSerializedDate":true,"string":"Thu Dec 20 2012 17:55:45 GMT+0100 (CET)"},"1069":{"varMapping":{"__isSmartRef__":true,"id":1070},"source":"function handleOutEvent(evt) {\n    var world = lively.morphic.World.current();\n    if (world.morphsContainingPoint(evt.getPosition()).indexOf(this) < 0) {\n        this.handleEndEvent(evt);\n        if (this.isOnline()) {\n            this.enteredBefore = false;\n            this.socket.emit('mouse', {\n                message: {\n                    x: evt.getPosition().x,\n                    y: evt.getPosition().y,\n                    remove: world.firstHand().submorphs.slice(1).collect(\n                        function (ea) {\n                            return ea.identifier;\n                        }\n                    )\n                },\n                me: false,        // happens on client\n                broadcast: true  // get send to other clients\n            });\n            world.firstHand().withAllSubmorphsDo(function (ea) {\n                ea.identifier = undefined;\n            });\n        }\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":1071},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1070":{"this":{"__isSmartRef__":true,"id":54}},"1071":{"timestamp":{"__isSmartRef__":true,"id":1072},"user":"conradcalmez","tags":["user interaction","message sending"]},"1072":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1073":{"varMapping":{"__isSmartRef__":true,"id":1074},"source":"function moveMorphInHand(point) {\n    //sync mouse position\n    var that = this,\n        world = lively.morphic.World.current(),\n        data = {x: point.x,\n                y: point.y},\n        submorphsOfHand = world.firstHand().submorphs.slice(1);\n\n    if (submorphsOfHand.length > 0) { // sync new morph in hand\n        if (this.enteredBefore) {// morph was in hand before\n            data.isNewMorphPosition = true;\n            data.offset = {\n                x: submorphsOfHand[0].getPosition().x,\n                y: submorphsOfHand[0].getPosition().y\n            };\n            data.ids = submorphsOfHand.pluck('identifier');\n        } else { // morph must be given to hand\n            this.enteredBefore = true;\n            data.morphs = submorphsOfHand.map(function (ea) {\n                var info = ea.identifier ?\n                            {} : {morph: that.serializeMorph(ea)};\n                return Object.merge(\n                    [\n                        info,\n                        {identifier: ea.identifier},\n                        {offset: {\n                            x: ea.getPosition().x,\n                            y: ea.getPosition().y\n                        }}\n                    ]\n                );\n            });\n        }\n    }\n\n    this.socket.emit('mouse', {\n        message: data,\n        me: false,\n        broadcast: true\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":1075},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1074":{"this":{"__isSmartRef__":true,"id":54}},"1075":{"timestamp":{"__isSmartRef__":true,"id":1076},"user":"conradcalmez","tags":["user interaction","message sending"]},"1076":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1077":{"varMapping":{"__isSmartRef__":true,"id":1078},"source":"function serializeMorph(morph) {\n    var serialized;\n\n    morph.withAllSubmorphsDo(function (ea) {\n        ea.identifier = ea.id;\n    });\n    if (morph.selectionMorph) {\n        disconnect(morph, \"extent\", morph.selectionMorph, \"setExtent\");\n        disconnect(morph, \"_Position\", morph.selectionMorph, \"setPosition\");\n        disconnect(morph, \"_Rotation\", morph.selectionMorph, \"setRotation\");\n        disconnect(morph, \"_Scale\", morph.selectionMorph, \"setScale\");\n    }\n    serialized = morph.serialize(this.doNotSerializeList);\n    if (morph.selectionMorph) {\n        connect(morph, \"extent\", morph.selectionMorph, \"setExtent\");\n        connect(morph, \"_Position\", morph.selectionMorph, \"setPosition\");\n        connect(morph, \"_Rotation\", morph.selectionMorph, \"setRotation\");\n        connect(morph, \"_Scale\", morph.selectionMorph, \"setScale\");\n    }\n    return serialized;\n}","funcProperties":{"__isSmartRef__":true,"id":1079},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1078":{"this":{"__isSmartRef__":true,"id":54}},"1079":{"timestamp":{"__isSmartRef__":true,"id":1080},"user":"conradcalmez","tags":[]},"1080":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1081":{"varMapping":{"__isSmartRef__":true,"id":1082},"source":"function applySubmorphOrderChanges(morph, toAdd, toRemove,\n                    optInitialMorphIds) {\n    var that = this,\n        alreadyOnBoard,\n        toRemoveIdentifier;\n\n    Properties.own(toAdd).each(function (submorphId) {\n        var morphId = toAdd[submorphId].identifier;\n        if (optInitialMorphIds && optInitialMorphIds.indexOf(morphId) < 0) {\n            return;\n        }\n        alreadyOnBoard = that.withAllSubmorphsDetect(function (ea) {\n            return ea.identifier === toAdd[submorphId].identifier;\n        });\n        if (alreadyOnBoard) {\n            morph.addMorph(alreadyOnBoard);\n        } else {\n            morph.addMorph(toAdd[submorphId]);\n        }\n    });\n    Properties.own(toRemove).each(function (toRemoveId) {\n        toRemoveIdentifier = toRemove[toRemoveId].identifier;\n        morph.submorphs.find(function (toRemoveMorph) {\n            if (toRemoveMorph.identifier === toRemoveIdentifier) {\n                toRemoveMorph.remove();\n            }\n        });\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":1083},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1082":{"this":{"__isSmartRef__":true,"id":54}},"1083":{"timestamp":{"__isSmartRef__":true,"id":1084},"user":"conradcalmez","tags":[]},"1084":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1085":{"varMapping":{"__isSmartRef__":true,"id":1086},"source":"function loggedIn(callback) {\n    var that = this,\n        world = lively.morphic.World.current(),\n        wr,\n        dummy;\n\n    if (!world.requestUserName()) {\n        wr = new WebResource(Config.userNameURL);\n        dummy = {\n            doItWith: function (input) {\n                callback.apply(that, input);\n            }\n        };\n        connect(wr, \"status\", dummy, \"doItWith\", {\n            converter: function (status) {\n                return [status];\n            }\n        });\n        wr.beAsync();\n        wr.post();\n        return false;\n    }\n    callback.apply(this, [{isDone: function () { return true; }}]);\n    return true;\n}","funcProperties":{"__isSmartRef__":true,"id":1087},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1086":{"this":{"__isSmartRef__":true,"id":54}},"1087":{"timestamp":{"__isSmartRef__":true,"id":1088},"user":"conradcalmez","tags":["accessing","user interface"]},"1088":{"isSerializedDate":true,"string":"Sun Nov 04 2012 18:03:36 GMT+0100 (CET)"},"1089":{"varMapping":{"__isSmartRef__":true,"id":1090},"source":"function packLine(id, vertice, color, width, style) {\n    var line = {\n        identifier: id,\n        vector: vertice,\n        color: color,\n        width: width,\n        style: style\n    };\n    return line;\n}","funcProperties":{"__isSmartRef__":true,"id":1091},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1090":{"this":{"__isSmartRef__":true,"id":54}},"1091":{"timestamp":{"__isSmartRef__":true,"id":1092},"user":"conradcalmez","tags":["synchronization"]},"1092":{"isSerializedDate":true,"string":"Mon Feb 11 2013 19:13:40 GMT+0100 (CET)"},"1093":{"varMapping":{"__isSmartRef__":true,"id":1094},"source":"function drawLine(line) {\n    var stroke = this.submorphs.find(function (ea) {\n            return line.identifier === ea.identifier;\n        }),\n        vector = line.vector;\n    if (!stroke) {\n        stroke = this.createStrokeShape(vector, line);\n        this.addMorph(stroke);\n    }\n    if (!(vector instanceof Array)) {\n        vector = [pt(vector.x, vector.y)];\n    }\n    debugger;\n    stroke.setVertices(\n        stroke.vertices().concat(\n            vector.map(function (ea) {\n                return pt(ea.x, ea.y);\n            })\n        )\n    );\n}","funcProperties":{"__isSmartRef__":true,"id":1095},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1094":{"this":{"__isSmartRef__":true,"id":54}},"1095":{"timestamp":{"__isSmartRef__":true,"id":1096},"user":"conradcalmez","tags":["user interaction","drawing","message receiving"]},"1096":{"isSerializedDate":true,"string":"Tue Feb 12 2013 17:32:23 GMT+0100 (CET)"},"1097":{"varMapping":{"__isSmartRef__":true,"id":1098},"source":"function defaultActiveColor() {\n    return Color.green;\n}","funcProperties":{"__isSmartRef__":true,"id":1099},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1098":{"this":{"__isSmartRef__":true,"id":54}},"1099":{"timestamp":{"__isSmartRef__":true,"id":1100},"user":"conradcalmez","tags":["accessing"]},"1100":{"isSerializedDate":true,"string":"Sun Feb 10 2013 13:12:51 GMT+0100 (CET)"},"1101":{"varMapping":{"__isSmartRef__":true,"id":1102},"source":"function createTestMorph() {\n    var world = lively.morphic.World.current(),\n        tester = world.loadPartItem(\"SyncMorphTester\", \"PartsBin/Collaboration\");\n    tester.targetMorph.setSyncMorph(this);\n    tester.openInHand();\n}","funcProperties":{"__isSmartRef__":true,"id":1103},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1102":{"this":{"__isSmartRef__":true,"id":54}},"1103":{"timestamp":{"__isSmartRef__":true,"id":1104},"user":"conradcalmez","tags":["user interaction","testing"]},"1104":{"isSerializedDate":true,"string":"Sun Feb 10 2013 13:41:36 GMT+0100 (CET)"},"1105":{"varMapping":{"__isSmartRef__":true,"id":1106},"source":"function getCurrentStroke(point) {\n    if (this.currentStroke === null) {\n        this.currentStroke = this.createStrokeShape(point);\n        this.addMorph(this.currentStroke);\n    }\n    return this.currentStroke;\n}","funcProperties":{"__isSmartRef__":true,"id":1107},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1106":{"this":{"__isSmartRef__":true,"id":54}},"1107":{"timestamp":{"__isSmartRef__":true,"id":1108},"user":"conradcalmez","tags":["accessing"]},"1108":{"isSerializedDate":true,"string":"Tue Feb 12 2013 15:41:11 GMT+0100 (CET)"},"1109":{"sourceObj":{"__isSmartRef__":true,"id":46},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":46},"targetMethodName":"onFire","varMapping":{"__isSmartRef__":true,"id":1110},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1110":{"source":{"__isSmartRef__":true,"id":46},"target":{"__isSmartRef__":true,"id":46}},"1111":{"ensurePressed":{"__isSmartRef__":true,"id":1112},"ensureDepressed":{"__isSmartRef__":true,"id":1115},"onFire":{"__isSmartRef__":true,"id":1118}},"1112":{"varMapping":{"__isSmartRef__":true,"id":1113},"source":"function ensurePressed() {\n        if (this.isActive) {\n            this.isPressed = true;\n            this.changeAppearanceFor(true);\n        }\n    }","funcProperties":{"__isSmartRef__":true,"id":1114},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1113":{"this":{"__isSmartRef__":true,"id":46}},"1114":{},"1115":{"varMapping":{"__isSmartRef__":true,"id":1116},"source":"function ensureDepressed() {\n        this.isPressed = false;\n        this.changeAppearanceFor(false);\n    }","funcProperties":{"__isSmartRef__":true,"id":1117},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1116":{"this":{"__isSmartRef__":true,"id":46}},"1117":{},"1118":{"varMapping":{"__isSmartRef__":true,"id":1119},"source":"function onFire() {\n        this.targetObject[this.toggleFunction].apply(this.targetObject);\n    }","funcProperties":{"__isSmartRef__":true,"id":1120},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1119":{"this":{"__isSmartRef__":true,"id":46}},"1120":{},"1121":{"submorphs":[{"__isSmartRef__":true,"id":1122}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1127},"eventHandler":{"__isSmartRef__":true,"id":1128},"_ClipMode":"visible","derivationIds":[],"id":"981C4B89-16C7-4D6A-8CFB-9452F3D88582","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":1122},"_PreviousBorderWidth":1,"whiteboard":{"__isSmartRef__":true,"id":54},"targetObject":{"__isSmartRef__":true,"id":600},"targetState":"_Visible","toggleFunction":"toggle","_ToolTip":"opens the chat pane","extraButton":true,"attributeConnections":[{"__isSmartRef__":true,"id":1129}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"owner":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["_Position"],"_Rotation":0,"_Scale":1,"isPressed":false,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1131},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(60.0,1.0)"},"1122":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1123},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":1124}],"eventHandler":{"__isSmartRef__":true,"id":1126},"_ClipMode":"hidden","derivationIds":[],"id":"DD602A3D-70E5-433A-AD38-4861757D13B8","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"__serializedExpressions__":["_TextColor"],"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":1121},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"1123":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":0,"_Fill":null,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"1124":{"style":{"__isSmartRef__":true,"id":1125},"chunkOwner":{"__isSmartRef__":true,"id":1122},"_id":"_4366","storedString":"C","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"1125":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"1126":{"morph":{"__isSmartRef__":true,"id":1122},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1127":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"1128":{"morph":{"__isSmartRef__":true,"id":1121},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1129":{"sourceObj":{"__isSmartRef__":true,"id":1121},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":1121},"targetMethodName":"onFire","varMapping":{"__isSmartRef__":true,"id":1130},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1130":{"source":{"__isSmartRef__":true,"id":1121},"target":{"__isSmartRef__":true,"id":1121}},"1131":{"ensurePressed":{"__isSmartRef__":true,"id":1132},"ensureDepressed":{"__isSmartRef__":true,"id":1135},"onFire":{"__isSmartRef__":true,"id":1138}},"1132":{"varMapping":{"__isSmartRef__":true,"id":1133},"source":"function ensurePressed() {\n        if (this.isActive) {\n            this.isPressed = true;\n            this.changeAppearanceFor(true);\n        }\n    }","funcProperties":{"__isSmartRef__":true,"id":1134},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1133":{"this":{"__isSmartRef__":true,"id":1121}},"1134":{},"1135":{"varMapping":{"__isSmartRef__":true,"id":1136},"source":"function ensureDepressed() {\n        this.isPressed = false;\n        this.changeAppearanceFor(false);\n    }","funcProperties":{"__isSmartRef__":true,"id":1137},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1136":{"this":{"__isSmartRef__":true,"id":1121}},"1137":{},"1138":{"varMapping":{"__isSmartRef__":true,"id":1139},"source":"function onFire() {\n        this.targetObject[this.toggleFunction].apply(this.targetObject);\n    }","funcProperties":{"__isSmartRef__":true,"id":1140},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1139":{"this":{"__isSmartRef__":true,"id":1121}},"1140":{},"1141":{"submorphs":[{"__isSmartRef__":true,"id":1142}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1147},"eventHandler":{"__isSmartRef__":true,"id":1148},"_ClipMode":"visible","derivationIds":[],"id":"A772001B-1167-446F-98E0-19F3656D95AF","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":1142},"_PreviousBorderWidth":1,"whiteboard":{"__isSmartRef__":true,"id":54},"targetObject":{"__isSmartRef__":true,"id":93},"targetState":"_Visible","toggleFunction":"toggle","_ToolTip":"opens the pencil styler","extraButton":true,"attributeConnections":[{"__isSmartRef__":true,"id":1149}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"owner":{"__isSmartRef__":true,"id":1},"__serializedExpressions__":["_Position"],"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1151},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(80.0,1.0)"},"1142":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1143},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":1144}],"eventHandler":{"__isSmartRef__":true,"id":1146},"_ClipMode":"hidden","derivationIds":[],"id":"AEADE239-590C-4D90-995A-32C1A30C572C","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"__serializedExpressions__":["_TextColor"],"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":1141},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"1143":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":0,"_Fill":null,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"1144":{"style":{"__isSmartRef__":true,"id":1145},"chunkOwner":{"__isSmartRef__":true,"id":1142},"_id":"_4369","storedString":"P","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"1145":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"1146":{"morph":{"__isSmartRef__":true,"id":1142},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1147":{"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(20.0,20.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"1148":{"morph":{"__isSmartRef__":true,"id":1141},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1149":{"sourceObj":{"__isSmartRef__":true,"id":1141},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":1141},"targetMethodName":"onFire","varMapping":{"__isSmartRef__":true,"id":1150},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1150":{"source":{"__isSmartRef__":true,"id":1141},"target":{"__isSmartRef__":true,"id":1141}},"1151":{"ensurePressed":{"__isSmartRef__":true,"id":1152},"ensureDepressed":{"__isSmartRef__":true,"id":1155},"onFire":{"__isSmartRef__":true,"id":1158}},"1152":{"varMapping":{"__isSmartRef__":true,"id":1153},"source":"function ensurePressed() {\n        if (this.isActive) {\n            this.isPressed = true;\n            this.changeAppearanceFor(true);\n        }\n    }","funcProperties":{"__isSmartRef__":true,"id":1154},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1153":{"this":{"__isSmartRef__":true,"id":1141}},"1154":{},"1155":{"varMapping":{"__isSmartRef__":true,"id":1156},"source":"function ensureDepressed() {\n        this.isPressed = false;\n        this.changeAppearanceFor(false);\n    }","funcProperties":{"__isSmartRef__":true,"id":1157},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1156":{"this":{"__isSmartRef__":true,"id":1141}},"1157":{},"1158":{"varMapping":{"__isSmartRef__":true,"id":1159},"source":"function onFire() {\n        this.targetObject[this.toggleFunction].apply(this.targetObject);\n    }","funcProperties":{"__isSmartRef__":true,"id":1160},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1159":{"this":{"__isSmartRef__":true,"id":1141}},"1160":{},"1161":{"_AppearanceStylingMode":true,"_BorderStylingMode":true,"_BorderWidth":0,"_BorderRadius":"8px 8px 0px 0px","__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(958.8,22.0)","_Padding":"lively.rect(0,0,0,0)"},"1162":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1163":{"resizeWidth":true,"adjustForNewBounds":true},"1164":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)"},"1165":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)"},"1166":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)"},"1167":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)"},"1168":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)"},"1169":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)"},"1170":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)"},"1171":{"morph":{"__isSmartRef__":true,"id":1},"connectedControlPoints":[],"__serializedExpressions__":["position"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)"},"1172":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"globalTransform","targetObj":{"__isSmartRef__":true,"id":1173},"targetMethodName":"realignConnection","varMapping":{"__isSmartRef__":true,"id":1233},"dependendConnections":[{"__isSmartRef__":true,"id":1234},{"__isSmartRef__":true,"id":1236},{"__isSmartRef__":true,"id":1238},{"__isSmartRef__":true,"id":1240},{"__isSmartRef__":true,"id":1242},{"__isSmartRef__":true,"id":1244},{"__isSmartRef__":true,"id":1246},{"__isSmartRef__":true,"id":1248}],"oldTransform":{"__isSmartRef__":true,"id":1250},"__LivelyClassName__":"lively.morphic.GeometryTransformConnection","__SourceModuleName__":"Global.lively.bindings.GeometryBindings"},"1173":{"submorphs":[{"__isSmartRef__":true,"id":1174}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1181},"eventHandler":{"__isSmartRef__":true,"id":1184},"_ClipMode":"visible","derivationIds":[],"id":"F4CB8893-5E3B-4367-A9D9-6B7420B045D4","droppingEnabled":true,"halosEnabled":true,"owner":null,"controlPoints":[{"__isSmartRef__":true,"id":1185},{"__isSmartRef__":true,"id":1186}],"con":{"__isSmartRef__":true,"id":1187},"showsMorphMenu":true,"attributeConnections":[{"__isSmartRef__":true,"id":1189},{"__isSmartRef__":true,"id":1217},{"__isSmartRef__":true,"id":1219},{"__isSmartRef__":true,"id":1221},{"__isSmartRef__":true,"id":1223}],"doNotSerialize":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"doNotCopyProperties":["$$_Position","$$_Scale","$$_Rotation","$$owner"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1225},"__LivelyClassName__":"lively.morphic.Path","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1174":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1175},"eventHandler":{"__isSmartRef__":true,"id":1180},"_ClipMode":"visible","derivationIds":[],"id":"2AEAB14C-B73C-4CF9-9423-80F8E3C5734F","droppingEnabled":true,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1173},"_Rotation":-1.750649826587375,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Path","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(776.6,88.6)"},"1175":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":1176},{"__isSmartRef__":true,"id":1177},{"__isSmartRef__":true,"id":1178},{"__isSmartRef__":true,"id":1179}],"_BorderWidth":0,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Path","__SourceModuleName__":"Global.lively.morphic.PathShapes","_Position":"lively.pt(-12.0,-6.0)","_Extent":"lively.pt(17.0,13.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(0,0,0)"},"1176":{"isAbsolute":true,"x":-11,"y":-5,"__LivelyClassName__":"lively.morphic.Shapes.MoveTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1177":{"isAbsolute":true,"x":-11,"y":7,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1178":{"isAbsolute":true,"x":5,"y":1,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1179":{"isAbsolute":true,"x":-11,"y":-5,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1180":{"morph":{"__isSmartRef__":true,"id":1174},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1181":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":1182},{"__isSmartRef__":true,"id":1183}],"_BorderWidth":1,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Path","__SourceModuleName__":"Global.lively.morphic.PathShapes","_Position":"lively.pt(478.4,21.0)","_Extent":"lively.pt(1.0,1.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"1182":{"isAbsolute":true,"x":780.6,"y":110.55000000000001,"__LivelyClassName__":"lively.morphic.Shapes.MoveTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1183":{"isAbsolute":true,"x":776.6,"y":88.55000000000001,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1184":{"morph":{"__isSmartRef__":true,"id":1173},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1185":{"morph":{"__isSmartRef__":true,"id":1173},"index":0,"__LivelyClassName__":"lively.morphic.ControlPoint","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1186":{"morph":{"__isSmartRef__":true,"id":1173},"index":1,"marker":{"__isSmartRef__":true,"id":1174},"markerDirection":"prev","__LivelyClassName__":"lively.morphic.ControlPoint","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1187":{"sourceObj":{"__isSmartRef__":true,"id":54},"sourceAttrName":"channelName","targetObj":{"__isSmartRef__":true,"id":1},"targetMethodName":"setTitle","varMapping":{"__isSmartRef__":true,"id":1188},"converterString":"function (channelName) {\n            return 'Channel: ' + channelName;\n        }","visualConnector":{"__isSmartRef__":true,"id":1173},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1188":{"source":{"__isSmartRef__":true,"id":54},"target":{"__isSmartRef__":true,"id":1}},"1189":{"sourceObj":{"__isSmartRef__":true,"id":1173},"sourceAttrName":"globalTransform","targetObj":{"__isSmartRef__":true,"id":1190},"targetMethodName":"realignConnection","varMapping":{"__isSmartRef__":true,"id":1216},"dependendConnections":[{"__isSmartRef__":true,"id":1217},{"__isSmartRef__":true,"id":1219},{"__isSmartRef__":true,"id":1221},{"__isSmartRef__":true,"id":1223}],"__LivelyClassName__":"lively.morphic.GeometryTransformConnection","__SourceModuleName__":"Global.lively.bindings.GeometryBindings"},"1190":{"submorphs":[{"__isSmartRef__":true,"id":1191}],"scripts":[],"shape":{"__isSmartRef__":true,"id":1198},"eventHandler":{"__isSmartRef__":true,"id":1201},"_ClipMode":"visible","derivationIds":[],"id":"B1D6C539-E7B6-4546-A26E-53DC1864542C","droppingEnabled":true,"halosEnabled":true,"owner":null,"controlPoints":[{"__isSmartRef__":true,"id":1202},{"__isSmartRef__":true,"id":1203}],"con":{"__isSmartRef__":true,"id":1204},"showsMorphMenu":true,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1208},"__LivelyClassName__":"lively.morphic.Path","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1191":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1192},"eventHandler":{"__isSmartRef__":true,"id":1197},"_ClipMode":"visible","derivationIds":[],"id":"507C855C-8E60-403F-9715-B5063A82237E","droppingEnabled":true,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1190},"_Rotation":-3.095734130837892,"__serializedExpressions__":["_Position"],"__LivelyClassName__":"lively.morphic.Path","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","_Position":"lively.pt(0.0,0.0)"},"1192":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":1193},{"__isSmartRef__":true,"id":1194},{"__isSmartRef__":true,"id":1195},{"__isSmartRef__":true,"id":1196}],"_BorderWidth":0,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor","_Fill"],"__LivelyClassName__":"lively.morphic.Shapes.Path","__SourceModuleName__":"Global.lively.morphic.PathShapes","_Position":"lively.pt(-12.0,-6.0)","_Extent":"lively.pt(17.0,13.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)","_Fill":"Color.rgb(0,0,0)"},"1193":{"isAbsolute":true,"x":-11,"y":-5,"__LivelyClassName__":"lively.morphic.Shapes.MoveTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1194":{"isAbsolute":true,"x":-11,"y":7,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1195":{"isAbsolute":true,"x":5,"y":1,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1196":{"isAbsolute":true,"x":-11,"y":-5,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1197":{"morph":{"__isSmartRef__":true,"id":1191},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1198":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":1199},{"__isSmartRef__":true,"id":1200}],"_BorderWidth":1,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Path","__SourceModuleName__":"Global.lively.morphic.PathShapes","_Position":"lively.pt(-1.0,-1.0)","_Extent":"lively.pt(480.4,23.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"1199":{"isAbsolute":true,"x":479.4,"y":22,"__LivelyClassName__":"lively.morphic.Shapes.MoveTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1200":{"isAbsolute":true,"x":0,"y":0,"__LivelyClassName__":"lively.morphic.Shapes.LineTo","__SourceModuleName__":"Global.lively.morphic.PathShapes"},"1201":{"morph":{"__isSmartRef__":true,"id":1190},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1202":{"morph":{"__isSmartRef__":true,"id":1190},"index":0,"connectedMagnet":null,"__LivelyClassName__":"lively.morphic.ControlPoint","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1203":{"morph":{"__isSmartRef__":true,"id":1190},"index":1,"marker":{"__isSmartRef__":true,"id":1191},"markerDirection":"prev","__LivelyClassName__":"lively.morphic.ControlPoint","__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs"},"1204":{"sourceObj":{"__isSmartRef__":true,"id":54},"sourceAttrName":"globalTransform","targetObj":{"__isSmartRef__":true,"id":1173},"targetMethodName":"realignConnection","varMapping":{"__isSmartRef__":true,"id":1205},"dependendConnections":[],"visualConnector":{"__isSmartRef__":true,"id":1190},"oldTransform":{"__isSmartRef__":true,"id":1206},"__LivelyClassName__":"lively.morphic.GeometryTransformConnection","__SourceModuleName__":"Global.lively.bindings.GeometryBindings"},"1205":{"source":{"__isSmartRef__":true,"id":54},"target":{"__isSmartRef__":true,"id":1173}},"1206":{"d":1,"a":1,"f":30,"e":10,"c":0,"b":0,"matrix_":{"__isSmartRef__":true,"id":1207},"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1207":{"a":1,"b":0,"c":0,"d":1,"e":10,"f":30,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1208":{"morphMenuItems":{"__isSmartRef__":true,"id":1209}},"1209":{"varMapping":{"__isSmartRef__":true,"id":1210},"source":"function morphMenuItems() {\n            var visualConnector = this, con = this.con, world = $world;\n            var items = [\n                ['Edit converter', function() {\n                    var window = lively.bindings.editConnection(con);\n                    window.align(window.bounds().topCenter(),\n                    visualConnector.bounds().bottomCenter())\n                }],\n                ['Hide', function() {\n                    visualConnector.disconnectFromMagnets();\n                    visualConnector.remove();\n                }],\n                ['Disconnect', function() {\n                    alertOK('Disconnected ' + visualConnector.con);\n                    visualConnector.con.visualDisconnect();\n                }],\n                ['Cancel', function() {}]\n            ];\n            return items;\n        }","funcProperties":{"__isSmartRef__":true,"id":1215},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1210":{"this":{"__isSmartRef__":true,"id":1190},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1211}},"1211":{"$super":{"__isSmartRef__":true,"id":1212}},"1212":{"varMapping":{"__isSmartRef__":true,"id":1213},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1214},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1213":{"obj":{"__isSmartRef__":true,"id":1190},"name":"morphMenuItems"},"1214":{},"1215":{},"1216":{"source":{"__isSmartRef__":true,"id":1173},"target":{"__isSmartRef__":true,"id":1190}},"1217":{"sourceObj":{"__isSmartRef__":true,"id":1173},"sourceAttrName":"_Position","targetObj":{"__isSmartRef__":true,"id":1189},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1218},"dependedBy":{"__isSmartRef__":true,"id":1189},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1218":{"source":{"__isSmartRef__":true,"id":1173},"target":{"__isSmartRef__":true,"id":1189}},"1219":{"sourceObj":{"__isSmartRef__":true,"id":1173},"sourceAttrName":"_Scale","targetObj":{"__isSmartRef__":true,"id":1189},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1220},"dependedBy":{"__isSmartRef__":true,"id":1189},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1220":{"source":{"__isSmartRef__":true,"id":1173},"target":{"__isSmartRef__":true,"id":1189}},"1221":{"sourceObj":{"__isSmartRef__":true,"id":1173},"sourceAttrName":"_Rotation","targetObj":{"__isSmartRef__":true,"id":1189},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1222},"dependedBy":{"__isSmartRef__":true,"id":1189},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1222":{"source":{"__isSmartRef__":true,"id":1173},"target":{"__isSmartRef__":true,"id":1189}},"1223":{"sourceObj":{"__isSmartRef__":true,"id":1173},"sourceAttrName":"owner","targetObj":{"__isSmartRef__":true,"id":1189},"targetMethodName":"updateOwners","varMapping":{"__isSmartRef__":true,"id":1224},"dependedBy":{"__isSmartRef__":true,"id":1189},"converterString":"function (newOwner, oldOwner) {\n                    return [newOwner, oldOwner]\n                }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1224":{"source":{"__isSmartRef__":true,"id":1173},"target":{"__isSmartRef__":true,"id":1189}},"1225":{"morphMenuItems":{"__isSmartRef__":true,"id":1226}},"1226":{"varMapping":{"__isSmartRef__":true,"id":1227},"source":"function morphMenuItems() {\n            var visualConnector = this, con = this.con, world = $world;\n            var items = [\n                ['Edit converter', function() {\n                    var window = lively.bindings.editConnection(con);\n                    window.align(window.bounds().topCenter(),\n                    visualConnector.bounds().bottomCenter())\n                }],\n                ['Hide', function() {\n                    visualConnector.disconnectFromMagnets();\n                    visualConnector.remove();\n                }],\n                ['Disconnect', function() {\n                    alertOK('Disconnected ' + visualConnector.con);\n                    visualConnector.con.visualDisconnect();\n                }],\n                ['Cancel', function() {}]\n            ];\n            return items;\n        }","funcProperties":{"__isSmartRef__":true,"id":1232},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1227":{"this":{"__isSmartRef__":true,"id":1173},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1228}},"1228":{"$super":{"__isSmartRef__":true,"id":1229}},"1229":{"varMapping":{"__isSmartRef__":true,"id":1230},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1231},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1230":{"obj":{"__isSmartRef__":true,"id":1173},"name":"morphMenuItems"},"1231":{},"1232":{},"1233":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":1173}},"1234":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"_Position","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1235},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1235":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":1172}},"1236":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"_Scale","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1237},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1237":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":1172}},"1238":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"_Rotation","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1239},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1239":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":1172}},"1240":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"owner","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"updateOwners","varMapping":{"__isSmartRef__":true,"id":1241},"dependedBy":{"__isSmartRef__":true,"id":1172},"converterString":"function (newOwner, oldOwner) {\n                    return [newOwner, oldOwner]\n                }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1241":{"source":{"__isSmartRef__":true,"id":1},"target":{"__isSmartRef__":true,"id":1172}},"1242":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"_Position","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1243},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1243":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":1172}},"1244":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"_Scale","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1245},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1245":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":1172}},"1246":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"_Rotation","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"signalTarget","varMapping":{"__isSmartRef__":true,"id":1247},"dependedBy":{"__isSmartRef__":true,"id":1172},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1247":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":1172}},"1248":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"owner","targetObj":{"__isSmartRef__":true,"id":1172},"targetMethodName":"updateOwners","varMapping":{"__isSmartRef__":true,"id":1249},"dependedBy":{"__isSmartRef__":true,"id":1172},"converterString":"function (newOwner, oldOwner) {\n                    return [newOwner, oldOwner]\n                }","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"1249":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":1172}},"1250":{"d":1,"a":1,"f":0,"e":0,"c":0,"b":0,"matrix_":{"__isSmartRef__":true,"id":1251},"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1251":{"a":1,"b":0,"c":0,"d":1,"e":0,"f":0,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1252":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1253},"eventHandler":{"__isSmartRef__":true,"id":1254},"_ClipMode":"visible","id":"F6D4C48B-8DEC-496F-A4DA-C84DB79ECDB5","droppingEnabled":true,"halosEnabled":true,"_StyleClassNames":["reframe-handle bottom"],"owner":{"__isSmartRef__":true,"id":0},"prevScroll":[0,0],"__serializedExpressions__":["_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1255},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,605.9)"},"1253":{"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(944.8,4.0)","_Padding":"lively.rect(0,0,0,0)"},"1254":{"morph":{"__isSmartRef__":true,"id":1252},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1255":{"onDragStart":{"__isSmartRef__":true,"id":1256},"onDrag":{"__isSmartRef__":true,"id":1263},"onDragEnd":{"__isSmartRef__":true,"id":1270}},"1256":{"varMapping":{"__isSmartRef__":true,"id":1257},"source":"function onDragStart(evt) {\n            this.dragStartPoint = evt.mousePoint;\n            this.originalTargetExtent = this.owner.getExtent();\n        }","funcProperties":{"__isSmartRef__":true,"id":1262},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1257":{"this":{"__isSmartRef__":true,"id":1252},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1258}},"1258":{"$super":{"__isSmartRef__":true,"id":1259}},"1259":{"varMapping":{"__isSmartRef__":true,"id":1260},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1261},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1260":{"obj":{"__isSmartRef__":true,"id":1252},"name":"onDragStart"},"1261":{},"1262":{},"1263":{"varMapping":{"__isSmartRef__":true,"id":1264},"source":"function onDrag(evt) {\n            var moveDelta = pt(0,evt.mousePoint.subPt(this.dragStartPoint).y);\n            var newExtent = this.originalTargetExtent.addPt(moveDelta);\n            if (newExtent.y < this.owner.minHeight) newExtent.y = this.owner.minHeight;\n            this.owner.setExtent(newExtent);\n\n            this.align(this.bounds().bottomLeft(), pt(0,this.owner.getExtent().y));\n        }","funcProperties":{"__isSmartRef__":true,"id":1269},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1264":{"this":{"__isSmartRef__":true,"id":1252},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1265}},"1265":{"$super":{"__isSmartRef__":true,"id":1266}},"1266":{"varMapping":{"__isSmartRef__":true,"id":1267},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1268},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1267":{"obj":{"__isSmartRef__":true,"id":1252},"name":"onDrag"},"1268":{},"1269":{},"1270":{"varMapping":{"__isSmartRef__":true,"id":1271},"source":"function onDragEnd(evt) {\n            this.dragStartPoint = null;\n            this.originalTargetExtent = null;\n            this.owner.alignReframeHandle();\n            this.owner.alignRightReframeHandle();\n        }","funcProperties":{"__isSmartRef__":true,"id":1276},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1271":{"this":{"__isSmartRef__":true,"id":1252},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1272}},"1272":{"$super":{"__isSmartRef__":true,"id":1273}},"1273":{"varMapping":{"__isSmartRef__":true,"id":1274},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1275},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1274":{"obj":{"__isSmartRef__":true,"id":1252},"name":"onDragEnd"},"1275":{},"1276":{},"1277":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1278},"eventHandler":{"__isSmartRef__":true,"id":1279},"_ClipMode":"visible","id":"1610CD12-91AD-4148-AF1A-2673B9843A80","droppingEnabled":true,"halosEnabled":true,"_StyleClassNames":["reframe-handle right"],"owner":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1280},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(954.8,0.0)"},"1278":{"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(4.0,595.9)","_Padding":"lively.rect(0,0,0,0)"},"1279":{"morph":{"__isSmartRef__":true,"id":1277},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1280":{"onDragStart":{"__isSmartRef__":true,"id":1281},"onDrag":{"__isSmartRef__":true,"id":1288},"onDragEnd":{"__isSmartRef__":true,"id":1295}},"1281":{"varMapping":{"__isSmartRef__":true,"id":1282},"source":"function onDragStart(evt) {\n            this.dragStartPoint = evt.mousePoint;\n            this.originalTargetExtent = this.owner.getExtent();\n        }","funcProperties":{"__isSmartRef__":true,"id":1287},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1282":{"this":{"__isSmartRef__":true,"id":1277},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1283}},"1283":{"$super":{"__isSmartRef__":true,"id":1284}},"1284":{"varMapping":{"__isSmartRef__":true,"id":1285},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1286},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1285":{"obj":{"__isSmartRef__":true,"id":1277},"name":"onDragStart"},"1286":{},"1287":{},"1288":{"varMapping":{"__isSmartRef__":true,"id":1289},"source":"function onDrag(evt) {\n            var moveDelta = pt(evt.mousePoint.subPt(this.dragStartPoint).x,0);\n            var newExtent = this.originalTargetExtent.addPt(moveDelta);\n            if (newExtent.x < this.owner.minWidth) newExtent.x = this.owner.minWidth;\n\n            this.owner.setExtent(newExtent);\n            this.align(this.bounds().topRight(), pt(this.owner.getExtent().x,0));\n        }","funcProperties":{"__isSmartRef__":true,"id":1294},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1289":{"this":{"__isSmartRef__":true,"id":1277},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1290}},"1290":{"$super":{"__isSmartRef__":true,"id":1291}},"1291":{"varMapping":{"__isSmartRef__":true,"id":1292},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1293},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1292":{"obj":{"__isSmartRef__":true,"id":1277},"name":"onDrag"},"1293":{},"1294":{},"1295":{"varMapping":{"__isSmartRef__":true,"id":1296},"source":"function onDragEnd(evt) {\n            this.dragStartPoint = null;\n            this.originalTargetExtent = null;\n            this.owner.alignReframeHandle();\n            this.owner.alignBottomReframeHandle();\n        }","funcProperties":{"__isSmartRef__":true,"id":1301},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1296":{"this":{"__isSmartRef__":true,"id":1277},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1297}},"1297":{"$super":{"__isSmartRef__":true,"id":1298}},"1298":{"varMapping":{"__isSmartRef__":true,"id":1299},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1300},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1299":{"obj":{"__isSmartRef__":true,"id":1277},"name":"onDragEnd"},"1300":{},"1301":{},"1302":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":1303},"eventHandler":{"__isSmartRef__":true,"id":1304},"_ClipMode":"visible","id":"03A90CD9-699E-4CF8-91B7-AFCE92E9EC62","droppingEnabled":true,"halosEnabled":true,"_StyleClassNames":["reframe-handle corner"],"owner":{"__isSmartRef__":true,"id":0},"__serializedExpressions__":["_Position"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1305},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(944.8,595.9)"},"1303":{"__serializedExpressions__":["_Position","_Extent","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(14.0,14.0)","_Padding":"lively.rect(0,0,0,0)"},"1304":{"morph":{"__isSmartRef__":true,"id":1302},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1305":{"onDragStart":{"__isSmartRef__":true,"id":1306},"onDrag":{"__isSmartRef__":true,"id":1313},"onDragEnd":{"__isSmartRef__":true,"id":1320}},"1306":{"varMapping":{"__isSmartRef__":true,"id":1307},"source":"function onDragStart(evt) {\n            this.dragStartPoint = evt.mousePoint;\n            this.originalTargetExtent = this.owner.getExtent();\n        }","funcProperties":{"__isSmartRef__":true,"id":1312},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1307":{"this":{"__isSmartRef__":true,"id":1302},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1308}},"1308":{"$super":{"__isSmartRef__":true,"id":1309}},"1309":{"varMapping":{"__isSmartRef__":true,"id":1310},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1311},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1310":{"obj":{"__isSmartRef__":true,"id":1302},"name":"onDragStart"},"1311":{},"1312":{},"1313":{"varMapping":{"__isSmartRef__":true,"id":1314},"source":"function onDrag(evt) {\n            var moveDelta = evt.mousePoint.subPt(this.dragStartPoint)\n            var newExtent = this.originalTargetExtent.addPt(moveDelta);\n            if (newExtent.x < this.owner.minWidth) newExtent.x = this.owner.minWidth;\n            if (newExtent.y < this.owner.minHeight) newExtent.y = this.owner.minHeight;\n            this.owner.setExtent(newExtent);\n            //console.log(\"WindowExtent: \"+this.owner.getExtent().x+\" ,  \"+this.owner.getExtent().y);\n            this.align(this.bounds().bottomRight(), this.owner.getExtent());\n        }","funcProperties":{"__isSmartRef__":true,"id":1319},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1314":{"this":{"__isSmartRef__":true,"id":1302},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1315}},"1315":{"$super":{"__isSmartRef__":true,"id":1316}},"1316":{"varMapping":{"__isSmartRef__":true,"id":1317},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1318},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1317":{"obj":{"__isSmartRef__":true,"id":1302},"name":"onDrag"},"1318":{},"1319":{},"1320":{"varMapping":{"__isSmartRef__":true,"id":1321},"source":"function onDragEnd(evt) {\n            this.dragStartPoint = null;\n            this.originalTargetExtent = null;\n            this.owner.alignBottomReframeHandle();\n            this.owner.alignRightReframeHandle();\n        }","funcProperties":{"__isSmartRef__":true,"id":1326},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1321":{"this":{"__isSmartRef__":true,"id":1302},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":1322}},"1322":{"$super":{"__isSmartRef__":true,"id":1323}},"1323":{"varMapping":{"__isSmartRef__":true,"id":1324},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":1325},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"1324":{"obj":{"__isSmartRef__":true,"id":1302},"name":"onDragEnd"},"1325":{},"1326":{},"1327":{"_BorderWidth":0,"_Fill":null,"_StrokeOpacity":0,"_BorderRadius":0,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Padding","_Extent","_Position"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Padding":"lively.rect(0,0,0,0)","_Extent":"lively.pt(958.8,609.9)","_Position":"lively.pt(0.0,0.0)"},"1328":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"1329":{"adjustForNewBounds":true},"1330":{"a":1,"b":0,"c":0,"d":1,"e":10,"f":10,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1331":{"a":1,"b":0,"c":0,"d":1,"e":7,"f":7,"__LivelyClassName__":"lively.morphic.Similitude","__SourceModuleName__":"Global.lively.morphic.Graphics"},"1332":{"partName":"SyncMorph","requiredModules":[],"partsSpaceName":"PartsBin/Collaboration/","comment":"A whiteboard designed for syncing with other worlds, based on svg paintings. It is able to sync whole morphs and changes on them, too.","changes":[{"__isSmartRef__":true,"id":1333},{"__isSmartRef__":true,"id":1335},{"__isSmartRef__":true,"id":1337},{"__isSmartRef__":true,"id":1339}],"migrationLevel":4,"lastModifiedDate":{"__isSmartRef__":true,"id":1341},"revisionOnLoad":192561,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"1333":{"date":{"__isSmartRef__":true,"id":1334},"author":"conradcalmez","message":"cleaned w/ Jens' ObjectCleaner","id":"D2C96BF3-B1BE-4FEB-BCEA-F61614B3F3C9"},"1334":{"isSerializedDate":true,"string":"Tue Feb 12 2013 17:17:23 GMT+0100 (CET)"},"1335":{"date":{"__isSmartRef__":true,"id":1336},"author":"conradcalmez","message":"fixed not drawing on other clients bug","id":"1AE3BC29-8EBF-41F6-A9BB-36E53497652D"},"1336":{"isSerializedDate":true,"string":"Tue Feb 12 2013 17:33:08 GMT+0100 (CET)"},"1337":{"date":{"__isSmartRef__":true,"id":1338},"author":"conradcalmez","message":"implemented reply on ping","id":"1732BE24-9C89-4047-BBDC-9942752E328E"},"1338":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:07:15 GMT+0100 (CET)"},"1339":{"date":{"__isSmartRef__":true,"id":1340},"author":"conradcalmez","message":"fixing text field boader colors when resetting","id":"F47C9409-FCD5-401B-BFBD-7D84A2EC16D0"},"1340":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:56:40 GMT+0100 (CET)"},"1341":{"isSerializedDate":true,"string":"Tue Feb 12 2013 18:05:55 GMT+0100 (CET)"},"isSimplifiedRegistry":true}}