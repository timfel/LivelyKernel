{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1}],"scripts":[],"shape":{"__isSmartRef__":true,"id":24},"id":"2325F322-A469-433D-8288-7419BADD05F5","renderContextTable":{"__isSmartRef__":true,"id":31},"eventHandler":{"__isSmartRef__":true,"id":32},"droppingEnabled":true,"halosEnabled":true,"_Position":{"__isSmartRef__":true,"id":33},"__SourceModuleName__":"Global.lively.morphic.Core","showsHalos":false,"layout":{"__isSmartRef__":true,"id":34},"name":"TextBubble","partsBinMetaInfo":{"__isSmartRef__":true,"id":35},"derivationIds":[113,"07BC3F00-A1CC-4E18-8B69-527B6067A724","DE7B4D82-53D6-47AB-B640-FF3635F70AA7","99C53948-AA15-4796-B491-DB674F1EE087","58EDE5FE-6BAF-448F-B9DB-E94E1A69C992"],"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"_ClipMode":"visible","priorExtent":{"__isSmartRef__":true,"id":48},"isBeingDragged":false,"text":{"__isSmartRef__":true,"id":1},"isCopyMorphRef":true,"morphRefId":1,"_Visible":true,"moved":true,"_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":49},"__LivelyClassName__":"lively.morphic.Morph"},"1":{"submorphs":[],"scripts":[],"id":"506A72F2-95FC-4677-B6D2-03CA2EC46DBB","shape":{"__isSmartRef__":true,"id":2},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":false,"fixedHeight":true,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":8},"_MaxTextWidth":null,"_MaxTextHeight":null,"textColor":{"__isSmartRef__":true,"id":5},"showsHalos":false,"_FontSize":14,"__SourceModuleName__":"Global.lively.morphic.TextCore","name":"Text","partsBinMetaInfo":{"__isSmartRef__":true,"id":9},"textChunks":[{"__isSmartRef__":true,"id":16}],"charsReplaced":"s","lastFindLoc":6,"priorSelectionRange":[2,1],"prevScroll":[0,0],"priorExtent":{"__isSmartRef__":true,"id":18},"renderContextTable":{"__isSmartRef__":true,"id":19},"eventHandler":{"__isSmartRef__":true,"id":20},"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"_Padding":{"__isSmartRef__":true,"id":21},"_ClipMode":"none","derivationIds":[355,"1EB1674F-8BF2-419B-B054-86129ED70335","ECCF99AE-9763-4D68-9C21-0B5A520DB15D","2EA15529-B8A7-4D60-BAE3-8E14E934A428","3A910B2E-EF96-4264-95AF-E82F57C6DBFD"],"_WhiteSpaceHandling":"pre-wrap","_MinTextWidth":null,"_MinTextHeight":null,"previousSelection":[2,2],"owner":{"__isSmartRef__":true,"id":0},"isBeingDragged":false,"distanceToDragEvent":{"__isSmartRef__":true,"id":22},"isLabel":true,"_HandStyle":"default","allowInput":false,"eventsAreIgnored":true,"layout":{"__isSmartRef__":true,"id":23},"_Rotation":0,"_Scale":1.002003004005006,"__LivelyClassName__":"lively.morphic.Text"},"2":{"fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":3},"_Extent":{"__isSmartRef__":true,"id":4},"_BorderWidth":0,"_BorderColor":{"__isSmartRef__":true,"id":5},"renderContextTable":{"__isSmartRef__":true,"id":6},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":7},"_Fill":null,"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"3":{"x":0,"y":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"4":{"x":104,"y":23,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"5":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Color"},"6":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML"},"7":{"x":4,"y":2,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"8":{"x":-28,"y":-42,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"9":{"partsSpaceName":"PartsBin/Basic","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":4,"comment":"a simple text morph","partName":"Text","changes":[{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":12},{"__isSmartRef__":true,"id":14}],"revisionOnLoad":154217,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"10":{"date":{"__isSmartRef__":true,"id":11},"author":"undefined","message":"Set the inset as: this.setPadding(Rectangle.inset(4,2)).  This gives it a more pleasing appearance with a border, and also makes it easier to select near the bounds.","id":"BD5B0E4C-4830-4863-A013-35BB66D5AD6F"},"11":{"isSerializedDate":true,"string":"Mon Feb 27 2012 06:20:38 GMT+0100 (CET)"},"12":{"date":{"__isSmartRef__":true,"id":13},"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"0F4DE333-A551-4961-B29D-70270977EBEF"},"13":{"isSerializedDate":true,"string":"Sat Apr 21 2012 07:31:43 GMT+0200 (CEST)"},"14":{"date":{"__isSmartRef__":true,"id":15},"author":"tessi","message":"TextBubble calls its disappear() function after showBubbleTime() milliseconds now","id":"785D95BD-7858-43EB-90E6-A1C085E2F2B9"},"15":{"isSerializedDate":true,"string":"Sat Apr 21 2012 07:32:09 GMT+0200 (CEST)"},"16":{"style":{"__isSmartRef__":true,"id":17},"chunkOwner":{"__isSmartRef__":true,"id":1},"storedString":"TextBubble","__SourceModuleName__":"Global.lively.morphic.TextCore","__LivelyClassName__":"lively.morphic.TextChunk"},"17":{"whiteSpace":"pre","__SourceModuleName__":"Global.lively.morphic.TextCore","__LivelyClassName__":"lively.morphic.TextEmphasis"},"18":{"x":104,"y":23,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"19":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML","updateText":"updateTextHTML","setTextExtent":"setTextExtentHTML","setMaxTextWidth":"setMaxTextWidthHTML","setMaxTextHeight":"setMaxTextHeightHTML","setMinTextWidth":"setMinTextWidthHTML","setMinTextHeight":"setMinTextHeightHTML","getTextExtent":"getTextExtentHTML","getTextString":"getTextStringHTML","ignoreTextEvents":"ignoreTextEventsHTML","unignoreTextEvents":"unignoreTextEventsHTML","enableTextEvents":"enableTextEventsHTML","setFontFamily":"setFontFamilyHTML","setFontSize":"setFontSizeHTML","setTextColor":"setTextColorHTML","setPadding":"setPaddingHTML","setAlign":"setAlignHTML","setVerticalAlign":"setVerticalAlignHTML","setDisplay":"setDisplayHTML","setWhiteSpaceHandling":"setWhiteSpaceHandlingHTML","focusMorph":"focusMorphHTML","setInputAllowed":"setInputAllowedHTML"},"20":{"morph":{"__isSmartRef__":true,"id":1},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"21":{"x":5,"y":5,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"22":{"x":66,"y":-19,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"23":{"centeredHorizontal":true,"centeredVertical":true,"adjustForNewBounds":true},"24":{"_Position":{"__isSmartRef__":true,"id":25},"renderContextTable":{"__isSmartRef__":true,"id":26},"_Extent":{"__isSmartRef__":true,"id":27},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":28},"_BorderWidth":2.444,"_BorderColor":{"__isSmartRef__":true,"id":29},"_Fill":{"__isSmartRef__":true,"id":30},"__SourceModuleName__":"Global.lively.morphic.Shapes","_BorderRadius":0,"_Opacity":0.6818000000000001,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Ellipse"},"25":{"x":-50,"y":-50,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"26":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML"},"27":{"x":149,"y":48,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"28":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"29":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Color"},"30":{"r":0.921,"g":0.921,"b":0.921,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"31":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"32":{"morph":{"__isSmartRef__":true,"id":0},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"33":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"34":{"resizeWidth":true,"resizeHeight":true},"35":{"partName":"TextBubble","requiredModules":[],"migrationLevel":4,"partsSpaceName":"PartsBin/FreedomOfSpeech/","__SourceModuleName__":"Global.lively.PartsBin","revisionOnLoad":156324,"comment":"A little text bubble with a say(\"string\") method","changes":[{"__isSmartRef__":true,"id":36},{"__isSmartRef__":true,"id":38},{"__isSmartRef__":true,"id":40},{"__isSmartRef__":true,"id":42},{"__isSmartRef__":true,"id":44},{"__isSmartRef__":true,"id":46}],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"36":{"date":{"__isSmartRef__":true,"id":37},"author":"tessi","message":"added hide() method","id":"D8F1C9C7-279C-441E-85C1-1F6BBC58E311"},"37":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:15:55 GMT+0200 (CEST)"},"38":{"date":{"__isSmartRef__":true,"id":39},"author":"tessi","message":"let TextBubble disappear when nothing was said some tim","id":"10474226-7FE2-4BFB-AEA5-365C537C3666"},"39":{"isSerializedDate":true,"string":"Sat Apr 21 2012 11:49:01 GMT+0200 (CEST)"},"40":{"date":{"__isSmartRef__":true,"id":41},"author":"tessi","message":"no comment","id":"F0B6C1B2-B5D8-4250-9126-12195350AC31"},"41":{"isSerializedDate":true,"string":"Fri Apr 20 2012 23:58:32 GMT+0200 (CEST)"},"42":{"date":{"__isSmartRef__":true,"id":43},"author":"undefined","message":"reverted changes - was there any description of this morph?","id":"C3C03411-9523-4F35-89EC-B20E24B3C287"},"43":{"isSerializedDate":true,"string":"Tue Apr 03 2012 09:08:08 GMT+0200 (CEST)"},"44":{"date":{"__isSmartRef__":true,"id":45},"author":"tessi","message":"Fix multiline text and text wrapping bugs; added reset() function","id":"F30F2C0C-BE12-4128-A871-336DBCFEA0E4"},"45":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:18:14 GMT+0200 (CEST)"},"46":{"date":{"__isSmartRef__":true,"id":47},"author":"timfelgentreff","message":"adjust show time","id":"40068B42-FF9C-438C-A017-11F1F5F727F7"},"47":{"isSerializedDate":true,"string":"Sat May 05 2012 19:27:03 GMT+0200 (CEST)"},"48":{"x":154,"y":71,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"49":{"say":{"__isSmartRef__":true,"id":50},"showBubbleTime":{"__isSmartRef__":true,"id":54},"disappear":{"__isSmartRef__":true,"id":58},"reset":{"__isSmartRef__":true,"id":62},"hide":{"__isSmartRef__":true,"id":66}},"50":{"varMapping":{"__isSmartRef__":true,"id":51},"source":"function say(aString) {\n    var textExtent, _this = this\n    if (aString !== undefined ) {\n        this.text.setTextString(aString)\n    } else {\n        this.text.setTextString(\"TextBubble\")\n    }\n    this.text.getTextChunks().first().styleText({whiteSpace: \"pre\"})\n    this.text.fit()\n    textExtent = this.text.getExtent()\n    textExtent.y = this.text.getTextChunks().first().chunkNode.parentElement.scrollHeight\n    this.setExtent(pt(textExtent.x + 50, textExtent.y + 25))\n    this.setVisible(true)\n    if (aString !== undefined ) {\n        window.setTimeout(function(){ _this.disappear(aString) }, this.showBubbleTime())\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":52},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"51":{"this":{"__isSmartRef__":true,"id":0}},"52":{"timestamp":{"__isSmartRef__":true,"id":53},"user":"tessi","tags":[]},"53":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:16:26 GMT+0200 (CEST)"},"54":{"varMapping":{"__isSmartRef__":true,"id":55},"source":"function showBubbleTime() {\n    return 6000\n}","funcProperties":{"__isSmartRef__":true,"id":56},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"55":{"this":{"__isSmartRef__":true,"id":0}},"56":{"timestamp":{"__isSmartRef__":true,"id":57},"user":"timfelgentreff","tags":[]},"57":{"isSerializedDate":true,"string":"Sat May 05 2012 19:26:43 GMT+0200 (CEST)"},"58":{"varMapping":{"__isSmartRef__":true,"id":59},"source":"function disappear(oldText) {\n    if (this.text.getTextString() == oldText) {\n        this.hide()\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":60},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"59":{"this":{"__isSmartRef__":true,"id":0}},"60":{"timestamp":{"__isSmartRef__":true,"id":61},"user":"tessi","tags":[]},"61":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:15:35 GMT+0200 (CEST)"},"62":{"varMapping":{"__isSmartRef__":true,"id":63},"source":"function reset() {\n    this.say()\n}","funcProperties":{"__isSmartRef__":true,"id":64},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"63":{"this":{"__isSmartRef__":true,"id":0}},"64":{"timestamp":{"__isSmartRef__":true,"id":65},"user":"tessi","tags":[]},"65":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:17:22 GMT+0200 (CEST)"},"66":{"varMapping":{"__isSmartRef__":true,"id":67},"source":"function hide() {\n    this.setVisible(false)\n}","funcProperties":{"__isSmartRef__":true,"id":68},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"67":{"this":{"__isSmartRef__":true,"id":0}},"68":{"timestamp":{"__isSmartRef__":true,"id":69},"user":"tessi","tags":[]},"69":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:15:24 GMT+0200 (CEST)"},"isSimplifiedRegistry":true}}