{"id":0,"registry":{"0":{"submorphs":[],"scripts":[],"id":"CBD9C7C8-3FA1-47AE-9C23-CCC4E7C7ED3A","shape":{"__isSmartRef__":true,"id":1},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":7},"showsHalos":false,"name":"Tile","partsBinMetaInfo":{"__isSmartRef__":true,"id":8},"__SourceModuleName__":"Global.lively.morphic.Core","renderContextTable":{"__isSmartRef__":true,"id":111},"eventHandler":{"__isSmartRef__":true,"id":112},"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","DF863BAB-9987-4611-BCD2-DE9FDCE7D3B5","768ED97D-1E05-415B-AB3F-B6495AC603A0","5A0ECA63-F6E2-4E35-B9A2-75DE2A4C4158","3B4EDC8A-0E99-4F45-A6D5-5CCE7E75BC88","1A900574-7D84-44F3-BB9D-1A1E26FDDB9B","383B3B54-4D0D-42E5-88C6-460045549029","EFC22A04-8B3C-48A8-9C5F-1EBC66DFD6D6","52D7E09F-EA1F-44D5-A893-F72A70D40429","CAC332B2-DA3A-4534-B3C7-E03D31DE9D2C","2CDD083E-3AB7-4BB9-B6D1-A70716226BDF","5044B03C-1B55-48CB-9DE6-3844ED1FCD7D","F5F5A304-DAA0-4649-9CDE-605226A1CE51","4BC91A43-D259-43A1-819C-B2FE6CB08399","92B467E3-3189-4EFE-9BFB-4AF361018F35","A6B1593D-21F4-49B7-ABC8-FB9FACE91746","2598E54C-7F59-4753-8889-AEFE09E2CAC0","179AF98E-33AB-4114-B55B-4DFB00BDBDA8","AD778DCD-FF13-4F2E-AB38-F63BA8A15C58","04E48596-4C98-445F-B60B-2348EF53930E","BB54A7B7-E7CB-41C0-B027-77AB7D9BF27E","8DFD2C9E-23E1-41AF-8968-A62A3DE71693","2D8830D3-1DB9-4797-9AE8-20CA03139825","BD54D555-6E94-48EB-8C62-8F80A32960EA","F46B080F-9459-4295-8DB2-BED5809251AE","6A43BDE1-6AC7-4008-9AD0-06385EE78307","C3AB7721-B23E-4DAB-BE9A-22733BC3382E","1E1907C1-2AD2-452E-BADD-54F706B3B910","50E5C852-3D41-4257-AFF7-7EF1CEEC15E3","12768283-E36A-48B6-AB18-6384D99ADA14","A4849D36-6340-4578-BAFB-53E4D17027D7","12E4C56B-9222-43E4-9620-C41E062EBAC7","0212C096-5FD3-45BB-BABB-E16293175AB7","73176B5A-836A-48B2-9003-38573BE53D84","FA828EF3-B4D3-4543-83BE-FA33CE63F260"],"partTests":{"__isSmartRef__":true,"id":113},"isBeingDragged":false,"priorExtent":{"__isSmartRef__":true,"id":118},"moved":true,"_ClipMode":"visible","__obstacles":[],"row":5,"column":1,"terrain":null,"grabbingEnabled":false,"distanceToDragEvent":{"__isSmartRef__":true,"id":119},"prevScroll":[0,0],"_Rotation":0,"_Scale":1.0120783653693808,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":120},"__LivelyClassName__":"lively.morphic.Box"},"1":{"position":{"__isSmartRef__":true,"id":2},"_Extent":{"__isSmartRef__":true,"id":3},"_BorderWidth":1.148,"_BorderColor":{"__isSmartRef__":true,"id":4},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","renderContextTable":{"__isSmartRef__":true,"id":5},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":6},"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"2":{"x":0,"y":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"3":{"x":48,"y":48,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"4":{"r":0.8,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Color"},"5":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML"},"6":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"7":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"8":{"partsSpaceName":"PartsBin/FreedomOfSpeech/","__SourceModuleName__":"Global.lively.PartsBin","comment":"A thing that renders itself onto a tile and tells the occluded tiles about the obstacle","migrationLevel":4,"partName":"Tile","changes":[{"__isSmartRef__":true,"id":9},{"__isSmartRef__":true,"id":11},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":17},{"__isSmartRef__":true,"id":19},{"__isSmartRef__":true,"id":21},{"__isSmartRef__":true,"id":23},{"__isSmartRef__":true,"id":25},{"__isSmartRef__":true,"id":27},{"__isSmartRef__":true,"id":29},{"__isSmartRef__":true,"id":31},{"__isSmartRef__":true,"id":33},{"__isSmartRef__":true,"id":35},{"__isSmartRef__":true,"id":37},{"__isSmartRef__":true,"id":39},{"__isSmartRef__":true,"id":41},{"__isSmartRef__":true,"id":43},{"__isSmartRef__":true,"id":45},{"__isSmartRef__":true,"id":47},{"__isSmartRef__":true,"id":49},{"__isSmartRef__":true,"id":51},{"__isSmartRef__":true,"id":53},{"__isSmartRef__":true,"id":55},{"__isSmartRef__":true,"id":57},{"__isSmartRef__":true,"id":59},{"__isSmartRef__":true,"id":61},{"__isSmartRef__":true,"id":63},{"__isSmartRef__":true,"id":65},{"__isSmartRef__":true,"id":67},{"__isSmartRef__":true,"id":69},{"__isSmartRef__":true,"id":71},{"__isSmartRef__":true,"id":73},{"__isSmartRef__":true,"id":75},{"__isSmartRef__":true,"id":77},{"__isSmartRef__":true,"id":79},{"__isSmartRef__":true,"id":81},{"__isSmartRef__":true,"id":83},{"__isSmartRef__":true,"id":85},{"__isSmartRef__":true,"id":87},{"__isSmartRef__":true,"id":89},{"__isSmartRef__":true,"id":91},{"__isSmartRef__":true,"id":93},{"__isSmartRef__":true,"id":95},{"__isSmartRef__":true,"id":97},{"__isSmartRef__":true,"id":99},{"__isSmartRef__":true,"id":101},{"__isSmartRef__":true,"id":103},{"__isSmartRef__":true,"id":105},{"__isSmartRef__":true,"id":107},{"__isSmartRef__":true,"id":109}],"revisionOnLoad":159888,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"9":{"date":{"__isSmartRef__":true,"id":10},"author":"lauritz","message":"difference between dev and normal style in border-width","id":"3001D4D8-C44F-49E0-8101-5726A7ACFD8F"},"10":{"isSerializedDate":true,"string":"Mon May 07 2012 18:54:58 GMT+0200 (CEST)"},"11":{"date":{"__isSmartRef__":true,"id":12},"author":"tessi","message":"cannot set color to null","id":"A33818D9-5418-451A-86B6-17C0E01E3D95"},"12":{"isSerializedDate":true,"string":"Thu May 03 2012 15:20:35 GMT+0200 (CEST)"},"13":{"date":{"__isSmartRef__":true,"id":14},"author":"timfelgentreff","message":"no comment","id":"3D7FD71F-6695-46ED-915B-DACB2BDD66EC"},"14":{"isSerializedDate":true,"string":"Thu Apr 26 2012 15:17:11 GMT+0200 (CEST)"},"15":{"date":{"__isSmartRef__":true,"id":16},"author":"tessi","message":"","id":"CDFC653A-73C4-4FEF-BF2F-E515698C9D49"},"16":{"isSerializedDate":true,"string":"Thu Apr 26 2012 13:40:27 GMT+0200 (CEST)"},"17":{"date":{"__isSmartRef__":true,"id":18},"author":"tessi","message":"cache Neighbours","id":"5AE79688-A888-4376-8A8F-63679330D24C"},"18":{"isSerializedDate":true,"string":"Thu Apr 26 2012 13:34:19 GMT+0200 (CEST)"},"19":{"date":{"__isSmartRef__":true,"id":20},"author":"tessi","message":"let characters register themself when enter/leave the tile","id":"9095AE1D-1FE5-44A4-9A4E-C9C39B1C4F40"},"20":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:33:48 GMT+0200 (CEST)"},"21":{"date":{"__isSmartRef__":true,"id":22},"author":"timfelgentreff","message":"Use a cache and shallow copying for become(terrain); fix onMouseDown when not in a Map","id":"9846F542-FBA4-4E6E-95E7-760FEC0B1848"},"22":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:12:58 GMT+0200 (CEST)"},"23":{"date":{"__isSmartRef__":true,"id":24},"author":"lauritz","message":"","id":"AC05F3B3-162F-4A75-A601-EA5F744AC530"},"24":{"isSerializedDate":true,"string":"Thu Apr 26 2012 11:25:17 GMT+0200 (CEST)"},"25":{"date":{"__isSmartRef__":true,"id":26},"author":"timfelgentreff","message":"revert last commit","id":"DEE21763-B63C-41AF-917B-4481E54000AF"},"26":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:53:55 GMT+0200 (CEST)"},"27":{"date":{"__isSmartRef__":true,"id":28},"author":"timfelgentreff","message":"uncomment return","id":"21656693-2A83-4D04-9612-55622B41EB18"},"28":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:46:38 GMT+0200 (CEST)"},"29":{"date":{"__isSmartRef__":true,"id":30},"author":"timfelgentreff","message":"fix shallowCopy","id":"5DDF2C7F-DEE5-4161-A515-B5831A00DCB3"},"30":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:13:27 GMT+0200 (CEST)"},"31":{"date":{"__isSmartRef__":true,"id":32},"author":"timfelgentreff","message":"add shallowCopy","id":"86DCAE73-A5D2-470F-BF0E-77E914236CEA"},"32":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:10:22 GMT+0200 (CEST)"},"33":{"date":{"__isSmartRef__":true,"id":34},"author":"timfelgentreff","message":"no comment","id":"181F2453-F14A-4CC7-BFF0-910480CD4B1F"},"34":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:39:23 GMT+0200 (CEST)"},"35":{"date":{"__isSmartRef__":true,"id":36},"author":"timfelgentreff","message":"show obstacle state in dev style","id":"9FD0FE89-0EE1-4499-B055-D2C077CCEACA"},"36":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:37:34 GMT+0200 (CEST)"},"37":{"date":{"__isSmartRef__":true,"id":38},"author":"timfelgentreff","message":"no comment","id":"4571845C-4F67-4DD6-954F-B93B98F8DDF3"},"38":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:35:25 GMT+0200 (CEST)"},"39":{"date":{"__isSmartRef__":true,"id":40},"author":"timfelgentreff","message":"fix adding obstacles","id":"891954C6-3DC3-41AC-8038-4E7C028B0147"},"40":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:50:37 GMT+0200 (CEST)"},"41":{"date":{"__isSmartRef__":true,"id":42},"author":"timfelgentreff","message":"things support","id":"DD13E7D3-6948-4B69-947A-24A2B084646B"},"42":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:31:58 GMT+0200 (CEST)"},"43":{"date":{"__isSmartRef__":true,"id":44},"author":"timfelgentreff","message":"change obstacle logic, adds support for a list of obstacles. obstacles can be added and removed","id":"0EF07087-0018-425F-AB43-3F843AFCB7E1"},"44":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:16:14 GMT+0200 (CEST)"},"45":{"date":{"__isSmartRef__":true,"id":46},"author":"timfelgentreff","message":"a thing that renders itself onto a tile and tells the occluded tiles about the obstacle","id":"ADB36180-974D-4994-9149-6318E7F62D62"},"46":{"isSerializedDate":true,"string":"Mon Apr 23 2012 12:29:15 GMT+0200 (CEST)"},"47":{"date":{"__isSmartRef__":true,"id":48},"author":"timfelgentreff","message":"","id":"712D65D3-A68A-47B9-AFDC-B20E826217DB"},"48":{"isSerializedDate":true,"string":"Thu Apr 19 2012 18:00:26 GMT+0200 (CEST)"},"49":{"date":{"__isSmartRef__":true,"id":50},"author":"timfelgentreff","message":"","id":"DF45FC66-1C49-447D-914F-A905DA0AECB2"},"50":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:59:47 GMT+0200 (CEST)"},"51":{"date":{"__isSmartRef__":true,"id":52},"author":"timfelgentreff","message":"","id":"6D9186F6-64FC-48E0-95AF-27E462A13E1D"},"52":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:55:04 GMT+0200 (CEST)"},"53":{"date":{"__isSmartRef__":true,"id":54},"author":"timfelgentreff","message":"","id":"24121E2C-3B59-48EF-8026-290C8D296496"},"54":{"isSerializedDate":true,"string":"Thu Apr 19 2012 16:02:53 GMT+0200 (CEST)"},"55":{"date":{"__isSmartRef__":true,"id":56},"author":"timfelgentreff","message":"","id":"F4CC9F23-A50B-4206-A549-A610CC9C69AC"},"56":{"isSerializedDate":true,"string":"Thu Apr 19 2012 15:11:38 GMT+0200 (CEST)"},"57":{"date":{"__isSmartRef__":true,"id":58},"author":"timfelgentreff","message":"","id":"563A8831-9CE6-49D1-B87D-453B761FB751"},"58":{"isSerializedDate":true,"string":"Thu Apr 19 2012 13:12:53 GMT+0200 (CEST)"},"59":{"date":{"__isSmartRef__":true,"id":60},"author":"timfelgentreff","message":"","id":"E1AA7A8A-D3C5-4263-9A1E-91C13F532ED6"},"60":{"isSerializedDate":true,"string":"Thu Apr 19 2012 12:23:55 GMT+0200 (CEST)"},"61":{"date":{"__isSmartRef__":true,"id":62},"author":"timfelgentreff","message":"","id":"0672C6C8-D032-495B-B9EE-E41F194C86DE"},"62":{"isSerializedDate":true,"string":"Thu Apr 19 2012 12:19:15 GMT+0200 (CEST)"},"63":{"date":{"__isSmartRef__":true,"id":64},"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2"},"64":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:53:45 GMT+0100 (CET)"},"65":{"date":{"__isSmartRef__":true,"id":66},"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B"},"66":{"isSerializedDate":true,"string":"Sat Feb 25 2012 02:59:09 GMT+0100 (CET)"},"67":{"date":{"__isSmartRef__":true,"id":68},"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7"},"68":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:42:26 GMT+0100 (CET)"},"69":{"date":{"__isSmartRef__":true,"id":70},"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350"},"70":{"isSerializedDate":true,"string":"Mon Apr 09 2012 13:42:07 GMT+0200 (CEST)"},"71":{"date":{"__isSmartRef__":true,"id":72},"author":"timfelgentreff","message":"","id":"DE0AC226-458D-416E-A42C-BAA848650C4C"},"72":{"isSerializedDate":true,"string":"Thu Apr 19 2012 11:28:14 GMT+0200 (CEST)"},"73":{"date":{"__isSmartRef__":true,"id":74},"author":"lauritz","message":"","id":"CFD35308-806E-4804-8706-15DA1CEC5743"},"74":{"isSerializedDate":true,"string":"Thu Apr 19 2012 15:49:16 GMT+0200 (CEST)"},"75":{"date":{"__isSmartRef__":true,"id":76},"author":"timfelgentreff","message":"","id":"18365ED6-1BC8-43AD-ADC8-2B0C8005B784"},"76":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:23:38 GMT+0200 (CEST)"},"77":{"date":{"__isSmartRef__":true,"id":78},"author":"timfelgentreff","message":"","id":"4978F7BB-7FF5-47C1-8A55-6CAB03479B28"},"78":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:41:12 GMT+0200 (CEST)"},"79":{"date":{"__isSmartRef__":true,"id":80},"author":"timfelgentreff","message":"","id":"07EE540F-D786-49CC-8DD0-56F6B3AC6716"},"80":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:43:41 GMT+0200 (CEST)"},"81":{"date":{"__isSmartRef__":true,"id":82},"author":"timfelgentreff","message":"","id":"B5D9BC0C-15F0-4AE7-884B-48515F6A030E"},"82":{"isSerializedDate":true,"string":"Thu Apr 19 2012 18:08:19 GMT+0200 (CEST)"},"83":{"date":{"__isSmartRef__":true,"id":84},"author":"timfelgentreff","message":"","id":"F01F7BC6-E59F-4B63-8A3D-10C3AC3E34FD"},"84":{"isSerializedDate":true,"string":"Fri Apr 20 2012 08:22:08 GMT+0200 (CEST)"},"85":{"date":{"__isSmartRef__":true,"id":86},"author":"tessi","message":"revert timfels last commit (tile was overwritten with thing)","id":"27A8A743-D064-44C6-948E-8E3D5118790D"},"86":{"isSerializedDate":true,"string":"Mon Apr 23 2012 13:34:17 GMT+0200 (CEST)"},"87":{"date":{"__isSmartRef__":true,"id":88},"author":"timfelgentreff","message":"no comment","id":"6BBA00B9-6D11-4D9D-B6E9-95FE7CC915CD"},"88":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:20:14 GMT+0200 (CEST)"},"89":{"date":{"__isSmartRef__":true,"id":90},"author":"timfelgentreff","message":"no comment","id":"957E9210-4394-452A-9291-BD0E8FA736BF"},"90":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:28:00 GMT+0200 (CEST)"},"91":{"date":{"__isSmartRef__":true,"id":92},"author":"tessi","message":"added reset() method. use game() and map() instead of get() calls","id":"5B2AF6B7-3DC9-4EE1-A616-6510338BA091"},"92":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:18:16 GMT+0200 (CEST)"},"93":{"date":{"__isSmartRef__":true,"id":94},"author":"timfelgentreff","message":"avoid setting props in shallowCopy","id":"0102BAF0-8471-4805-98CB-FFA285A96B15"},"94":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:45:14 GMT+0200 (CEST)"},"95":{"date":{"__isSmartRef__":true,"id":96},"author":"timfelgentreff","message":"copy properties,too, so we can publish","id":"409A8B29-1CB7-4C30-B420-7F0FEB4489EA"},"96":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:48:47 GMT+0200 (CEST)"},"97":{"date":{"__isSmartRef__":true,"id":98},"author":"tessi","message":"added stub method for getting characters standing on the tile","id":"2DD011DC-7ABF-4928-A2EE-FDA603BCB307"},"98":{"isSerializedDate":true,"string":"Thu Apr 26 2012 11:22:23 GMT+0200 (CEST)"},"99":{"date":{"__isSmartRef__":true,"id":100},"author":"lauritz","message":"no comment","id":"2A0ACEC2-2DDA-4061-9ECE-8D49CCD6C0A0"},"100":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:00:07 GMT+0200 (CEST)"},"101":{"date":{"__isSmartRef__":true,"id":102},"author":"timfelgentreff","message":"revert caching","id":"03257D32-EA99-4EA6-8CFA-D6C55E6A4D96"},"102":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:20:05 GMT+0200 (CEST)"},"103":{"date":{"__isSmartRef__":true,"id":104},"author":"tessi","message":"fix neighbours calculation","id":"F2AE41B4-A670-4277-B7F3-5BCC20D74ECE"},"104":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:55:48 GMT+0200 (CEST)"},"105":{"date":{"__isSmartRef__":true,"id":106},"author":"timfelgentreff","message":"add a neighboursReachableFromHere function, so we can return only neighbours that are reachable to A*","id":"646448AF-6B6F-4D4E-900B-2DC7B927ACE8"},"106":{"isSerializedDate":true,"string":"Thu May 03 2012 13:29:50 GMT+0200 (CEST)"},"107":{"date":{"__isSmartRef__":true,"id":108},"author":"tessi","message":"normal border color is transparent","id":"94D5AA98-D1D9-4C6F-BED3-828305C3F390"},"108":{"isSerializedDate":true,"string":"Thu May 03 2012 15:25:32 GMT+0200 (CEST)"},"109":{"date":{"__isSmartRef__":true,"id":110},"author":"tessi","message":"no comment","id":"928E1DC4-09B5-46D7-A245-48E332175C68"},"110":{"isSerializedDate":true,"string":"Fri May 04 2012 17:01:42 GMT+0200 (CEST)"},"111":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"112":{"morph":{"__isSmartRef__":true,"id":0},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"113":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":114}},"114":{"test01IsMorph":{"__isSmartRef__":true,"id":115}},"115":{"varMapping":{"__isSmartRef__":true,"id":116},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":117},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"116":{"this":{"__isSmartRef__":true,"id":113}},"117":{},"118":{"x":48,"y":48,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"119":{"x":61,"y":14,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"120":{"setDevStyle":{"__isSmartRef__":true,"id":121},"setNormalStyle":{"__isSmartRef__":true,"id":125},"tileSize":{"__isSmartRef__":true,"id":129},"become":{"__isSmartRef__":true,"id":133},"onMouseDown":{"__isSmartRef__":true,"id":137},"setGridPosition":{"__isSmartRef__":true,"id":145},"toolbox":{"__isSmartRef__":true,"id":149},"distanceTo":{"__isSmartRef__":true,"id":153},"tileWasDropped":{"__isSmartRef__":true,"id":157},"isObstacle":{"__isSmartRef__":true,"id":161},"neighboursInDirection":{"__isSmartRef__":true,"id":165},"neighbours":{"__isSmartRef__":true,"id":169},"zIndex":{"__isSmartRef__":true,"id":173},"obstacles":{"__isSmartRef__":true,"id":177},"addObstacle":{"__isSmartRef__":true,"id":181},"removeObstacle":{"__isSmartRef__":true,"id":185},"isTile":{"__isSmartRef__":true,"id":189},"neighbourAt":{"__isSmartRef__":true,"id":193},"map":{"__isSmartRef__":true,"id":197},"game":{"__isSmartRef__":true,"id":201},"reset":{"__isSmartRef__":true,"id":205},"shallowCopy":{"__isSmartRef__":true,"id":209},"characters":{"__isSmartRef__":true,"id":213},"enterTile":{"__isSmartRef__":true,"id":217},"leaveTile":{"__isSmartRef__":true,"id":221},"neighboursReachableFromHere":{"__isSmartRef__":true,"id":225}},"121":{"varMapping":{"__isSmartRef__":true,"id":122},"source":"function setDevStyle() {\n    this.setExtent(this.tileSize())\n    this.setFill(null)\n    this.setBorderWidth(1)\n    if (this.isObstacle()) {\n        this.shape.setOpacity(0.8)\n        this.shape.setBorderColor(Color.gray)\n    } else {\n        this.setBorderColor(Color.red)\n    }\n    this.submorphs.each(function (ea) {\n        if (ea.setDevStyle) ea.setDevStyle()\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":123},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"122":{"this":{"__isSmartRef__":true,"id":0}},"123":{"timestamp":{"__isSmartRef__":true,"id":124},"user":"lauritz","tags":[]},"124":{"isSerializedDate":true,"string":"Mon May 07 2012 18:57:47 GMT+0200 (CEST)"},"125":{"varMapping":{"__isSmartRef__":true,"id":126},"source":"function setNormalStyle() {\n    this.setFill(null)\n    this.setBorderWidth(0)\n    this.setOpacity(1)\n    this.submorphs.each(function (ea) {\n        if (ea.setNormalStyle) ea.setNormalStyle()\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":127},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"126":{"this":{"__isSmartRef__":true,"id":0}},"127":{"timestamp":{"__isSmartRef__":true,"id":128},"user":"lauritz","tags":[]},"128":{"isSerializedDate":true,"string":"Mon May 07 2012 18:58:21 GMT+0200 (CEST)"},"129":{"varMapping":{"__isSmartRef__":true,"id":130},"source":"function tileSize() {\n    return pt(48,48)\n}","funcProperties":{"__isSmartRef__":true,"id":131},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"130":{"this":{"__isSmartRef__":true,"id":0}},"131":{"timestamp":{"__isSmartRef__":true,"id":132},"user":"tessi","tags":[]},"132":{"isSerializedDate":true,"string":"Wed Apr 18 2012 17:04:53 GMT+0200 (CEST)"},"133":{"varMapping":{"__isSmartRef__":true,"id":134},"source":"function become(terrainName) {\n    var terrain = this.toolbox(terrainName)\n\n    if (terrain) {\n        if (this.terrain) {\n            this.terrain.remove();\n        }\n        this.terrain = terrain;\n        terrain.setExtent(this.tileSize())\n        terrain.setPosition(pt(0,0))\n        terrain.disableDropping();\n        terrain.disableGrabbing();\n        terrain.disableDragging();\n        terrain.ignoreEvents();\n        this.addMorph(terrain)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":135},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"134":{"this":{"__isSmartRef__":true,"id":0}},"135":{"timestamp":{"__isSmartRef__":true,"id":136},"user":"lauritz","tags":[]},"136":{"isSerializedDate":true,"string":"Fri May 04 2012 13:31:11 GMT+0200 (CEST)"},"137":{"varMapping":{"__isSmartRef__":true,"id":138},"source":"function onMouseDown(evt) {\n    if (evt.isLeftMouseButtonDown() && this.map().game && this.game().selectedUnit) {\n        this.game().selectedUnit.walkTo(this)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":143},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"138":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":139}},"139":{"$super":{"__isSmartRef__":true,"id":140}},"140":{"varMapping":{"__isSmartRef__":true,"id":141},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world) \n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":142},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"141":{"obj":{"__isSmartRef__":true,"id":0},"name":"onMouseDown"},"142":{},"143":{"timestamp":{"__isSmartRef__":true,"id":144},"user":"timfelgentreff","tags":[]},"144":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:12:14 GMT+0200 (CEST)"},"145":{"varMapping":{"__isSmartRef__":true,"id":146},"source":"function setGridPosition(column, row) {\n    this.row = row\n    this.column = column\n    this.setPosition(pt(column,row).scaleByPt(this.tileSize()))\n}","funcProperties":{"__isSmartRef__":true,"id":147},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"146":{"this":{"__isSmartRef__":true,"id":0}},"147":{"timestamp":{"__isSmartRef__":true,"id":148},"user":"timfelgentreff","tags":[]},"148":{"isSerializedDate":true,"string":"Thu Apr 19 2012 11:23:15 GMT+0200 (CEST)"},"149":{"varMapping":{"__isSmartRef__":true,"id":150},"source":"function toolbox(itemName) {\n    return this.game().toolbox(itemName)\n}","funcProperties":{"__isSmartRef__":true,"id":151},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"150":{"this":{"__isSmartRef__":true,"id":0}},"151":{"timestamp":{"__isSmartRef__":true,"id":152},"user":"tessi","tags":[]},"152":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:15:20 GMT+0200 (CEST)"},"153":{"varMapping":{"__isSmartRef__":true,"id":154},"source":"function distanceTo(tile) {\n    return pt(tile.column - this.column, tile.row - this.row)\n}","funcProperties":{"__isSmartRef__":true,"id":155},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"154":{"this":{"__isSmartRef__":true,"id":0}},"155":{"timestamp":{"__isSmartRef__":true,"id":156},"user":"timfelgentreff","tags":[]},"156":{"isSerializedDate":true,"string":"Thu Apr 19 2012 13:12:02 GMT+0200 (CEST)"},"157":{"varMapping":{"__isSmartRef__":true,"id":158},"source":"function tileWasDropped(aTile) {\n    this.become(aTile);\n}","funcProperties":{"__isSmartRef__":true,"id":159},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"158":{"this":{"__isSmartRef__":true,"id":0}},"159":{"timestamp":{"__isSmartRef__":true,"id":160},"user":"lauritz","tags":[]},"160":{"isSerializedDate":true,"string":"Thu Apr 19 2012 14:52:54 GMT+0200 (CEST)"},"161":{"varMapping":{"__isSmartRef__":true,"id":162},"source":"function isObstacle() {\n    return (this.terrain && this.terrain.isObstacle) || (this.obstacles().size() > 0)\n}","funcProperties":{"__isSmartRef__":true,"id":163},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"162":{"this":{"__isSmartRef__":true,"id":0}},"163":{"timestamp":{"__isSmartRef__":true,"id":164},"user":"timfelgentreff","tags":[]},"164":{"isSerializedDate":true,"string":"Mon Apr 23 2012 15:19:43 GMT+0200 (CEST)"},"165":{"varMapping":{"__isSmartRef__":true,"id":166},"source":"function neighboursInDirection(point) {\n    var that = this;\n    return [this.map().tiles[this.column + point.x][this.row],\n            this.map().tiles[this.column + point.x][this.row + point.y],\n            this.map().tiles[this.column][this.row + point.y]\n           ].reject(function (each) { return each === that || !each }).uniq()\n}","funcProperties":{"__isSmartRef__":true,"id":167},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"166":{"this":{"__isSmartRef__":true,"id":0}},"167":{"timestamp":{"__isSmartRef__":true,"id":168},"user":"tessi","tags":[]},"168":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:13:24 GMT+0200 (CEST)"},"169":{"varMapping":{"__isSmartRef__":true,"id":170},"source":"function neighbours() {\n    if (this.cachedNeightbours) { return this.cachedNeightbours }\n    this.cachedNeightbours = []\n    var tile = null;\n    for(var i = this.row - 1; i <= this.row + 1; i++) {\n        for(var j = this.column - 1; j <= this.column + 1; j++) {\n            column = this.map().tiles[j]\n            if (column) {\n                tile = column[i]\n                if (tile && tile !== this) {\n                    this.cachedNeightbours.push(tile)\n                }\n            }\n        }\n    }\n    return this.cachedNeightbours\n}","funcProperties":{"__isSmartRef__":true,"id":171},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"170":{"this":{"__isSmartRef__":true,"id":0}},"171":{"timestamp":{"__isSmartRef__":true,"id":172},"user":"tessi","tags":[]},"172":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:55:34 GMT+0200 (CEST)"},"173":{"varMapping":{"__isSmartRef__":true,"id":174},"source":"function zIndex() {\n    return this.renderContext().morphNode.style.zIndex\n}","funcProperties":{"__isSmartRef__":true,"id":175},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"174":{"this":{"__isSmartRef__":true,"id":0}},"175":{"timestamp":{"__isSmartRef__":true,"id":176},"user":"timfelgentreff","tags":[]},"176":{"isSerializedDate":true,"string":"Thu Apr 19 2012 17:54:56 GMT+0200 (CEST)"},"177":{"varMapping":{"__isSmartRef__":true,"id":178},"source":"function obstacles() {\n    if (!this[\"__obstacles\"]) this[\"__obstacles\"] = []\n    return this[\"__obstacles\"]\n}","funcProperties":{"__isSmartRef__":true,"id":179},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"178":{"this":{"__isSmartRef__":true,"id":0}},"179":{"timestamp":{"__isSmartRef__":true,"id":180},"user":"timfelgentreff","tags":[]},"180":{"isSerializedDate":true,"string":"Mon Apr 23 2012 13:53:52 GMT+0200 (CEST)"},"181":{"varMapping":{"__isSmartRef__":true,"id":182},"source":"function addObstacle(thing) {\n    if (!this.obstacles().member(thing)) {\n        this.obstacles().push(thing)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":183},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"182":{"this":{"__isSmartRef__":true,"id":0}},"183":{"timestamp":{"__isSmartRef__":true,"id":184},"user":"timfelgentreff","tags":[]},"184":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:50:17 GMT+0200 (CEST)"},"185":{"varMapping":{"__isSmartRef__":true,"id":186},"source":"function removeObstacle(thing) {\n    var idx = this.obstacles().indexOf(thing)\n    if (idx >= 0) {\n        this.obstacles().removeAt(idx)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":187},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"186":{"this":{"__isSmartRef__":true,"id":0}},"187":{"timestamp":{"__isSmartRef__":true,"id":188},"user":"timfelgentreff","tags":[]},"188":{"isSerializedDate":true,"string":"Mon Apr 23 2012 13:54:03 GMT+0200 (CEST)"},"189":{"varMapping":{"__isSmartRef__":true,"id":190},"source":"function isTile() {\n    return true\n}","funcProperties":{"__isSmartRef__":true,"id":191},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"190":{"this":{"__isSmartRef__":true,"id":0}},"191":{"timestamp":{"__isSmartRef__":true,"id":192},"user":"timfelgentreff","tags":[]},"192":{"isSerializedDate":true,"string":"Mon Apr 23 2012 14:09:57 GMT+0200 (CEST)"},"193":{"varMapping":{"__isSmartRef__":true,"id":194},"source":"function neighbourAt(point) {\n    var column = this.map().tiles[this.column + point.x]\n    if (column) {\n        return column[this.row + point.y]\n    }\n    return null\n}","funcProperties":{"__isSmartRef__":true,"id":195},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"194":{"this":{"__isSmartRef__":true,"id":0}},"195":{"timestamp":{"__isSmartRef__":true,"id":196},"user":"tessi","tags":[]},"196":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:11:55 GMT+0200 (CEST)"},"197":{"varMapping":{"__isSmartRef__":true,"id":198},"source":"function map() {\n    return this.owner\n}","funcProperties":{"__isSmartRef__":true,"id":199},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"198":{"this":{"__isSmartRef__":true,"id":0}},"199":{"timestamp":{"__isSmartRef__":true,"id":200},"user":"tessi","tags":[]},"200":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:11:37 GMT+0200 (CEST)"},"201":{"varMapping":{"__isSmartRef__":true,"id":202},"source":"function game() {\n    return this.map().game()\n}","funcProperties":{"__isSmartRef__":true,"id":203},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"202":{"this":{"__isSmartRef__":true,"id":0}},"203":{"timestamp":{"__isSmartRef__":true,"id":204},"user":"tessi","tags":[]},"204":{"isSerializedDate":true,"string":"Wed Apr 25 2012 12:13:57 GMT+0200 (CEST)"},"205":{"varMapping":{"__isSmartRef__":true,"id":206},"source":"function reset() {\n    this.terrain = null\n    this.charactersStandingHere = this.cachedNeightbours = undefined\n    this.submorphs.invoke(\"remove\")\n    this.setDevStyle()\n}","funcProperties":{"__isSmartRef__":true,"id":207},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"206":{"this":{"__isSmartRef__":true,"id":0}},"207":{"timestamp":{"__isSmartRef__":true,"id":208},"user":"tessi","tags":[]},"208":{"isSerializedDate":true,"string":"Thu Apr 26 2012 13:34:06 GMT+0200 (CEST)"},"209":{"varMapping":{"__isSmartRef__":true,"id":210},"source":"function shallowCopy() {\n    var copy = Morph.makeRectangle(this.bounds()),\n        that = this\n    Functions.own(this).each(function (ea) {\n        copy[ea] = that[ea].asScriptOf(copy, ea)\n    })\n    \n    // also shallow-copy partsBinMetaInfo \n    if (this.partsBinMetaInfo) {\n        copy.partsBinMetaInfo = this.partsBinMetaInfo\n    }\n\n    // Not needed, we're not using properties on tiles\n    // Properties.own(this).each(function (ea) {\n        // copy[ea] = that[ea]\n    // })\n    // ea.findAndSetUniqueName()\n    return copy\n}","funcProperties":{"__isSmartRef__":true,"id":211},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"210":{"this":{"__isSmartRef__":true,"id":0}},"211":{"timestamp":{"__isSmartRef__":true,"id":212},"user":"timfelgentreff","tags":[]},"212":{"isSerializedDate":true,"string":"Thu Apr 26 2012 15:17:04 GMT+0200 (CEST)"},"213":{"varMapping":{"__isSmartRef__":true,"id":214},"source":"function characters(newCharacters /* omit parameter if you want this to be a getter */) {\n    if ( !this.charactersStandingHere || newCharacters ) {\n        this.charactersStandingHere = newCharacters || []\n    }\n    return this.charactersStandingHere\n}","funcProperties":{"__isSmartRef__":true,"id":215},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"214":{"this":{"__isSmartRef__":true,"id":0}},"215":{"timestamp":{"__isSmartRef__":true,"id":216},"user":"tessi","tags":[]},"216":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:31:13 GMT+0200 (CEST)"},"217":{"varMapping":{"__isSmartRef__":true,"id":218},"source":"function enterTile(character) {\n    if (!this.characters().include(character)) {\n        this.characters().push(character)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":219},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"218":{"this":{"__isSmartRef__":true,"id":0}},"219":{"timestamp":{"__isSmartRef__":true,"id":220},"user":"tessi","tags":[]},"220":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:25:25 GMT+0200 (CEST)"},"221":{"varMapping":{"__isSmartRef__":true,"id":222},"source":"function leaveTile(character) {\n    if (this.characters().include(character)) {\n        this.characters(this.characters().without(character))\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":223},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"222":{"this":{"__isSmartRef__":true,"id":0}},"223":{"timestamp":{"__isSmartRef__":true,"id":224},"user":"tessi","tags":[]},"224":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:28:36 GMT+0200 (CEST)"},"225":{"varMapping":{"__isSmartRef__":true,"id":226},"source":"function neighboursReachableFromHere() {\n    var that = this;\n    return this.neighbours().select(function (tile) {\n        return that.neighboursInDirection(that.distanceTo(tile)).all(function (n) {\n                    return !n.isObstacle()\n                })\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":227},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"226":{"this":{"__isSmartRef__":true,"id":0}},"227":{"timestamp":{"__isSmartRef__":true,"id":228},"user":"timfelgentreff","tags":[]},"228":{"isSerializedDate":true,"string":"Thu May 03 2012 13:28:31 GMT+0200 (CEST)"},"isSimplifiedRegistry":true}}