{"id":0,"registry":{"0":{"submorphs":[],"scripts":[],"id":2545,"shape":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"fixedHeight":true,"allowsInput":true,"_FontFamily":"Arial, sans-serif","registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":6},"_MaxTextWidth":98,"_MaxTextHeight":24,"textColor":{"__isSmartRef__":true,"id":4},"showsHalos":false,"_FontSize":14,"__SourceModuleName__":"Global.lively.morphic.TextCore","_Rotation":0,"name":"ComboText","partsBinMetaInfo":{"__isSmartRef__":true,"id":7},"textChunks":[{"__isSmartRef__":true,"id":8}],"charsReplaced":"empty","lastFindLoc":-5,"priorSelectionRange":[0,5],"prevScroll":[0,0],"_Scale":1,"_ClipMode":"hidden","list":[],"attributeConnections":[{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":11}],"doNotSerialize":["$$selection","$$savedTextString"],"doNotCopyProperties":["$$selection","$$savedTextString"],"listMorph":null,"_WhiteSpaceHandling":"pre-wrap","selection":"100","savedTextString":"100","renderContextTable":{"__isSmartRef__":true,"id":12},"priorExtent":{"__isSmartRef__":true,"id":13},"eventHandler":{"__isSmartRef__":true,"id":14},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":15},"__LivelyClassName__":"lively.morphic.Text"},"1":{"fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":2},"_Extent":{"__isSmartRef__":true,"id":3},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":4},"renderContextTable":{"__isSmartRef__":true,"id":5},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"2":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"3":{"x":98,"y":24,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"4":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"5":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML"},"6":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"7":{"partsSpaceName":"PartsBin/Inputs/","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":2,"partName":"ComboText","__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"8":{"style":{"__isSmartRef__":true,"id":9},"morph":{"__isSmartRef__":true,"id":0},"__SourceModuleName__":"Global.lively.morphic.TextCore","chunkOwner":{"__isSmartRef__":true,"id":0},"storedString":"empty","__LivelyClassName__":"lively.morphic.TextChunk"},"9":{"__SourceModuleName__":"Global.lively.morphic.TextCore","__LivelyClassName__":"lively.morphic.TextEmphasis"},"10":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"selection","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"textString","__SourceModuleName__":"Global.lively.bindings","__LivelyClassName__":"AttributeConnection"},"11":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"savedTextString","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"selection","__SourceModuleName__":"Global.lively.bindings","__LivelyClassName__":"AttributeConnection"},"12":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","triggerEvent":"triggerEventHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","setOrigin":"setOriginHTML","setClipMode":"setClipModeHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","updateText":"updateTextHTML","setTextExtent":"setTextExtentHTML","setMaxTextWidth":"setMaxTextWidthHTML","setMaxTextHeight":"setMaxTextHeightHTML","getTextExtent":"getTextExtentHTML","getTextString":"getTextStringHTML","ignoreTextEvents":"ignoreTextEventsHTML","enableTextEvents":"enableTextEventsHTML","setFontFamily":"setFontFamilyHTML","setFontSize":"setFontSizeHTML","setTextColor":"setTextColorHTML","setPadding":"setPaddingHTML","setAlign":"setAlignHTML","setVerticalAlign":"setVerticalAlignHTML","setDisplay":"setDisplayHTML","setWhiteSpaceHandling":"setWhiteSpaceHandlingHTML"},"13":{"x":98,"y":24,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"14":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"15":{"onMouseUp":{"__isSmartRef__":true,"id":16},"getList":{"__isSmartRef__":true,"id":23},"setList":{"__isSmartRef__":true,"id":26},"reset":{"__isSmartRef__":true,"id":29},"example":{"__isSmartRef__":true,"id":32},"removeList":{"__isSmartRef__":true,"id":35},"onBlur":{"__isSmartRef__":true,"id":38},"createListMorph":{"__isSmartRef__":true,"id":45}},"16":{"varMapping":{"__isSmartRef__":true,"id":17},"source":"function onMouseUp(evt) {\n\tif (evt.isCommandKey() || evt.isRightMouseButtonDown()) return $super(evt);\n\tif (this.listMorph) { this.removeList();\treturn true }\n\tvar list = this.createListMorph();\n\tthis.world().addMorph(list);\n\tlist.align(list.bounds().topLeft(), this.worldPoint(this.shape.bounds().bottomLeft()))\n\tconnect(list, 'selection', this, 'selection');\n\tconnect(list, 'selection', this, 'removeList');\n\tif (this.listMorph) this.listMorph.remove();\n\tthis.listMorph = list;\n\treturn true;\n}","funcProperties":{"__isSmartRef__":true,"id":22},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"17":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":18}},"18":{"$super":{"__isSmartRef__":true,"id":19}},"19":{"varMapping":{"__isSmartRef__":true,"id":20},"source":"function () {\n\t\t\t\ttry {\n\t\t\t\t\treturn obj.constructor.prototype[name].apply(obj, arguments)\n\t\t\t\t} catch(e) {\n\t\t\t\t\talert('Error in $super call: ' + e + '\\n' + e.stack);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}","funcProperties":{"__isSmartRef__":true,"id":21},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"20":{"obj":{"__isSmartRef__":true,"id":0},"name":"onMouseUp"},"21":{},"22":{},"23":{"varMapping":{"__isSmartRef__":true,"id":24},"source":"function getList() {\n\treturn this.list || []\n}","funcProperties":{"__isSmartRef__":true,"id":25},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"24":{"this":{"__isSmartRef__":true,"id":0}},"25":{},"26":{"varMapping":{"__isSmartRef__":true,"id":27},"source":"function setList(list) {\n\treturn this.list = list;\n}","funcProperties":{"__isSmartRef__":true,"id":28},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"27":{"this":{"__isSmartRef__":true,"id":0}},"28":{},"29":{"varMapping":{"__isSmartRef__":true,"id":30},"source":"function reset() {\n\tthis.list = [];\n\tthis.textString = 'empty';\n\tthis.removeList()\n\tdisconnectAll(this)\n\tconnect(this, 'selection', this, 'textString')\n\tconnect(this, 'savedTextString', this, 'selection')\n\tthis.applyStyle({fixedWidth: true, fixedHeight: true, borderWidth: 1, overflow: 'hidden'})\n}","funcProperties":{"__isSmartRef__":true,"id":31},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"30":{"this":{"__isSmartRef__":true,"id":0}},"31":{},"32":{"varMapping":{"__isSmartRef__":true,"id":33},"source":"function example() {\n/*\nthis.example()\nthis.getList()\n*/\n\tthis.setList(Array.range(0,100));\n\tthis.textString = 'empty';\n}","funcProperties":{"__isSmartRef__":true,"id":34},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"33":{"this":{"__isSmartRef__":true,"id":0}},"34":{},"35":{"varMapping":{"__isSmartRef__":true,"id":36},"source":"function removeList() {\n\tthis.listMorph && this.listMorph.remove()\n\tthis.listMorph = null;\n}","funcProperties":{"__isSmartRef__":true,"id":37},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"36":{"this":{"__isSmartRef__":true,"id":0}},"37":{},"38":{"varMapping":{"__isSmartRef__":true,"id":39},"source":"function onBlur() {\n\t$super();\n\tthis.removeList();\n}","funcProperties":{"__isSmartRef__":true,"id":44},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"39":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":40}},"40":{"$super":{"__isSmartRef__":true,"id":41}},"41":{"varMapping":{"__isSmartRef__":true,"id":42},"source":"function () {\n\t\t\t\ttry {\n\t\t\t\t\treturn obj.constructor.prototype[name].apply(obj, arguments)\n\t\t\t\t} catch(e) {\n\t\t\t\t\talert('Error in $super call: ' + e + '\\n' + e.stack);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}","funcProperties":{"__isSmartRef__":true,"id":43},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"42":{"obj":{"__isSmartRef__":true,"id":0},"name":"onBlur"},"43":{},"44":{},"45":{"varMapping":{"__isSmartRef__":true,"id":46},"source":"function createListMorph() {\n\treturn new lively.morphic.List(new Rectangle(0,0, this.getExtent().x, 100), this.getList());\n}","funcProperties":{"__isSmartRef__":true,"id":47},"__SourceModuleName__":"Global","__LivelyClassName__":"lively.Closure"},"46":{"this":{"__isSmartRef__":true,"id":0}},"47":{},"isSimplifiedRegistry":true}}