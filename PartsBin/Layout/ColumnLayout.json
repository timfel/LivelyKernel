{"id":0,"registry":{"0":{"submorphs":[],"scripts":[{"__isSmartRef__":true,"id":1}],"id":"208CB01E-E1F6-4F05-9D28-FA2C18DC1347","shape":{"__isSmartRef__":true,"id":2},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"ColumnLayout","partsBinMetaInfo":{"__isSmartRef__":true,"id":3},"eventHandler":{"__isSmartRef__":true,"id":33},"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","FE91EA31-D8AE-461B-8A49-95DA5FBAE5B4","F38439A3-2F4E-4AC2-BF73-2633C00B1393","6748F5B5-2284-4748-A6EE-F1A261CBAD0B","BBAFB862-93AE-4F89-BCFF-9F1C67B7FE4C","7EC17E78-593A-4CC8-B7E3-859BCBBFE785","BAE1478B-CB11-41E8-A432-8728CEA1E8B9","2EF4FF97-F02E-411E-AF1A-7151C9D582FA","3BDF678D-D961-43BA-939C-471EB892052F","00EA2971-F34B-4A4A-9862-9E232C36D082"],"partTests":{"__isSmartRef__":true,"id":34},"_ClipMode":"visible","moved":true,"isBeingDragged":false,"isLayouting":true,"prevScroll":[0,0],"grabbingEnabled":false,"magnets":[{"__isSmartRef__":true,"id":39},{"__isSmartRef__":true,"id":40},{"__isSmartRef__":true,"id":41},{"__isSmartRef__":true,"id":42},{"__isSmartRef__":true,"id":43},{"__isSmartRef__":true,"id":44},{"__isSmartRef__":true,"id":45},{"__isSmartRef__":true,"id":46}],"isMetaTool":true,"#startLetters":"regis","draggingEnabled":true,"eventsAreDisabled":false,"_HandStyle":"default","_PointerEvents":"auto","morphsToMove":null,"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent","prevDragPos"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":47},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(269.0,-13.0)","prevDragPos":"lively.pt(1002.0,565.0)"},"1":{"target":{"__isSmartRef__":true,"id":0},"selector":"layoutWorld","args":[],"stopped":false,"tickTime":500,"suspended":false,"__LivelyClassName__":"lively.morphic.TargetScript","__SourceModuleName__":"Global.lively.morphic.Core"},"2":{"_BorderWidth":0,"_ClipMode":"visible","_BorderRadius":0,"_Opacity":0.4523,"_BorderStyle":"solid","_AppearanceStylingMode":false,"_BorderStylingMode":false,"__serializedExpressions__":["position","_Extent","_BorderColor","_Fill","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(397.0,12.0)","_BorderColor":"Color.rgb(159,159,159)","_Fill":"Color.rgb(204,204,204)","_Padding":"lively.rect(0,0,0,0)"},"3":{"comment":"A very direct and cheap world layouting:\n\n- layouts all the morphs on the left ( < 100px) in vertical order\n","migrationLevel":4,"partName":"ColumnLayout","changes":[{"__isSmartRef__":true,"id":4},{"__isSmartRef__":true,"id":6},{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":12},{"__isSmartRef__":true,"id":14},{"__isSmartRef__":true,"id":16},{"__isSmartRef__":true,"id":18},{"__isSmartRef__":true,"id":20},{"__isSmartRef__":true,"id":22},{"__isSmartRef__":true,"id":24},{"__isSmartRef__":true,"id":26},{"__isSmartRef__":true,"id":28},{"__isSmartRef__":true,"id":30}],"lastModifiedDate":{"__isSmartRef__":true,"id":32},"revisionOnLoad":186418,"partsSpaceName":"PartsBin/Layout","__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"4":{"date":{"__isSmartRef__":true,"id":5},"author":"jenslincke","message":"no comment","id":"BDAAAA01-CAD5-49DE-8600-140BED885FE1"},"5":{"isSerializedDate":true,"string":"Wed Dec 05 2012 17:59:50 GMT+0100 (CET)"},"6":{"date":{"__isSmartRef__":true,"id":7},"author":"jenslincke","message":"I want my blue rectangle back!","id":"5AA9291A-869F-4D36-8095-4721B5A5B205"},"7":{"isSerializedDate":true,"string":"Thu Nov 22 2012 10:35:51 GMT+0100 (CET)"},"8":{"date":{"__isSmartRef__":true,"id":9},"author":"bgnauk","message":"no comment","id":"0124E570-50B7-4CE3-83A1-6E7BA89B5CD8"},"9":{"isSerializedDate":true,"string":"Mon Jun 18 2012 19:35:08 GMT+0200 (CEST)"},"10":{"date":{"__isSmartRef__":true,"id":11},"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350"},"11":{"isSerializedDate":true,"string":"Mon Apr 09 2012 13:42:07 GMT+0200 (CEST)"},"12":{"date":{"__isSmartRef__":true,"id":13},"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7"},"13":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:42:26 GMT+0100 (CET)"},"14":{"date":{"__isSmartRef__":true,"id":15},"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B"},"15":{"isSerializedDate":true,"string":"Sat Feb 25 2012 02:59:09 GMT+0100 (CET)"},"16":{"date":{"__isSmartRef__":true,"id":17},"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2"},"17":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:53:45 GMT+0100 (CET)"},"18":{"date":{"__isSmartRef__":true,"id":19},"author":"undefined","message":"whoopsie","id":"CEA5DCD5-2DB7-40AD-A776-262A7A0666FC"},"19":{"isSerializedDate":true,"string":"Thu May 03 2012 15:51:30 GMT+0200 (CEST)"},"20":{"date":{"__isSmartRef__":true,"id":21},"author":"undefined","message":"whoopsie","id":"3F17A2D2-3C24-424B-B0FA-E43112267D23"},"21":{"isSerializedDate":true,"string":"Thu May 03 2012 15:51:36 GMT+0200 (CEST)"},"22":{"date":{"__isSmartRef__":true,"id":23},"author":"jenslincke","message":"no comment","id":"EA1B8910-1E9A-4884-A9B5-44DAE3DC4178"},"23":{"isSerializedDate":true,"string":"Thu Dec 06 2012 13:28:30 GMT+0100 (CET)"},"24":{"date":{"__isSmartRef__":true,"id":25},"author":"jenslincke","message":"no comment","id":"6AD89AC6-0BAE-4B1C-8C60-664562056C10"},"25":{"isSerializedDate":true,"string":"Thu Dec 06 2012 13:53:14 GMT+0100 (CET)"},"26":{"date":{"__isSmartRef__":true,"id":27},"author":"jenslincke","message":"no comment","id":"BC03E03B-5F5A-4955-8F8E-A6CC8426C612"},"27":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:05:45 GMT+0100 (CET)"},"28":{"date":{"__isSmartRef__":true,"id":29},"author":"jenslincke","message":"no comment","id":"2EDE0A52-4B4A-4971-8005-F20EBD8737F7"},"29":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:09:39 GMT+0100 (CET)"},"30":{"date":{"__isSmartRef__":true,"id":31},"author":"jenslincke","message":"no comment","id":"94C183CF-1D91-4AB7-8BF8-B3C7F817BDB9"},"31":{"isSerializedDate":true,"string":"Thu Mar 07 2013 12:51:52 GMT+0100 (CET)"},"32":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:09:20 GMT+0100 (CET)"},"33":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"34":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":35}},"35":{"test01IsMorph":{"__isSmartRef__":true,"id":36}},"36":{"varMapping":{"__isSmartRef__":true,"id":37},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":38},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"37":{"this":{"__isSmartRef__":true,"id":34}},"38":{},"39":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.0)","cachedGlobalPosition":"lively.pt(41.0,22.0)"},"40":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,0.0)","cachedGlobalPosition":"lively.pt(239.5,22.0)"},"41":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.0)","cachedGlobalPosition":"lively.pt(438.0,22.0)"},"42":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,0.5)","cachedGlobalPosition":"lively.pt(438.0,28.0)"},"43":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(1.0,1.0)","cachedGlobalPosition":"lively.pt(438.0,34.0)"},"44":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.5,1.0)","cachedGlobalPosition":"lively.pt(239.5,34.0)"},"45":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,1.0)","cachedGlobalPosition":"lively.pt(41.0,34.0)"},"46":{"morph":{"__isSmartRef__":true,"id":0},"connectedControlPoints":[],"__serializedExpressions__":["position","cachedGlobalPosition"],"__LivelyClassName__":"lively.morphic.RelativeMagnet","__SourceModuleName__":"Global.lively.morphic.Connectors","position":"lively.pt(0.0,0.5)","cachedGlobalPosition":"lively.pt(41.0,28.0)"},"47":{"layoutWorld":{"__isSmartRef__":true,"id":48},"startLayouting":{"__isSmartRef__":true,"id":52},"stopLayouting":{"__isSmartRef__":true,"id":56},"reset":{"__isSmartRef__":true,"id":60},"onDragStart":{"__isSmartRef__":true,"id":64},"onDrag":{"__isSmartRef__":true,"id":72},"onDragEnd":{"__isSmartRef__":true,"id":80},"findMorphsToLayout":{"__isSmartRef__":true,"id":88},"onClick":{"__isSmartRef__":true,"id":92},"toggleLayouting":{"__isSmartRef__":true,"id":96}},"48":{"varMapping":{"__isSmartRef__":true,"id":49},"source":"function layoutWorld() {\n    var space = pt(0,this.getExtent().y);\n    this.findMorphsToLayout().inject(this.bounds().bottomLeft().addPt(space),\n        function(lastPos, ea) {\n            ea.setPosition(lastPos);\n            return ea.bounds().bottomLeft().addPt(space)\n        }, this)\n    var halos = this.world().currentHaloTarget &&\n        this.world().currentHaloTarget.halos;\n    if (halos)\n        halos.invoke('alignAtTarget')\n}","funcProperties":{"__isSmartRef__":true,"id":50},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"49":{"this":{"__isSmartRef__":true,"id":0}},"50":{"timestamp":{"__isSmartRef__":true,"id":51},"user":"jenslincke","tags":[]},"51":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:08:26 GMT+0100 (CET)"},"52":{"varMapping":{"__isSmartRef__":true,"id":53},"source":"function startLayouting() {\n    this.isLayouting = true;\n    this.startStepping(500, \"layoutWorld\")\n}","funcProperties":{"__isSmartRef__":true,"id":54},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"53":{"this":{"__isSmartRef__":true,"id":0}},"54":{"timestamp":{"__isSmartRef__":true,"id":55},"user":"jenslincke","tags":[]},"55":{"isSerializedDate":true,"string":"Thu Dec 06 2012 12:02:28 GMT+0100 (CET)"},"56":{"varMapping":{"__isSmartRef__":true,"id":57},"source":"function stopLayouting() {\n    this.isLayouting = false;\n    this.stopStepping()\n}","funcProperties":{"__isSmartRef__":true,"id":58},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"57":{"this":{"__isSmartRef__":true,"id":0}},"58":{"timestamp":{"__isSmartRef__":true,"id":59},"user":"jenslincke","tags":[]},"59":{"isSerializedDate":true,"string":"Thu Dec 06 2012 12:01:10 GMT+0100 (CET)"},"60":{"varMapping":{"__isSmartRef__":true,"id":61},"source":"function reset() {\n    this.isMetaTool = true\n    this.enableDragging();\n\n\n    // this.registerForMouseEvents()\n    \n}","funcProperties":{"__isSmartRef__":true,"id":62},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"61":{"this":{"__isSmartRef__":true,"id":0}},"62":{"timestamp":{"__isSmartRef__":true,"id":63},"user":"jenslincke","tags":[]},"63":{"isSerializedDate":true,"string":"Wed Dec 12 2012 10:41:59 GMT+0100 (CET)"},"64":{"varMapping":{"__isSmartRef__":true,"id":65},"source":"function onDragStart(evt) {\n    this.prevDragPos = evt.getPosition();\n    this.morphsToMove = this.findMorphsToLayout();\n}","funcProperties":{"__isSmartRef__":true,"id":70},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"65":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":66}},"66":{"$super":{"__isSmartRef__":true,"id":67}},"67":{"varMapping":{"__isSmartRef__":true,"id":68},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":69},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"68":{"obj":{"__isSmartRef__":true,"id":0},"name":"onDragStart"},"69":{},"70":{"timestamp":{"__isSmartRef__":true,"id":71},"user":"jenslincke","tags":[]},"71":{"isSerializedDate":true,"string":"Wed Dec 12 2012 10:44:54 GMT+0100 (CET)"},"72":{"varMapping":{"__isSmartRef__":true,"id":73},"source":"function onDrag(evt) {\n    var delta =  evt.getPosition().subPt(this.prevDragPos)\n    this.moveBy(delta)\n    this.prevDragPos = evt.getPosition();\n    this.morphsToMove.forEach(function(ea) {\n        ea.moveBy(delta)\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":78},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"73":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":74}},"74":{"$super":{"__isSmartRef__":true,"id":75}},"75":{"varMapping":{"__isSmartRef__":true,"id":76},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":77},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"76":{"obj":{"__isSmartRef__":true,"id":0},"name":"onDrag"},"77":{},"78":{"timestamp":{"__isSmartRef__":true,"id":79},"user":"jenslincke","tags":[]},"79":{"isSerializedDate":true,"string":"Wed Dec 12 2012 10:45:21 GMT+0100 (CET)"},"80":{"varMapping":{"__isSmartRef__":true,"id":81},"source":"function onDragEnd() {\n     this.morphsToMove = null;\n}","funcProperties":{"__isSmartRef__":true,"id":86},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"81":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":82}},"82":{"$super":{"__isSmartRef__":true,"id":83}},"83":{"varMapping":{"__isSmartRef__":true,"id":84},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world)\n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":85},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"84":{"obj":{"__isSmartRef__":true,"id":0},"name":"onDragEnd"},"85":{},"86":{"timestamp":{"__isSmartRef__":true,"id":87},"user":"jenslincke","tags":[]},"87":{"isSerializedDate":true,"string":"Wed Dec 12 2012 10:44:37 GMT+0100 (CET)"},"88":{"varMapping":{"__isSmartRef__":true,"id":89},"source":"function findMorphsToLayout() {\n    var target = this.owner;\n    var halos = this.world().currentHaloTarget && this.world().currentHaloTarget.halos;\n    // check if dragging etc...\n    if (halos && halos.detect(function(ea) {\n            return ea.infoLabel && ea.infoLabel.owner\n        })){\n        return [];\n    }\n    return target.submorphs.select(function(ea) {\n        return (ea.getPosition().x <= this.bounds().right()) &&\n            (this.bounds().left() - 10 <= ea.getPosition().x) &&\n            (this.bounds().top() <= ea.getPosition().y) \n    }, this).reject(function(ea) {\n        return ea.isEpiMorph || (ea instanceof lively.morphic.HandMorph) \n        || ea == this\n        || ea.isMetaTool\n        || ea instanceof lively.morphic.Window\n    }, this).sortBy(function(ea) {\n        return ea.getPosition().y\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":90},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"89":{"this":{"__isSmartRef__":true,"id":0}},"90":{"timestamp":{"__isSmartRef__":true,"id":91},"user":"jenslincke","tags":[]},"91":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:09:12 GMT+0100 (CET)"},"92":{"varMapping":{"__isSmartRef__":true,"id":93},"source":"function onClick(evt) {\n    \n    if (evt.isLeftMouseButtonDown()) {\n       this.toggleLayouting()\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":94},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"93":{"this":{"__isSmartRef__":true,"id":0}},"94":{"timestamp":{"__isSmartRef__":true,"id":95},"user":"jenslincke","tags":[]},"95":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:04:37 GMT+0100 (CET)"},"96":{"varMapping":{"__isSmartRef__":true,"id":97},"source":"function toggleLayouting() {\n    if (this.isLayouting) {\n        this.stopLayouting()\n        this.setFill(Color.red)\n    } else {\n        this.startLayouting()\n        this.setFill(Color.gray)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":98},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"97":{"this":{"__isSmartRef__":true,"id":0}},"98":{"timestamp":{"__isSmartRef__":true,"id":99},"user":"jenslincke","tags":[]},"99":{"isSerializedDate":true,"string":"Wed Dec 12 2012 11:04:24 GMT+0100 (CET)"},"isSimplifiedRegistry":true}}