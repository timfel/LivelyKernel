{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1},{"__isSmartRef__":true,"id":37},{"__isSmartRef__":true,"id":74},{"__isSmartRef__":true,"id":90}],"scripts":[],"id":452,"shape":{"__isSmartRef__":true,"id":128},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":132},"showsHalos":false,"halos":[],"name":"FontChooserDialog","partsBinMetaInfo":{"__isSmartRef__":true,"id":133},"__SourceModuleName__":"Global.lively.morphic.Core","_Rotation":0,"_Scale":1,"selectedFont":null,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":134},"__LivelyClassName__":"lively.morphic.Box"},"1":{"submorphs":[{"__isSmartRef__":true,"id":2}],"scripts":[],"id":351,"shape":{"__isSmartRef__":true,"id":11},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":24},"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":13},"lighterFill":{"__isSmartRef__":true,"id":25},"label":{"__isSmartRef__":true,"id":2},"attributeConnections":[{"__isSmartRef__":true,"id":34}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"showsHalos":false,"halos":[],"__SourceModuleName__":"Global.lively.morphic.Widgets","_Rotation":0,"padding":{"__isSmartRef__":true,"id":35},"name":"listFontButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":36},"owner":{"__isSmartRef__":true,"id":0},"_Scale":1,"__LivelyClassName__":"lively.morphic.Button"},"2":{"submorphs":[],"scripts":[],"id":18,"shape":{"__isSmartRef__":true,"id":3},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":false,"halosEnabled":true,"fixedWidth":false,"_MaxTextWidth":null,"_MaxTextHeight":null,"fixedHeight":false,"allowsInput":false,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":7},"textColor":{"__isSmartRef__":true,"id":6},"owner":{"__isSmartRef__":true,"id":1},"eventsAreIgnored":true,"__SourceModuleName__":"Global.lively.morphic.TextCore","textChunks":[{"__isSmartRef__":true,"id":8}],"padding":{"__isSmartRef__":true,"id":10},"_Padding":{"__isSmartRef__":true,"id":10},"prevScroll":[0,0],"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Text"},"3":{"borderWidth":0,"fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":4},"_Extent":{"__isSmartRef__":true,"id":5},"_BorderColor":{"__isSmartRef__":true,"id":6},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"4":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"5":{"x":58,"y":20,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"6":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"7":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"8":{"style":{"__isSmartRef__":true,"id":9},"morph":{"__isSmartRef__":true,"id":2},"storedString":"refresh","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"9":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"10":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"11":{"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":12},"_Extent":{"__isSmartRef__":true,"id":5},"_Fill":{"__isSmartRef__":true,"id":13},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":23},"_BorderRadius":5,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"12":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"13":{"stops":[{"__isSmartRef__":true,"id":14},{"__isSmartRef__":true,"id":16},{"__isSmartRef__":true,"id":18},{"__isSmartRef__":true,"id":20}],"vector":{"__isSmartRef__":true,"id":22},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"14":{"offset":0,"color":{"__isSmartRef__":true,"id":15}},"15":{"r":0.9600000000000001,"g":0.9600000000000001,"b":0.9600000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"16":{"offset":0.4,"color":{"__isSmartRef__":true,"id":17}},"17":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"18":{"offset":0.6,"color":{"__isSmartRef__":true,"id":19}},"19":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"20":{"offset":1,"color":{"__isSmartRef__":true,"id":21}},"21":{"r":0.94,"g":0.94,"b":0.94,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"22":{"x":0,"y":0,"width":0,"height":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"23":{"r":0.839,"g":0.839,"b":0.839,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"24":{"x":91,"y":7,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"25":{"stops":[{"__isSmartRef__":true,"id":26},{"__isSmartRef__":true,"id":28},{"__isSmartRef__":true,"id":30},{"__isSmartRef__":true,"id":32}],"vector":{"__isSmartRef__":true,"id":22},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"26":{"offset":0,"color":{"__isSmartRef__":true,"id":27}},"27":{"r":0.98,"g":0.98,"b":0.98,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"28":{"offset":0.4,"color":{"__isSmartRef__":true,"id":29}},"29":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"30":{"offset":0.6,"color":{"__isSmartRef__":true,"id":31}},"31":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"32":{"offset":1,"color":{"__isSmartRef__":true,"id":33}},"33":{"r":0.97,"g":0.97,"b":0.97,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"34":{"sourceObj":{"__isSmartRef__":true,"id":1},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"listAvailableFonts","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings"},"35":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"36":{"partsSpaceName":"PartsBin/NewWorld","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":1,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"37":{"submorphs":[{"__isSmartRef__":true,"id":38}],"scripts":[],"id":1147,"shape":{"__isSmartRef__":true,"id":47},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":60},"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":49},"lighterFill":{"__isSmartRef__":true,"id":61},"label":{"__isSmartRef__":true,"id":38},"attributeConnections":[{"__isSmartRef__":true,"id":70},{"__isSmartRef__":true,"id":71}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"showsHalos":false,"halos":[],"__SourceModuleName__":"Global.lively.morphic.Widgets","_Rotation":0,"padding":{"__isSmartRef__":true,"id":72},"name":"confirmButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":73},"_Scale":1,"owner":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.Button"},"38":{"submorphs":[],"scripts":[],"id":18,"shape":{"__isSmartRef__":true,"id":39},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":false,"halosEnabled":true,"fixedWidth":false,"_MaxTextWidth":null,"_MaxTextHeight":null,"fixedHeight":false,"allowsInput":false,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":43},"textColor":{"__isSmartRef__":true,"id":42},"owner":{"__isSmartRef__":true,"id":37},"eventsAreIgnored":true,"__SourceModuleName__":"Global.lively.morphic.TextCore","textChunks":[{"__isSmartRef__":true,"id":44}],"padding":{"__isSmartRef__":true,"id":46},"_Padding":{"__isSmartRef__":true,"id":46},"prevScroll":[0,0],"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Text"},"39":{"borderWidth":0,"fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":40},"_Extent":{"__isSmartRef__":true,"id":41},"_BorderColor":{"__isSmartRef__":true,"id":42},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"40":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"41":{"x":62,"y":22,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"42":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"43":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"44":{"style":{"__isSmartRef__":true,"id":45},"morph":{"__isSmartRef__":true,"id":38},"storedString":"confirm","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"45":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"46":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"47":{"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":48},"_Extent":{"__isSmartRef__":true,"id":41},"_Fill":{"__isSmartRef__":true,"id":49},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":59},"_BorderRadius":5,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"48":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"49":{"stops":[{"__isSmartRef__":true,"id":50},{"__isSmartRef__":true,"id":52},{"__isSmartRef__":true,"id":54},{"__isSmartRef__":true,"id":56}],"vector":{"__isSmartRef__":true,"id":58},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"50":{"offset":0,"color":{"__isSmartRef__":true,"id":51}},"51":{"r":0.9600000000000001,"g":0.9600000000000001,"b":0.9600000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"52":{"offset":0.4,"color":{"__isSmartRef__":true,"id":53}},"53":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"54":{"offset":0.6,"color":{"__isSmartRef__":true,"id":55}},"55":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"56":{"offset":1,"color":{"__isSmartRef__":true,"id":57}},"57":{"r":0.94,"g":0.94,"b":0.94,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"58":{"x":0,"y":0,"width":0,"height":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"59":{"r":0.839,"g":0.839,"b":0.839,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"60":{"x":51.991334531971006,"y":450,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"61":{"stops":[{"__isSmartRef__":true,"id":62},{"__isSmartRef__":true,"id":64},{"__isSmartRef__":true,"id":66},{"__isSmartRef__":true,"id":68}],"vector":{"__isSmartRef__":true,"id":58},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"62":{"offset":0,"color":{"__isSmartRef__":true,"id":63}},"63":{"r":0.98,"g":0.98,"b":0.98,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"64":{"offset":0.4,"color":{"__isSmartRef__":true,"id":65}},"65":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"66":{"offset":0.6,"color":{"__isSmartRef__":true,"id":67}},"67":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"68":{"offset":1,"color":{"__isSmartRef__":true,"id":69}},"69":{"r":0.97,"g":0.97,"b":0.97,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"70":{"sourceObj":{"__isSmartRef__":true,"id":37},"sourceAttrName":"fire","targetMethodName":"listAvailableFonts","__SourceModuleName__":"Global.lively.bindings","__LivelyClassName__":"AttributeConnection"},"71":{"sourceObj":{"__isSmartRef__":true,"id":37},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"remove","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings"},"72":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"73":{"partsSpaceName":"PartsBin/NewWorld","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":1,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"74":{"submorphs":[],"scripts":[],"id":1224,"shape":{"__isSmartRef__":true,"id":75},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":80},"showsHalos":false,"halos":[],"name":"fontList","partsBinMetaInfo":{"__isSmartRef__":true,"id":81},"__SourceModuleName__":"Global.lively.morphic.Core","_Rotation":0,"_Scale":1,"owner":{"__isSmartRef__":true,"id":0},"_ClipMode":"scroll","__serializedLivelyClosures__":{"__isSmartRef__":true,"id":82},"__LivelyClassName__":"lively.morphic.Box"},"75":{"position":{"__isSmartRef__":true,"id":76},"_Extent":{"__isSmartRef__":true,"id":77},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":78},"_Fill":{"__isSmartRef__":true,"id":79},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"76":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"77":{"x":222.7897671257631,"y":403,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"78":{"r":1,"g":1,"b":1,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global"},"79":{"r":1,"g":1,"b":1,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"80":{"x":8.952754144335358,"y":40,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"81":{"partsSpaceName":"PartsBin/NewWorld","__SourceModuleName__":"Global.lively.PartsBin","__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"82":{"onMouseDown":{"__isSmartRef__":true,"id":83}},"83":{"varMapping":{"__isSmartRef__":true,"id":84},"source":"function onMouseDown(evt) {\n\tif (evt.isCommandKey() || !evt.isLeftMouseButtonDown()) return $super(evt);\n\tvar scroll = this.getScroll();\n\tthis.owner.selectFont(this.localize(evt.getPosition()).addXY(scroll[0], scroll[1]));\n}","funcProperties":{"__isSmartRef__":true,"id":89},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"84":{"this":{"__isSmartRef__":true,"id":74},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":85}},"85":{"$super":{"__isSmartRef__":true,"id":86}},"86":{"varMapping":{"__isSmartRef__":true,"id":87},"source":"function () {\n\t\t\t\ttry {\n\t\t\t\t\treturn obj.constructor.prototype[name].apply(obj, arguments)\n\t\t\t\t} catch(e) {\n\t\t\t\t\talert('Error in $super call: ' + e + '\\n' + e.stack);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}","funcProperties":{"__isSmartRef__":true,"id":88},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"87":{"obj":{"__isSmartRef__":true,"id":74},"name":"onMouseDown"},"88":{},"89":{},"90":{"submorphs":[{"__isSmartRef__":true,"id":91}],"scripts":[],"id":1582,"shape":{"__isSmartRef__":true,"id":100},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":true,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":114},"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":103},"lighterFill":{"__isSmartRef__":true,"id":115},"label":{"__isSmartRef__":true,"id":91},"attributeConnections":[{"__isSmartRef__":true,"id":124},{"__isSmartRef__":true,"id":125}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"showsHalos":false,"halos":[],"__SourceModuleName__":"Global.lively.morphic.Widgets","_Rotation":0,"padding":{"__isSmartRef__":true,"id":126},"name":"cancelButton","partsBinMetaInfo":{"__isSmartRef__":true,"id":127},"_Scale":1,"owner":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.Button"},"91":{"submorphs":[],"scripts":[],"id":18,"shape":{"__isSmartRef__":true,"id":92},"grabbingEnabled":false,"droppingEnabled":false,"showsMorphMenu":false,"halosEnabled":true,"fixedWidth":false,"_MaxTextWidth":null,"_MaxTextHeight":null,"fixedHeight":false,"allowsInput":false,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":96},"textColor":{"__isSmartRef__":true,"id":95},"owner":{"__isSmartRef__":true,"id":90},"eventsAreIgnored":true,"__SourceModuleName__":"Global.lively.morphic.TextCore","textChunks":[{"__isSmartRef__":true,"id":97}],"padding":{"__isSmartRef__":true,"id":99},"_Padding":{"__isSmartRef__":true,"id":99},"prevScroll":[0,0],"_ClipMode":"visible","__LivelyClassName__":"lively.morphic.Text"},"92":{"borderWidth":0,"fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":93},"_Extent":{"__isSmartRef__":true,"id":94},"_BorderColor":{"__isSmartRef__":true,"id":95},"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"93":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"94":{"x":62,"y":22,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"95":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"96":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"97":{"style":{"__isSmartRef__":true,"id":98},"morph":{"__isSmartRef__":true,"id":91},"storedString":"cancel","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"98":{"__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"99":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"100":{"__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":{"__isSmartRef__":true,"id":101},"_Extent":{"__isSmartRef__":true,"id":102},"_Fill":{"__isSmartRef__":true,"id":103},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":113},"_BorderRadius":5,"__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"101":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"102":{"x":62,"y":22,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"103":{"stops":[{"__isSmartRef__":true,"id":104},{"__isSmartRef__":true,"id":106},{"__isSmartRef__":true,"id":108},{"__isSmartRef__":true,"id":110}],"vector":{"__isSmartRef__":true,"id":112},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"104":{"offset":0,"color":{"__isSmartRef__":true,"id":105}},"105":{"r":0.9600000000000001,"g":0.9600000000000001,"b":0.9600000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"106":{"offset":0.4,"color":{"__isSmartRef__":true,"id":107}},"107":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"108":{"offset":0.6,"color":{"__isSmartRef__":true,"id":109}},"109":{"r":0.8200000000000001,"g":0.8200000000000001,"b":0.8200000000000001,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"110":{"offset":1,"color":{"__isSmartRef__":true,"id":111}},"111":{"r":0.94,"g":0.94,"b":0.94,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"112":{"x":0,"y":0,"width":0,"height":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"113":{"r":0.839,"g":0.839,"b":0.839,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"114":{"x":130.44777965018488,"y":450.4907846441504,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"115":{"stops":[{"__isSmartRef__":true,"id":116},{"__isSmartRef__":true,"id":118},{"__isSmartRef__":true,"id":120},{"__isSmartRef__":true,"id":122}],"vector":{"__isSmartRef__":true,"id":112},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.LinearGradient"},"116":{"offset":0,"color":{"__isSmartRef__":true,"id":117}},"117":{"r":0.98,"g":0.98,"b":0.98,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"118":{"offset":0.4,"color":{"__isSmartRef__":true,"id":119}},"119":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"120":{"offset":0.6,"color":{"__isSmartRef__":true,"id":121}},"121":{"r":0.91,"g":0.91,"b":0.91,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"122":{"offset":1,"color":{"__isSmartRef__":true,"id":123}},"123":{"r":0.97,"g":0.97,"b":0.97,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"124":{"sourceObj":{"__isSmartRef__":true,"id":90},"sourceAttrName":"fire","targetMethodName":"listAvailableFonts","__SourceModuleName__":"Global.lively.bindings","__LivelyClassName__":"AttributeConnection"},"125":{"sourceObj":{"__isSmartRef__":true,"id":90},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"remove","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings"},"126":{"x":5,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Rectangle"},"127":{"partsSpaceName":"PartsBin/NewWorld","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":1,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"128":{"position":{"__isSmartRef__":true,"id":129},"_Extent":{"__isSmartRef__":true,"id":130},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":131},"_Fill":{"__isSmartRef__":true,"id":78},"__SourceModuleName__":"Global.lively.morphic.Shapes","__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"129":{"x":0,"y":0,"__SourceModuleName__":"Global","__LivelyClassName__":"Point"},"130":{"x":235.69919392995348,"y":476.39055082886716,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"131":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global","__LivelyClassName__":"Color"},"132":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global"},"133":{"partsSpaceName":"PartsBin/NewWorld","__SourceModuleName__":"Global.lively.PartsBin","migrationLevel":2,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"134":{"availableFonts":{"__isSmartRef__":true,"id":135},"getKnownFonts":{"__isSmartRef__":true,"id":138},"listAvailableFonts":{"__isSmartRef__":true,"id":141},"reset":{"__isSmartRef__":true,"id":144},"setupConnections":{"__isSmartRef__":true,"id":147},"selectFont":{"__isSmartRef__":true,"id":150}},"135":{"varMapping":{"__isSmartRef__":true,"id":136},"source":"function availableFonts(fontNames) {\n\tvar testText = 'CmmwwmmwwmmwwmmL',\n\t\tparent = document.body,\n\t\tspan = XHTMLNS.create('span');\n\tspan.textContent = testText;\n\tspan.style.fontSize = '72px';\n\tparent.appendChild(span);\n\tvar defaultWidth = span.offsetWidth, defaultHeight = span.offsetHeight;\n\tvar availableFonts = fontNames.select(function(fontName) {\n\t\ttry {\n\t\t\tif (Global.getComputedStyle(span).fontFamily == fontName) return true;\n\t\t\tspan.style.fontFamily = fontName;\n\t\t\tvar available = defaultWidth !== span.offsetWidth || defaultHeight !== span.offsetHeight;\n\t\t\treturn available;\n\t\t} catch(e) { return false }\n\t})\n\tparent.removeChild(span)\n\treturn availableFonts;\n}","funcProperties":{"__isSmartRef__":true,"id":137},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"136":{"this":{"__isSmartRef__":true,"id":0}},"137":{},"138":{"varMapping":{"__isSmartRef__":true,"id":139},"source":"function getKnownFonts(fontNames) {\n\treturn ['academy engraved let',\n\t\t'algerian',\n\t\t'amaze',\n\t\t'arial',\n\t\t'arial black',\n\t\t'balthazar',\n\t\t'bart',\n\t\t'bimini',\n\t\t'comic sans ms',\n\t\t'book antiqua',\n\t\t'bookman old style',\n\t\t'braggadocio',\n\t\t'britannic bold',\n\t\t'brush script mt',\n\t\t'century gothic',\n\t\t'century schoolbook',\n\t\t'chasm',\n\t\t'chicago',\n\t\t'colonna mt',\n\t\t'comic sans ms',\n\t\t'commercialscript bt',\n\t\t'coolsville ',\n\t\t'courier',\n\t\t'courier new',\n\t\t'cursive',\n\t\t'dayton',\n\t\t'desdemona',\n\t\t'fantasy',\n\t\t'flat brush ',\n\t\t'footlight mt light ',\n\t\t'futurablack bt',\n\t\t'futuralight bt',\n\t\t'garamond',\n\t\t'gaze',\n\t\t'geneva',\n\t\t'georgia',\n\t\t'geotype tt',\n\t\t'helterskelter',\n\t\t'helvetica',\n\t\t'herman',\n\t\t'highlight let',\n\t\t'impact',\n\t\t'jester',\n\t\t'joan',\n\t\t'john handy let',\n\t\t'jokerman let',\n\t\t'kelt',\n\t\t'kids',\n\t\t'kino mt',\n\t\t'la bamba let',\n\t\t'lithograph',\n\t\t'lucida console',\n\t\t'map symbols',\n\t\t'marlett',\n\t\t'matteroffact',\n\t\t'matisse itc ',\n\t\t'matura mt script capitals',\n\t\t'mekanik let',\n\t\t'monaco ',\n\t\t'monospace',\n\t\t'monotype sorts',\n\t\t'ms linedraw',\n\t\t'new york',\n\t\t'olddreadfulno7 bt',\n\t\t'orange let',\n\t\t'palatino ',\n\t\t'playbill',\n\t\t'pump demi bold let',\n\t\t'puppylike',\n\t\t'roland',\n\t\t'sans-serif',\n\t\t'scripts',\n\t\t'scruff let',\n\t\t'serif',\n\t\t'short hand',\n\t\t'signs normal',\n\t\t'simplex',\n\t\t'simpson',\n\t\t'stylus bt',\n\t\t'superfrench',\n\t\t'surfer',\n\t\t'swis721 bt',\n\t\t'swis721 blkoul bt',\n\t\t'symap',\n\t\t'symbol',\n\t\t'tahoma',\n\t\t'technic',\n\t\t'tempus sans itc',\n\t\t'terk ',\n\t\t'times',\n\t\t'times new roman',\n\t\t'trebuchet ms',\n\t\t'trendy',\n\t\t'txt',\n\t\t'verdana',\n\t\t'victorian let',\n\t\t'vineta bt',\n\t\t'vivian',\n\t\t'webdings',\n\t\t'wingdings',\n\t\t'western ',\n\t\t'westminster',\n\t\t'westwood let',\n\t\t'wide latin',\n\t\t'zapfellipt bt',\n\t\t// these are for linux\n\t\t'URW Chancery L',\n\t\t'URW Gothic L',\n\t\t'Century Schoolbook L',\n\t\t'URW Bookman L',\n\t\t'URW Palladio L',\n\t\t'Nimbus Mono L',\n\t\t'Nimbus Sans L',\n\t\t'Nimbus Roman No',\n\t\t'DejaVu Sans',\n\t\t'DejaVu Sans Mono',\n\t\t'DejaVu Serif',\n\t\t'DejaVu Sans Light',\n\t\t'Bitstream Charter',\n\t\t'DejaVu Sans Condensed',\n\t\t'DejaVu Serif Condensed',\n\t\t'Courier ',\n\t\t'Liberation Mono',\n\t\t'Liberation Serif',\n\t\t'FreeSerif',\n\t\t'Liberation Sans',\n\t\t'FreeMono',\n\t\t'FreeSans',\n\t\t'Arial',\n\t\t'Courier New',\n\t\t'Times New Roman',\n\t\t'Verdana',\n\t\t'Lohit Bengali',\n\t\t'Lohit Gujarati',\n\t\t'Lohit Punjabi',\n\t\t'Lohit Tamil',\n\t\t'UnDotum',\n\t\t'Georgia',\n\t\t'Trebuchet MS',\n\t\t'Arial Black',\n\t\t'Impact',\n\t\t'Andale Mono',\n\t\t'Bitstream Vera Sans Mono',\n\t\t'Comic Sans MS',\n\t\t'Bitstream Vera Sans',\n\t\t'Waree'].uniq().sort();\n}","funcProperties":{"__isSmartRef__":true,"id":140},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"139":{"this":{"__isSmartRef__":true,"id":0}},"140":{},"141":{"varMapping":{"__isSmartRef__":true,"id":142},"source":"function listAvailableFonts() {\n\tthis.reset();\n\tvar listMorph = this.get('fontList'),\n\t\tfonts = this.availableFonts(this. getKnownFonts()),\n\t\toffset = pt(0,0);\n\tfonts.forEach(function(font) {\n\t\tvar text = new lively.morphic.Text(offset.extent(pt(this.getExtent().x,20)), font);\n\t\ttext.applyStyle({fill: null, borderWidth:0, fontFamily: font, fixedHeight: false, fixedWidth: true, allowInput: false})\n\t\ttext.ignoreEvents();\n\t\tlistMorph.addMorph(text);\n\t\ttext.fit();\n\t\toffset = text.bounds().bottomLeft()\n\t}, this)\n}","funcProperties":{"__isSmartRef__":true,"id":143},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"142":{"this":{"__isSmartRef__":true,"id":0}},"143":{},"144":{"varMapping":{"__isSmartRef__":true,"id":145},"source":"function reset() {\n\tthis.get('fontList').removeAllMorphs();\n\tthis.selectedFont = null;\n\tdisconnectAll(this)\n}","funcProperties":{"__isSmartRef__":true,"id":146},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"145":{"this":{"__isSmartRef__":true,"id":0}},"146":{},"147":{"varMapping":{"__isSmartRef__":true,"id":148},"source":"function setupConnections() {\n\tconnect(this.get('listFontButton'), 'fire', this, 'listAvailableFonts');\n}","funcProperties":{"__isSmartRef__":true,"id":149},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"148":{"this":{"__isSmartRef__":true,"id":0}},"149":{},"150":{"varMapping":{"__isSmartRef__":true,"id":151},"source":"function selectFont(pos) {\n\tvar fontMorphs = this.get('fontList').submorphs, selected;\n\tfor (var i = 0; i < fontMorphs.length; i++) {\n\t\tif (fontMorphs[i].bounds().containsPoint(pos)) selected = fontMorphs[i];\n\t\tfontMorphs[i].setFill(null);\n\t}\n\tif (selected) {\n\t\tselected.setFill(Color.yellow);\n\t\tthis.selectedFont = selected.textString;\n\t} else {\n\t\tthis.selectedFont = null;\n\t}\n}","funcProperties":{"__isSmartRef__":true,"id":152},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global"},"151":{"this":{"__isSmartRef__":true,"id":0}},"152":{},"isSimplifiedRegistry":true}}