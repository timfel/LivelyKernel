{"id":0,"registry":{"0":{"scripts":[],"id":"50282041-47B9-4F5C-AE80-FFFB4454B3DA","shape":{"__isSmartRef__":true,"id":1},"droppingEnabled":true,"halosEnabled":true,"registeredForMouseEvents":true,"showsHalos":false,"name":"Toolbar","partsBinMetaInfo":{"__isSmartRef__":true,"id":8},"renderContextTable":{"__isSmartRef__":true,"id":33},"eventHandler":{"__isSmartRef__":true,"id":34},"attributeConnections":[{"__isSmartRef__":true,"id":35}],"doNotSerialize":["$$submorphs"],"doNotCopyProperties":["$$submorphs"],"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","7FCB0D38-3296-4FC6-BFD9-6A6419DEEB25","531FF0BC-107F-4E67-9126-D67998E49A4B","4F739027-B626-48D1-A77B-1B27B06E1257","A2C33181-0B33-4348-8510-2493462403FC","DC0401FC-E165-4709-8EE8-9FE751EC4610","343BE43A-25DF-4D79-A1F3-0E9B67482D9C","9D21F94C-95B0-4D40-BE66-CE772D3F88EA","53701D99-CFF3-4AF5-8299-1F3ABC99E264","5E2AD3FA-4D0F-4541-B7E2-22132C27E893","E1447A5F-E19A-49C5-BC01-444212E03D7F","477663EC-0DBE-4E3D-845D-3FF18E3C4EB7","F601D20C-4C01-479D-99A6-B50C39F0DC99"],"partTests":{"__isSmartRef__":true,"id":36},"moved":true,"isBeingDragged":false,"IconPrototype":{"__isSmartRef__":true,"id":41},"tmpSubmorphs":[],"_Position":{"__isSmartRef__":true,"id":79},"submorphs":[],"headRevision":147136,"layout":{"__isSmartRef__":true,"id":80},"_ClipMode":"visible","_Rotation":0,"_Scale":1,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":81},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core"},"1":{"position":{"__isSmartRef__":true,"id":2},"_Extent":{"__isSmartRef__":true,"id":3},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":4},"_Fill":{"__isSmartRef__":true,"id":5},"renderContextTable":{"__isSmartRef__":true,"id":6},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":7},"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes"},"2":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"3":{"x":50,"y":50,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"4":{"r":0,"g":0,"b":0,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"5":{"r":0.568,"g":0.568,"b":0.568,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"6":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","setAppearanceStylingMode":"setAppearanceStylingModeHTML","setBorderStylingMode":"setBorderStylingModeHTML","getComputedBorderWidth":"getComputedBorderWidthHTML","getComputedExtent":"getComputedExtentHTML"},"7":{"x":0,"y":0,"width":0,"height":0,"__LivelyClassName__":"Rectangle","__SourceModuleName__":"Global.lively.morphic.Graphics"},"8":{"partsSpaceName":"PartsBin/BP2012/","comment":"A container Morph where you can drop any morph, which adds it to the toolbar and can be brought back on the screen by clicking its icon in the bar. once placed on the world, it will keep this position and go back to it whenever it is opened from the toolbar.","migrationLevel":4,"partName":"Toolbar","changes":[{"__isSmartRef__":true,"id":9},{"__isSmartRef__":true,"id":11},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":17},{"__isSmartRef__":true,"id":19},{"__isSmartRef__":true,"id":21},{"__isSmartRef__":true,"id":23},{"__isSmartRef__":true,"id":25},{"__isSmartRef__":true,"id":27},{"__isSmartRef__":true,"id":29},{"__isSmartRef__":true,"id":31}],"revisionOnLoad":149242,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"9":{"date":{"__isSmartRef__":true,"id":10},"author":"undefined","message":"load module projects.BP2012.InteractionWithIPad.CSSTransitions on restore","id":"78BE0057-BF0A-448E-9476-50FC00A57A81"},"10":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:47:15 GMT+0100 (Mitteleuropäische Zeit)"},"11":{"date":{"__isSmartRef__":true,"id":12},"author":"undefined","message":"p was not defined","id":"F096EEEE-2678-43B8-B055-02C1CE897456"},"12":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:36:25 GMT+0100 (Mitteleuropäische Zeit)"},"13":{"date":{"__isSmartRef__":true,"id":14},"author":"undefined","message":"moded icon logic into toolbar logic to keep control","id":"38F2CCA6-5209-4BB2-9DEF-73C7D45C5626"},"14":{"isSerializedDate":true,"string":"Wed Mar 14 2012 15:53:38 GMT+0100 (Mitteleuropäische Zeit)"},"15":{"date":{"__isSmartRef__":true,"id":16},"author":"undefined","message":"refactor","id":"3AFEAE93-D0BD-468E-AE03-1BBCB4C46FE3"},"16":{"isSerializedDate":true,"string":"Wed Mar 14 2012 11:02:17 GMT+0100 (Mitteleuropäische Zeit)"},"17":{"date":{"__isSmartRef__":true,"id":18},"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2"},"18":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:53:45 GMT+0100 (Mitteleuropäische Zeit)"},"19":{"date":{"__isSmartRef__":true,"id":20},"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B"},"20":{"isSerializedDate":true,"string":"Sat Feb 25 2012 02:59:09 GMT+0100 (Mitteleuropäische Zeit)"},"21":{"date":{"__isSmartRef__":true,"id":22},"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7"},"22":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:42:26 GMT+0100 (Mitteleuropäische Zeit)"},"23":{"date":{"__isSmartRef__":true,"id":24},"author":"undefined","message":"srew","id":"D1B94181-A7FD-4182-962D-309976B0D2D0"},"24":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:54:54 GMT+0100 (Mitteleuropäische Zeit)"},"25":{"date":{"__isSmartRef__":true,"id":26},"author":"undefined","message":"reorder when removed","id":"C7877C9E-1E6F-431B-95E5-91BFBBE0C557"},"26":{"isSerializedDate":true,"string":"Wed Mar 14 2012 11:30:50 GMT+0100 (Mitteleuropäische Zeit)"},"27":{"date":{"__isSmartRef__":true,"id":28},"author":"undefined","message":"resizing and improved position handling","id":"F26D2565-9FDD-4F86-9290-1D5F11E342D7"},"28":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:03:31 GMT+0100 (Mitteleuropäische Zeit)"},"29":{"date":{"__isSmartRef__":true,"id":30},"author":"undefined","message":"remember the owner","id":"56285EFB-6A7E-468C-9D88-4328851AD112"},"30":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:06:44 GMT+0100 (Mitteleuropäische Zeit)"},"31":{"date":{"__isSmartRef__":true,"id":32},"author":"athomschke","message":"updated the description","id":"1BD384E6-8643-494F-999B-F1F8A30C4E9E"},"32":{"isSerializedDate":true,"string":"Thu Oct 11 2012 13:30:05 GMT+0200 (Mitteleuropäische Sommerzeit)"},"33":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","removeMorph":"removeMorphHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML","setStyleSheet":"setStyleSheetHTML","setStyleClassNames":"setStyleClassNamesHTML","setStyleId":"setStyleIdHTML"},"34":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"35":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"submorphs","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"updateIconList","__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"36":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":37}},"37":{"test01IsMorph":{"__isSmartRef__":true,"id":38}},"38":{"varMapping":{"__isSmartRef__":true,"id":39},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":40},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"39":{"this":{"__isSmartRef__":true,"id":36}},"40":{},"41":{"submorphs":[],"scripts":[],"id":"39C92B65-6FE6-4D83-9853-E86E1CA57B32","shape":{"__isSmartRef__":true,"id":42},"droppingEnabled":true,"halosEnabled":false,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":49},"showsHalos":false,"name":"Icon","partsBinMetaInfo":{"__isSmartRef__":true,"id":50},"renderContextTable":{"__isSmartRef__":true,"id":53},"eventHandler":{"__isSmartRef__":true,"id":54},"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","FB1A2C9B-DD96-489E-B0EA-CD805EEBB722","5C6A5C91-6B2D-4EBC-B2BE-E4D3EC51C9B1","3A9368A4-307B-4458-8C74-FC8E6C89D1D5","1179C686-9476-4E6E-9168-48A2E23A7C90","457A6F01-6F94-46B1-A992-96AEDA90C77E","B0EE1D0C-14C7-4DDD-9ABA-4C5475D41EA2","ACCA207F-C509-4931-9CFD-3C3C7F0C4687","D36A1DB7-9B3F-45A9-A5BE-8A912F043BC9","C39B3B29-EE44-44B8-94CD-B685500A8BF1","2FA121F6-C920-49B2-8E70-F050298268A1","21D64522-EA86-4CCC-A3D9-9F6B63841629","C0120DB8-803C-4485-89C7-2A7C14E56D39","2AFBD62C-F179-4D77-ACC2-30F76C234A62","DA44ED96-43A3-4E91-BB83-A41E058A3650","57087855-751A-4390-89A8-9746FFAF8932","4364CFBA-2494-4AA7-A398-7084C876F911","DC99E3EA-671F-4F66-A6D5-CBCE90B1F327","7EA570D8-DE6F-4637-8610-6DAE497C5389","E4FB94AB-6801-4330-9F6C-AA9AFF9394B8","08452BCD-8A7E-45A5-A98A-E1F31A5DEE56","9CDC0C44-6C13-4DCF-A6D5-0349C6E9490B","EA9AB941-D0C9-4813-829D-67BBC0DD3F20"],"partTests":{"__isSmartRef__":true,"id":55},"moved":true,"owner":null,"isBeingDragged":false,"tmpPosition":{"__isSmartRef__":true,"id":60},"_Rotation":0,"_Scale":1.008036120330794,"layout":{"__isSmartRef__":true,"id":61},"draggableWithoutHalo":true,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":62},"__LivelyClassName__":"lively.morphic.Box","__SourceModuleName__":"Global.lively.morphic.Core"},"42":{"position":{"__isSmartRef__":true,"id":43},"_Extent":{"__isSmartRef__":true,"id":44},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":45},"_Fill":{"__isSmartRef__":true,"id":46},"renderContextTable":{"__isSmartRef__":true,"id":47},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":48},"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes"},"43":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"44":{"x":44,"y":44,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"45":{"r":0,"g":0,"b":0,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"46":{"r":1,"g":1,"b":1,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"47":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","setClipMode":"setClipModeHTML"},"48":{"x":0,"y":0,"width":0,"height":0,"__LivelyClassName__":"Rectangle","__SourceModuleName__":"Global.lively.morphic.Graphics"},"49":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"50":{"partsSpaceName":"PartsBin/Basic/","comment":"A simple box morph. A really blue one. Its amazing what you can build out of simple boxes.... Who needs stars when you got blue rectangles!","migrationLevel":4,"partName":"Rectangle","changes":[{"__isSmartRef__":true,"id":51}],"revisionOnLoad":140998,"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"51":{"date":{"__isSmartRef__":true,"id":52},"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B"},"52":{"isSerializedDate":true,"string":"Sat Feb 25 2012 02:59:09 GMT+0100 (Mitteleuropäische Zeit)"},"53":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"54":{"morph":{"__isSmartRef__":true,"id":41},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"55":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":56}},"56":{"test01IsMorph":{"__isSmartRef__":true,"id":57}},"57":{"varMapping":{"__isSmartRef__":true,"id":58},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":59},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"58":{"this":{"__isSmartRef__":true,"id":55}},"59":{},"60":{"x":28.91169129467781,"y":207,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"61":{"resizeWidth":true,"resizeHeight":true},"62":{"onMouseUp":{"__isSmartRef__":true,"id":63},"onDrag":{"__isSmartRef__":true,"id":71}},"63":{"varMapping":{"__isSmartRef__":true,"id":64},"source":"function onMouseUp() {\n    var self = this;\n    this.owner.toggleTools(this)\n}","funcProperties":{"__isSmartRef__":true,"id":69},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"64":{"this":{"__isSmartRef__":true,"id":41},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":65}},"65":{"$super":{"__isSmartRef__":true,"id":66}},"66":{"varMapping":{"__isSmartRef__":true,"id":67},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":68},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"67":{"obj":{"__isSmartRef__":true,"id":41},"name":"onMouseUp"},"68":{},"69":{"timestamp":{"__isSmartRef__":true,"id":70},"user":"undefined","tags":[]},"70":{"isSerializedDate":true,"string":"Wed Mar 14 2012 15:48:45 GMT+0100 (Mitteleuropäische Zeit)"},"71":{"varMapping":{"__isSmartRef__":true,"id":72},"source":"function onDrag() {\n    $world.firstHand().addMorph(this.target);\n    this.target.setPosition(pt(0,0))\n    this.remove()\n}","funcProperties":{"__isSmartRef__":true,"id":77},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"72":{"this":{"__isSmartRef__":true,"id":41},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":73}},"73":{"$super":{"__isSmartRef__":true,"id":74}},"74":{"varMapping":{"__isSmartRef__":true,"id":75},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":76},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"75":{"obj":{"__isSmartRef__":true,"id":41},"name":"onDrag"},"76":{},"77":{"timestamp":{"__isSmartRef__":true,"id":78},"user":"undefined","tags":[]},"78":{"isSerializedDate":true,"string":"Tue Mar 13 2012 17:32:44 GMT+0100 (Mitteleuropäische Zeit)"},"79":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"80":{"adjustForNewBounds":true},"81":{"onrestore":{"__isSmartRef__":true,"id":82},"addMorph":{"__isSmartRef__":true,"id":90},"onMorphAdded":{"__isSmartRef__":true,"id":98},"setupConnections":{"__isSmartRef__":true,"id":102},"updateIconList":{"__isSmartRef__":true,"id":106},"onMorphRemoved":{"__isSmartRef__":true,"id":110},"toggleTools":{"__isSmartRef__":true,"id":114},"reset":{"__isSmartRef__":true,"id":118},"initializeIcon":{"__isSmartRef__":true,"id":122},"setIconStyle":{"__isSmartRef__":true,"id":126},"iconHolding":{"__isSmartRef__":true,"id":130}},"82":{"varMapping":{"__isSmartRef__":true,"id":83},"source":"function onrestore() {\n    module('projects.BP2012.InteractionWithIPad.CSSTransitions').load(true)\n}","funcProperties":{"__isSmartRef__":true,"id":88},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"83":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":84}},"84":{"$super":{"__isSmartRef__":true,"id":85}},"85":{"varMapping":{"__isSmartRef__":true,"id":86},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":87},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"86":{"obj":{"__isSmartRef__":true,"id":0},"name":"onrestore"},"87":{},"88":{"timestamp":{"__isSmartRef__":true,"id":89},"user":"undefined","tags":[]},"89":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:46:23 GMT+0100 (Mitteleuropäische Zeit)"},"90":{"varMapping":{"__isSmartRef__":true,"id":91},"source":"function addMorph(morph, optBool) {\n    $super(morph);\n    if (!optBool) this.onMorphAdded(morph)\n}","funcProperties":{"__isSmartRef__":true,"id":96},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"91":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":92}},"92":{"$super":{"__isSmartRef__":true,"id":93}},"93":{"varMapping":{"__isSmartRef__":true,"id":94},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":95},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"94":{"obj":{"__isSmartRef__":true,"id":0},"name":"addMorph"},"95":{},"96":{"timestamp":{"__isSmartRef__":true,"id":97},"user":"undefined","tags":[]},"97":{"isSerializedDate":true,"string":"Tue Mar 13 2012 17:03:08 GMT+0100 (Mitteleuropäische Zeit)"},"98":{"varMapping":{"__isSmartRef__":true,"id":99},"source":"function onMorphAdded(morph) {\n    var given = this.iconHolding(morph);\n    if (given) {\n        this.toggleTools(given)\n        given.tmpOwner = given.target.previousOwner;\n        given.tmpPosition = given.target.previousPosition\n    }\n    else {\n        var icon = this.initializeIcon(morph),\n            i = this.submorphs.length-1;\n    \n        this.setExtent(this.getExtent().addPt(pt(0,44)));\n        this.addMorph(icon, true);\n        this.setIconStyle(icon)\n        icon.setPosition(pt(0,icon.getExtent().y*i));\n        morph.remove();\n        \n    }\n}","funcProperties":{"__isSmartRef__":true,"id":100},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"99":{"this":{"__isSmartRef__":true,"id":0}},"100":{"timestamp":{"__isSmartRef__":true,"id":101},"user":"undefined","tags":[]},"101":{"isSerializedDate":true,"string":"Fri Mar 30 2012 17:18:06 GMT+0200 (Mitteleuropäische Sommerzeit)"},"102":{"varMapping":{"__isSmartRef__":true,"id":103},"source":"function setupConnections() {\n    connect(this, 'submorphs', this, 'updateIconList');\n}","funcProperties":{"__isSmartRef__":true,"id":104},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"103":{"this":{"__isSmartRef__":true,"id":0}},"104":{"timestamp":{"__isSmartRef__":true,"id":105},"user":"undefined","tags":[]},"105":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:57:48 GMT+0100 (Mitteleuropäische Zeit)"},"106":{"varMapping":{"__isSmartRef__":true,"id":107},"source":"function updateIconList(submorphs) {\n    // Todo: adding could be handled here, too\n    var morph = this.tmpSubmorphs.withoutAll(this.submorphs)[0]\n    morph && this.onMorphRemoved(morph)\n    var self = this\n    window.setTimeout(function () {\n        self.tmpSubmorphs = self.submorphs.clone();\n    }, 0);\n}","funcProperties":{"__isSmartRef__":true,"id":108},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"107":{"this":{"__isSmartRef__":true,"id":0}},"108":{"timestamp":{"__isSmartRef__":true,"id":109},"user":"undefined","tags":[]},"109":{"isSerializedDate":true,"string":"Wed Mar 14 2012 11:28:19 GMT+0100 (Mitteleuropäische Zeit)"},"110":{"varMapping":{"__isSmartRef__":true,"id":111},"source":"function onMorphRemoved(morph) {\n    if (morph.showsTarget) this.toggleTools(morph)\n    var i = 0;\n    this.submorphs.each(function (ea) {\n        ea.setPosition(pt(0,ea.getExtent().x*i))\n        i++;\n    })\n    this.setExtent(this.getExtent().subPt(pt(0,44)))\n}","funcProperties":{"__isSmartRef__":true,"id":112},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"111":{"this":{"__isSmartRef__":true,"id":0}},"112":{"timestamp":{"__isSmartRef__":true,"id":113},"user":"undefined","tags":[]},"113":{"isSerializedDate":true,"string":"Wed Mar 21 2012 16:02:16 GMT+0100 (Mitteleuropäische Zeit)"},"114":{"varMapping":{"__isSmartRef__":true,"id":115},"source":"function toggleTools(icon) {\n    if (icon.showsTarget) {\n        // collapse\n        icon.tmpPosition = icon.target.getPosition();\n        icon.tmpOwner = icon.target.owner\n        $world.addMorph(icon.target);\n        window.setTimeout(function () {\n            icon.target.setPositionAnimated(\n                icon.getPositionInWorld(),\n                300,\n                function () {\n                    icon.showsTarget = false;\n                    icon.target.remove();\n                }\n            )\n        }, 0)        \n    }\n    else {\n        // show\n        o = icon.tmpOwner || $world;\n        $world.addMorph(icon.target);\n        icon.target.setPosition(icon.getPositionInWorld());\n        o.addMorph(icon.target);\n        window.setTimeout(function () {\n            icon.target.setPositionAnimated(\n                icon.tmpPosition,\n                300,\n                function () {\n                    icon.showsTarget = true;\n                    o.addMorph(icon.target)\n                }\n            )\n        }, 0)\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":116},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"115":{"this":{"__isSmartRef__":true,"id":0}},"116":{"timestamp":{"__isSmartRef__":true,"id":117},"user":"undefined","tags":[]},"117":{"isSerializedDate":true,"string":"Fri Mar 30 2012 16:41:38 GMT+0200 (Mitteleuropäische Sommerzeit)"},"118":{"varMapping":{"__isSmartRef__":true,"id":119},"source":"function reset() {\n    this.submorphs.invoke(\"remove\")\n    this.setExtent(pt(44,44))\n}","funcProperties":{"__isSmartRef__":true,"id":120},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"119":{"this":{"__isSmartRef__":true,"id":0}},"120":{"timestamp":{"__isSmartRef__":true,"id":121},"user":"undefined","tags":[]},"121":{"isSerializedDate":true,"string":"Wed Mar 21 2012 14:57:38 GMT+0100 (Mitteleuropäische Zeit)"},"122":{"varMapping":{"__isSmartRef__":true,"id":123},"source":"function initializeIcon(morph) {\n    var icon = this.IconPrototype.copy()\n    icon.target = morph;\n    icon.tmpPosition = morph.previousOwner? morph.previousPosition: $world.visibleBounds().center();\n    icon.tmpOwner = morph.previousOwner || $world;\n    return icon;\n}","funcProperties":{"__isSmartRef__":true,"id":124},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"123":{"this":{"__isSmartRef__":true,"id":0}},"124":{"timestamp":{"__isSmartRef__":true,"id":125},"user":"undefined","tags":[]},"125":{"isSerializedDate":true,"string":"Fri Mar 30 2012 17:17:22 GMT+0200 (Mitteleuropäische Sommerzeit)"},"126":{"varMapping":{"__isSmartRef__":true,"id":127},"source":"function setIconStyle(icon) {\n    icon.setExtent(pt(this.getExtent().x,this.getExtent().x))\n    icon.setFill(Color.white);\n}","funcProperties":{"__isSmartRef__":true,"id":128},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"127":{"this":{"__isSmartRef__":true,"id":0}},"128":{"timestamp":{"__isSmartRef__":true,"id":129},"user":"undefined","tags":[]},"129":{"isSerializedDate":true,"string":"Fri Mar 30 2012 16:58:20 GMT+0200 (Mitteleuropäische Sommerzeit)"},"130":{"varMapping":{"__isSmartRef__":true,"id":131},"source":"function iconHolding(morph) {\n    return this.submorphs.find(function (ea) {\n        return ea.target === morph\n    })\n}","funcProperties":{"__isSmartRef__":true,"id":132},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"131":{"this":{"__isSmartRef__":true,"id":0}},"132":{"timestamp":{"__isSmartRef__":true,"id":133},"user":"undefined","tags":[]},"133":{"isSerializedDate":true,"string":"Fri Mar 30 2012 17:05:30 GMT+0200 (Mitteleuropäische Sommerzeit)"},"isSimplifiedRegistry":true}}