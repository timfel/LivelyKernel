{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1}],"scripts":[],"id":"F751C92F-6D0B-431E-A79A-71282052D4CE","shape":{"__isSmartRef__":true,"id":6},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"registeredForMouseEvents":true,"value":false,"toggle":false,"isActive":true,"normalFill":{"__isSmartRef__":true,"id":7},"lighterFill":{"__isSmartRef__":true,"id":12},"label":{"__isSmartRef__":true,"id":1},"name":"StartTradeButton","showsHalos":false,"partsBinMetaInfo":{"__isSmartRef__":true,"id":17},"eventHandler":{"__isSmartRef__":true,"id":75},"derivationIds":[2588,"22797D34-67DE-4A06-81F0-4DF0A87ADBBC","11C83D57-E873-4516-9585-B62D3DF729A3","12922257-F8E3-4E1B-8E2F-E66E4C44246A","DC1F3875-76F3-48FE-ADDF-50613E72E138","B3F005C5-387F-4512-99B6-BC0511EC471D","0D5970C8-D109-4A47-BAFB-E36BF8B90F95","AC686D14-CDB3-4175-B0D1-3D4FB32EE904","1EF854C0-6699-4717-BFCD-0E84271FDE3E","8E83CF60-A34E-47DA-91D5-5F9BA867D7A2","34702CFB-91F8-4035-917A-BFCE603C4704","47BE9D86-8F73-49CF-B906-4405C6D55889","77E897A7-288C-4BA5-A6F5-5457B502F17F","80FEF660-509B-45EB-9A28-1F45000C337C","B48BC423-3B86-4E70-84C6-5463C9549327","B6704332-4858-431E-8A98-F8D77DB32573","E235C50C-E410-44BE-87CE-BCB08CC82117","CE41EA48-AAA7-48C4-B444-8D50A917C482","0031416C-3F93-4DE2-AB1B-99DCABAC9E34","9E2321F4-F976-48F3-B5A7-61DDA77991E4","5AADDBA5-EBA6-4A02-8044-C3BC44288631","D832F141-35D7-464C-9FF0-AA5A8DBF6420","52956E1B-BA3D-493D-BBB1-8860E1A5653B","596FC96E-B899-4E2C-B716-CD541044D250","F6512C85-29DF-4352-AE54-CD47DE40426B","44EDE981-F1A3-49EE-B645-7F30B336BCD8","7D52049F-C9E4-496D-9837-975D12AD355E","FAB0242B-78A6-416F-964F-8794426E8C4A","461845C7-3EE8-448A-872D-D0EBC6BAFF92","911A73C5-C030-4ABB-84CF-5F9053EF68C7","D64B3954-7C55-49CF-BCCE-C017A68F5190","ED794982-6DF5-4B2A-A9B0-51FF73C76570","E75C5427-9D46-42F5-BBD5-483374DDD050","22DF2596-DED5-49E4-8734-48B9145AD910","5C5E3286-BC80-4FC2-B0BB-57E8A7F41374","C3F751F4-DCD0-4E04-BD68-2721E52D6254","5C85C39F-6CA2-4FA7-A69B-5ED61006922B","CA368D05-E524-4086-9AF7-4089AC3062E3","4698BC95-8872-4605-B209-2459352B7D61","A9B249D4-BE14-4755-ADAB-A4D7A5A2A445","58534487-F0CD-40B2-B870-79F1125BE7BD","8CBAC538-6A96-4C93-BEAA-66387DF3B76D","34304848-6C3F-49AC-BF08-F0170A683EC0","162440AA-03FD-4A33-B483-B6F6DA44A7C3"],"_ClipMode":"visible","isPressed":false,"moved":true,"attributeConnections":[{"__isSmartRef__":true,"id":76}],"doNotSerialize":["actorNameToCreate","$$fire"],"doNotCopyProperties":["$$fire"],"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":78},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(37.0,-7.0)"},"1":{"submorphs":[],"scripts":[],"id":"E164DA47-695B-431C-8804-1AE1A0A14ABA","shape":{"__isSmartRef__":true,"id":2},"grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WhiteSpaceHandling":"pre-wrap","fixedHeight":true,"allowInput":false,"_FontFamily":"Helvetica","registeredForMouseEvents":true,"_MaxTextWidth":97,"_MaxTextHeight":null,"textStyle":null,"owner":{"__isSmartRef__":true,"id":0},"isLabel":true,"eventsAreIgnored":true,"_ClipMode":"hidden","textChunks":[{"__isSmartRef__":true,"id":3}],"_Align":"center","eventHandler":{"__isSmartRef__":true,"id":5},"_HandStyle":"default","_PointerEvents":"none","derivationIds":[2589,"024C5ADE-C4CF-4E8E-BEC5-F93AD4839702","14B58111-F7FC-48C0-B90D-92C2C566AD98","794EC199-6298-4C93-975A-FAEB3025F9BB","46C8A56A-AB64-4731-AD57-0F6F74DC7EE8","B399E288-D84E-4D61-8FC7-D783AB06D8FD","2A39FD05-B77B-475A-9E3E-64DFC69560A4","9A7EF94D-7240-4274-B077-70AEF0D9F20F","4C9B22A5-33CB-407B-9846-D81701426AD4","885B699F-5970-4FEC-A7A5-5E2375CB2E73","A8CC51AF-B9BA-4C82-99A9-FFF6120AAF16","A0C11E8F-7998-432D-BCE7-286DE99C554F","A9272702-55AC-496C-84F0-24C7E3A169B0","BCE14248-C369-46BB-B770-2AC6E1C8D159","277188CF-CE70-4BDB-BCF7-846D19BF86B6","F51F52D5-E56D-4254-B612-74DC4F1D4A04","262BC9D3-A0AF-4984-9610-0FBDC909E2F1","29846EC5-5DEE-42DF-B44E-FD1873C12A17","F710259B-7511-49A0-A9DE-69A83EAB6143","EB0FF8AC-7761-4CB1-ACA3-7DC38582BA41","CAD09884-31FA-49A0-B88F-F4A2AEBB97F7","31651515-1F06-4AA2-9738-587E9D0F2915","6AD0C9E5-8194-49F4-A0EE-BF24F6B2C945","2BE882EE-2355-476B-8199-4C32504CBD96","37E1150B-ADD4-42C9-9F08-D5E92DCE4B06","61F20FC7-EB85-4774-9EBE-A4E995C90575","3DBF8F1C-5305-4706-8824-22BB91932296","B5EDC84E-79BD-4F30-A580-A15074535E84","ACF2ABE3-D81D-4952-9B6A-9456106FCFB4","9B7B7808-BF20-42B0-9BB7-53A6638C0A4B","0D7968DF-CFD3-48CF-B0E3-AEE14322FF3A","A7F30FCA-D3F1-41EA-98CE-D051562A9D42","13396578-5D0C-419C-9387-AA229E5B1426","39EF035B-A377-4189-911E-91399D0D36BD","300E9F64-E763-43BC-9310-B9FD3FBA62B5","ABC94E30-0EAC-4B63-8D01-4AE22039DBBC","98825BE7-D5FD-4DC5-8DF0-01F6EADEB6A8","CD1D06DD-83ED-42BD-9593-417E204B7B11","278A3DA9-23B9-4C61-843B-121BD8FB6053","B7164A24-B79D-474F-B7EE-0FC68C2FD712","A5F0E7AF-B5F1-46C5-ABB8-B9BEFE63E041","83E2F668-23EC-42D4-8DF7-F416D3DD2B2F","8735BD92-CC3E-4ACE-A1C3-F410CB7A5F9F","DF04F1EB-EE3C-4A73-AEE5-10D815DAF96A"],"_MinTextWidth":97,"_MinTextHeight":null,"_WordBreak":"break-all","_FontSize":10,"__serializedExpressions__":["_Position","padding","_Padding","_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_Position":"lively.pt(0.0,0.0)","padding":"lively.rect(5,5,0,0)","_Padding":"lively.rect(0,0,0,0)","_TextColor":"Color.rgb(0,0,0)"},"2":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(23.0,22.0)","_BorderColor":"Color.rgb(0,0,0)","_Padding":"lively.rect(0,3,0,0)"},"3":{"style":{"__isSmartRef__":true,"id":4},"chunkOwner":{"__isSmartRef__":true,"id":1},"_id":"_70148","storedString":"go","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"4":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"5":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"6":{"_BorderWidth":1.1840000000000002,"_Fill":{"__isSmartRef__":true,"id":7},"_BorderRadius":5.2,"__serializedExpressions__":["position","_Extent","_BorderColor","_Padding"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(23.0,22.0)","_BorderColor":"Color.rgb(214,214,214)","_Padding":"lively.rect(0,0,0,0)"},"7":{"stops":[{"__isSmartRef__":true,"id":8},{"__isSmartRef__":true,"id":9},{"__isSmartRef__":true,"id":10},{"__isSmartRef__":true,"id":11}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"8":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(245,245,245)"},"9":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"10":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(209,209,209)"},"11":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(240,240,240)"},"12":{"stops":[{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":14},{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":16}],"__serializedExpressions__":["vector"],"__LivelyClassName__":"lively.morphic.LinearGradient","__SourceModuleName__":"Global.lively.morphic.Shapes","vector":"lively.rect(0,0,0,1)"},"13":{"offset":0,"__serializedExpressions__":["color"],"color":"Color.rgb(250,250,250)"},"14":{"offset":0.4,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"15":{"offset":0.6,"__serializedExpressions__":["color"],"color":"Color.rgb(232,232,232)"},"16":{"offset":1,"__serializedExpressions__":["color"],"color":"Color.rgb(248,248,248)"},"17":{"partsSpaceName":"PartsBin/WebWorker","migrationLevel":4,"partName":"StartTradeButton","comment":"Starts a trade request.","changes":[{"__isSmartRef__":true,"id":18},{"__isSmartRef__":true,"id":20},{"__isSmartRef__":true,"id":22},{"__isSmartRef__":true,"id":24},{"__isSmartRef__":true,"id":26},{"__isSmartRef__":true,"id":28},{"__isSmartRef__":true,"id":30},{"__isSmartRef__":true,"id":32},{"__isSmartRef__":true,"id":34},{"__isSmartRef__":true,"id":36},{"__isSmartRef__":true,"id":38},{"__isSmartRef__":true,"id":40},{"__isSmartRef__":true,"id":42},{"__isSmartRef__":true,"id":44},{"__isSmartRef__":true,"id":46},{"__isSmartRef__":true,"id":48},{"__isSmartRef__":true,"id":50},{"__isSmartRef__":true,"id":52},{"__isSmartRef__":true,"id":54},{"__isSmartRef__":true,"id":56},{"__isSmartRef__":true,"id":58},{"__isSmartRef__":true,"id":60},{"__isSmartRef__":true,"id":62},{"__isSmartRef__":true,"id":64},{"__isSmartRef__":true,"id":66},{"__isSmartRef__":true,"id":68},{"__isSmartRef__":true,"id":70},{"__isSmartRef__":true,"id":72}],"lastModifiedDate":{"__isSmartRef__":true,"id":74},"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"18":{"date":{"__isSmartRef__":true,"id":19},"author":"tmetzke","message":"next try","id":"935326F9-C3C2-4F73-94D0-0F1837311D64"},"19":{"isSerializedDate":true,"string":"Fri Jan 25 2013 13:26:27 GMT+0100 (Mitteleuropäische Zeit)"},"20":{"date":{"__isSmartRef__":true,"id":21},"author":"tmetzke","message":"trying different connect method","id":"854B8C32-ADB3-4300-A1E7-2DF4651EC44A"},"21":{"isSerializedDate":true,"string":"Fri Jan 25 2013 13:22:27 GMT+0100 (Mitteleuropäische Zeit)"},"22":{"date":{"__isSmartRef__":true,"id":23},"author":"tmetzke","message":"somehow can't pass on parameter to \"connect\" function for target method","id":"165D973F-4FC9-4C4C-AE96-F9DA88B9E6CF"},"23":{"isSerializedDate":true,"string":"Fri Jan 25 2013 13:21:53 GMT+0100 (Mitteleuropäische Zeit)"},"24":{"date":{"__isSmartRef__":true,"id":25},"author":"tmetzke","message":"somehow troubled, some debug info","id":"C268305F-2BFA-4D2A-967F-CBF1A53B0E8B"},"25":{"isSerializedDate":true,"string":"Fri Jan 25 2013 13:03:19 GMT+0100 (Mitteleuropäische Zeit)"},"26":{"date":{"__isSmartRef__":true,"id":27},"author":"tmetzke","message":"missed a return in getActor","id":"EBE8F601-6357-4681-B719-6A377C432549"},"27":{"isSerializedDate":true,"string":"Fri Jan 25 2013 12:47:40 GMT+0100 (Mitteleuropäische Zeit)"},"28":{"date":{"__isSmartRef__":true,"id":29},"author":"tmetzke","message":"init and getActor","id":"12B17CE5-0FB1-495C-8F46-67ECD0E259C1"},"29":{"isSerializedDate":true,"string":"Fri Jan 25 2013 12:41:41 GMT+0100 (Mitteleuropäische Zeit)"},"30":{"date":{"__isSmartRef__":true,"id":31},"author":"tmetzke","message":"no comment","id":"7A8B1869-6BA9-46A1-A242-0033A96AE676"},"31":{"isSerializedDate":true,"string":"Fri Jan 25 2013 12:36:29 GMT+0100 (Mitteleuropäische Zeit)"},"32":{"date":{"__isSmartRef__":true,"id":33},"author":"huberthesse","message":"Restore scriptable button","id":"7DCED89C-C162-4A42-94E3-6B4D2CBA4932"},"33":{"isSerializedDate":true,"string":"Tue Jun 12 2012 11:12:07 GMT+0200 (Mitteleuropäische Sommerzeit)"},"34":{"date":{"__isSmartRef__":true,"id":35},"author":"robertkrahn","message":"no comment","id":"0366C0A2-0C8E-4AEB-AAC3-120434134545"},"35":{"isSerializedDate":true,"string":"Sat Apr 21 2012 14:10:10 GMT+0200 (Mitteleuropäische Sommerzeit)"},"36":{"date":{"__isSmartRef__":true,"id":37},"author":"tmetzke","message":"looks difficult now, but should work","id":"45DFD578-26B8-4F2F-805A-BE0F27CF7129"},"37":{"isSerializedDate":true,"string":"Fri Jan 25 2013 15:31:39 GMT+0100 (Mitteleuropäische Zeit)"},"38":{"date":{"__isSmartRef__":true,"id":39},"author":"tmetzke","message":"misssed to make a parameter a function call","id":"CE95F074-8921-4E9D-A38D-1432DCCA68FA"},"39":{"isSerializedDate":true,"string":"Fri Jan 25 2013 15:33:04 GMT+0100 (Mitteleuropäische Zeit)"},"40":{"date":{"__isSmartRef__":true,"id":41},"author":"tmetzke","message":"no comment","id":"DEA9722D-11CE-4309-AE26-19C79ADA4AA9"},"41":{"isSerializedDate":true,"string":"Fri Jan 25 2013 16:04:18 GMT+0100 (Mitteleuropäische Zeit)"},"42":{"date":{"__isSmartRef__":true,"id":43},"author":"tmetzke","message":"some fixes","id":"84B858DB-C658-4D05-B547-81A9413BCAE4"},"43":{"isSerializedDate":true,"string":"Fri Jan 25 2013 16:32:08 GMT+0100 (Mitteleuropäische Zeit)"},"44":{"date":{"__isSmartRef__":true,"id":45},"author":"tmetzke","message":"sends to all known actors","id":"2D2DF54A-E6DB-4D78-B5F2-0ED704CDE1E8"},"45":{"isSerializedDate":true,"string":"Sat Jan 26 2013 11:39:13 GMT+0100 (Mitteleuropäische Zeit)"},"46":{"date":{"__isSmartRef__":true,"id":47},"author":"tmetzke","message":"enevlope created for actor, not button","id":"3472A607-B9B6-42D6-813B-7456B7A7EEB2"},"47":{"isSerializedDate":true,"string":"Sat Jan 26 2013 14:02:20 GMT+0100 (Mitteleuropäische Zeit)"},"48":{"date":{"__isSmartRef__":true,"id":49},"author":"tmetzke","message":"no comment","id":"F058DAEF-0DFE-4B5D-A71B-7DD75235A506"},"49":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:02:34 GMT+0100 (Mitteleuropäische Zeit)"},"50":{"date":{"__isSmartRef__":true,"id":51},"author":"tmetzke","message":"sends trade requests","id":"47C5B6C9-2BD7-4BCA-B7C0-06305441076A"},"51":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:35:44 GMT+0100 (Mitteleuropäische Zeit)"},"52":{"date":{"__isSmartRef__":true,"id":53},"author":"tmetzke","message":"sends request on click","id":"0712A10A-D94B-4F90-AE2B-D61F7B5D3EFC"},"53":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:43:38 GMT+0100 (Mitteleuropäische Zeit)"},"54":{"date":{"__isSmartRef__":true,"id":55},"author":"tmetzke","message":"some debug stuff","id":"3AD0CACF-0AD7-46E9-A294-26A3A2F1959E"},"55":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:51:44 GMT+0100 (Mitteleuropäische Zeit)"},"56":{"date":{"__isSmartRef__":true,"id":57},"author":"tmetzke","message":"debug stuff erased","id":"3033CB8E-2660-460D-8A65-F06DA9810AF5"},"57":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:56:27 GMT+0100 (Mitteleuropäische Zeit)"},"58":{"date":{"__isSmartRef__":true,"id":59},"author":"tmetzke","message":"restructured listening to worker","id":"8FAEF7E0-17EF-418E-A87B-7403D0658C51"},"59":{"isSerializedDate":true,"string":"Mon Jan 28 2013 15:58:06 GMT+0100 (Mitteleuropäische Zeit)"},"60":{"date":{"__isSmartRef__":true,"id":61},"author":"tmetzke","message":"init to register on worker","id":"267AB49B-C4F5-4DDB-8344-402C75394369"},"61":{"isSerializedDate":true,"string":"Mon Jan 28 2013 16:07:10 GMT+0100 (Mitteleuropäische Zeit)"},"62":{"date":{"__isSmartRef__":true,"id":63},"author":"tmetzke","message":"JSON object as strings in messages","id":"6580DA4D-53E6-496F-93E6-4EA2F8EC7562"},"63":{"isSerializedDate":true,"string":"Mon Jan 28 2013 16:23:58 GMT+0100 (Mitteleuropäische Zeit)"},"64":{"date":{"__isSmartRef__":true,"id":65},"author":"tmetzke","message":"removed stringify","id":"B773674E-9BDC-4520-B9AB-CD935136A347"},"65":{"isSerializedDate":true,"string":"Mon Jan 28 2013 16:28:16 GMT+0100 (Mitteleuropäische Zeit)"},"66":{"date":{"__isSmartRef__":true,"id":67},"author":"tmetzke","message":"sends random bean requests on click","id":"BFCE718B-7635-442C-A6D9-EEF393AB15A0"},"67":{"isSerializedDate":true,"string":"Mon Jan 28 2013 17:08:20 GMT+0100 (Mitteleuropäische Zeit)"},"68":{"date":{"__isSmartRef__":true,"id":69},"author":"tmetzke","message":"ask for at least 1 bean","id":"423FFB02-06ED-4DDA-B84C-F810782A2AE8"},"69":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:40:35 GMT+0100 (Mitteleuropäische Zeit)"},"70":{"date":{"__isSmartRef__":true,"id":71},"author":"tmetzke","message":"show logs for everything but update news","id":"E5129291-ECDE-4026-8F7E-F6362F6E32C6"},"71":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:46:23 GMT+0100 (Mitteleuropäische Zeit)"},"72":{"date":{"__isSmartRef__":true,"id":73},"author":"tmetzke","message":"log the give requests","id":"8652CA46-E70F-42E9-A614-4CD34BEFD276"},"73":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:53:17 GMT+0100 (Mitteleuropäische Zeit)"},"74":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:46:06 GMT+0100 (Mitteleuropäische Zeit)"},"75":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"76":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"startWork","varMapping":{"__isSmartRef__":true,"id":77},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"77":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":0}},"78":{"startWork":{"__isSmartRef__":true,"id":79},"getAssociatedActor":{"__isSmartRef__":true,"id":83},"getWorker":{"__isSmartRef__":true,"id":87},"getTraders":{"__isSmartRef__":true,"id":91},"sendTradeRequestFor":{"__isSmartRef__":true,"id":95},"partsBinLoader":{"__isSmartRef__":true,"id":99},"init":{"__isSmartRef__":true,"id":103}},"79":{"varMapping":{"__isSmartRef__":true,"id":80},"source":"function startWork() {\n    this.sendTradeRequestFor(Math.floor(Math.random()*20) + 1);\n}","funcProperties":{"__isSmartRef__":true,"id":81},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"80":{"this":{"__isSmartRef__":true,"id":0}},"81":{"timestamp":{"__isSmartRef__":true,"id":82},"tags":[]},"82":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:40:09 GMT+0100 (Mitteleuropäische Zeit)"},"83":{"varMapping":{"__isSmartRef__":true,"id":84},"source":"function getAssociatedActor() {\n    return this.owner;\n}","funcProperties":{"__isSmartRef__":true,"id":85},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"84":{"this":{"__isSmartRef__":true,"id":0}},"85":{"timestamp":{"__isSmartRef__":true,"id":86},"tags":[]},"86":{"isSerializedDate":true,"string":"Sat Jan 26 2013 14:00:00 GMT+0100 (Mitteleuropäische Zeit)"},"87":{"varMapping":{"__isSmartRef__":true,"id":88},"source":"function getWorker() {\n    return this.getAssociatedActor().worker\n}","funcProperties":{"__isSmartRef__":true,"id":89},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"88":{"this":{"__isSmartRef__":true,"id":0}},"89":{"timestamp":{"__isSmartRef__":true,"id":90},"user":"tmetzke","tags":[]},"90":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:19:23 GMT+0100 (Mitteleuropäische Zeit)"},"91":{"varMapping":{"__isSmartRef__":true,"id":92},"source":"function getTraders() {\n    return this.getAssociatedActor().actors;\n}","funcProperties":{"__isSmartRef__":true,"id":93},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"92":{"this":{"__isSmartRef__":true,"id":0}},"93":{"timestamp":{"__isSmartRef__":true,"id":94},"user":"tmetzke","tags":[]},"94":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:23:36 GMT+0100 (Mitteleuropäische Zeit)"},"95":{"varMapping":{"__isSmartRef__":true,"id":96},"source":"function sendTradeRequestFor(beans) {\n    var traders = this.getTraders();\n    var traderIndex = Math.floor(Math.random() * traders.length);\n    var traderToRequest = traders[traderIndex ];\n    var requestMessage = {type: \"give\", data: beans};\n    alert(\"give: \" + beans);\n    var envelop = this.partsBinLoader().createEnvelopFor(this.getAssociatedActor());\n    envelop.init({target: traderToRequest, content: requestMessage, from: this.getAssociatedActor()});\n}","funcProperties":{"__isSmartRef__":true,"id":97},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"96":{"this":{"__isSmartRef__":true,"id":0}},"97":{"timestamp":{"__isSmartRef__":true,"id":98},"user":"tmetzke","tags":[]},"98":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:52:58 GMT+0100 (Mitteleuropäische Zeit)"},"99":{"varMapping":{"__isSmartRef__":true,"id":100},"source":"function partsBinLoader() {\n    var loader = this.get(\"PartsBinLoader\");\n    if (loader === null)\n        loader = $world.loadPartItem(\"PartsBinLoader\", \"PartsBin/WebWorker\");\n        loader.setPosition(pt(20,20));\n        $world.addMorph(loader)\n    return loader;\n}","funcProperties":{"__isSmartRef__":true,"id":101},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"100":{"this":{"__isSmartRef__":true,"id":0}},"101":{"timestamp":{"__isSmartRef__":true,"id":102},"user":"tmetzke","tags":[]},"102":{"isSerializedDate":true,"string":"Mon Jan 28 2013 14:38:31 GMT+0100 (Mitteleuropäische Zeit)"},"103":{"varMapping":{"__isSmartRef__":true,"id":104},"source":"function init() {\n    var worker = this.getWorker();\n    var _this = this;\n    worker.addEventListener(\n        \"message\",\n        function(event){\n            if (event.data.content.type != \"update\")\n                alert(event.data.content.type + \": \" + event.data.content.data);\n            if (event.data.content.type === \"give\"){\n                var beansNeeded = event.data.content.data;\n                _this.sendTradeRequestFor(beansNeeded);\n            }\n        },\n        false\n    );\n}","funcProperties":{"__isSmartRef__":true,"id":105},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"104":{"this":{"__isSmartRef__":true,"id":0}},"105":{"timestamp":{"__isSmartRef__":true,"id":106},"user":"tmetzke","tags":[]},"106":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:46:02 GMT+0100 (Mitteleuropäische Zeit)"},"isSimplifiedRegistry":true}}