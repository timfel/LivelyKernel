{"id":0,"registry":{"0":{"submorphs":[{"__isSmartRef__":true,"id":1}],"scripts":[],"shape":{"__isSmartRef__":true,"id":6},"eventHandler":{"__isSmartRef__":true,"id":7},"_ClipMode":"visible","derivationIds":["EC7EBB28-54AE-4244-80ED-3E13650F82B7"],"id":"D7F94D25-2D2A-4FB2-B269-CA8B49D5368D","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"value":false,"toggle":false,"isActive":true,"label":{"__isSmartRef__":true,"id":1},"_PreviousBorderWidth":1,"isPressed":false,"showsHalos":false,"attributeConnections":[{"__isSmartRef__":true,"id":8}],"doNotSerialize":["$$fire"],"doNotCopyProperties":["$$fire"],"name":"TraderInitializer","partsBinMetaInfo":{"__isSmartRef__":true,"id":10},"_Rotation":0,"_Scale":1,"__serializedExpressions__":["_Position","distanceToDragEvent"],"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":18},"__LivelyClassName__":"lively.morphic.Button","__SourceModuleName__":"Global.lively.morphic.Widgets","_Position":"lively.pt(0.0,0.0)","distanceToDragEvent":"lively.pt(74.0,7.0)"},"1":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":2},"_WhiteSpaceHandling":"pre-wrap","textChunks":[{"__isSmartRef__":true,"id":3}],"eventHandler":{"__isSmartRef__":true,"id":5},"_ClipMode":"hidden","derivationIds":["7884E73F-0D17-44B3-907F-44A5223F1F3D"],"id":"2B099D07-846E-42DB-B607-66472494557E","grabbingEnabled":false,"droppingEnabled":false,"halosEnabled":true,"fixedWidth":true,"_WordBreak":"break-all","fixedHeight":true,"_InputAllowed":false,"_HandStyle":"default","allowInput":false,"_FontFamily":"Helvetica","_FontSize":10,"evalEnabled":false,"owner":{"__isSmartRef__":true,"id":0},"isLabel":true,"_Align":"center","eventsAreIgnored":true,"_TextStylingMode":true,"showsHalos":false,"eventsAreDisabled":true,"_PointerEvents":"none","__serializedExpressions__":["_TextColor"],"__LivelyClassName__":"lively.morphic.Text","__SourceModuleName__":"Global.lively.morphic.TextCore","_TextColor":"Color.rgb(0,0,0)"},"2":{"_BorderWidth":0,"_Fill":null,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(111.0,21.0)","_Padding":"lively.rect(0,3,0,0)","_BorderColor":"Color.rgb(0,0,0)"},"3":{"style":{"__isSmartRef__":true,"id":4},"chunkOwner":{"__isSmartRef__":true,"id":1},"_id":"_4532","storedString":"Initialize Scenario","__LivelyClassName__":"lively.morphic.TextChunk","__SourceModuleName__":"Global.lively.morphic.TextCore"},"4":{"textShadow":"0px 1px 0 rgba(255,255,255,1)","__LivelyClassName__":"lively.morphic.TextEmphasis","__SourceModuleName__":"Global.lively.morphic.TextCore"},"5":{"morph":{"__isSmartRef__":true,"id":1},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"6":{"_BorderWidth":1,"_BorderRadius":5,"_AppearanceStylingMode":true,"_BorderStylingMode":true,"__serializedExpressions__":["_Position","_Extent","_Padding","_BorderColor"],"__LivelyClassName__":"lively.morphic.Shapes.Rectangle","__SourceModuleName__":"Global.lively.morphic.Shapes","_Position":"lively.pt(0.0,0.0)","_Extent":"lively.pt(111.0,21.0)","_Padding":"lively.rect(0,0,0,0)","_BorderColor":"Color.rgb(189,190,192)"},"7":{"morph":{"__isSmartRef__":true,"id":0},"__LivelyClassName__":"lively.morphic.EventHandler","__SourceModuleName__":"Global.lively.morphic.Events"},"8":{"sourceObj":{"__isSmartRef__":true,"id":0},"sourceAttrName":"fire","targetObj":{"__isSmartRef__":true,"id":0},"targetMethodName":"initScenario","varMapping":{"__isSmartRef__":true,"id":9},"__LivelyClassName__":"AttributeConnection","__SourceModuleName__":"Global.lively.bindings.Core"},"9":{"source":{"__isSmartRef__":true,"id":0},"target":{"__isSmartRef__":true,"id":0}},"10":{"partName":"TraderInitializer","requiredModules":[],"partsSpaceName":"PartsBin/WebWorker","comment":"A simple button that calls a method #doAction when pressed.","changes":[{"__isSmartRef__":true,"id":11},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":15}],"migrationLevel":4,"lastModifiedDate":{"__isSmartRef__":true,"id":17},"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo","__SourceModuleName__":"Global.lively.PartsBin"},"11":{"date":{"__isSmartRef__":true,"id":12},"author":null,"message":"no comment","id":"F8B70225-5143-4A51-ABB4-344B488B3811"},"12":{"isSerializedDate":true,"string":"Tue Dec 11 2012 22:15:42 GMT+0100 (Mitteleuropäische Zeit)"},"13":{"date":{"__isSmartRef__":true,"id":14},"author":"robertkrahn","message":"no comment","id":"9B8B6BE4-4519-4A6C-8F47-70DE61BBB0FB"},"14":{"isSerializedDate":true,"string":"Tue Dec 11 2012 22:53:16 GMT+0100 (Mitteleuropäische Zeit)"},"15":{"date":{"__isSmartRef__":true,"id":16},"author":"tmetzke","message":"no comment","id":"422F799E-F9FA-4DD5-862B-0F70758E42B4"},"16":{"isSerializedDate":true,"string":"Mon Jan 28 2013 20:05:56 GMT+0100 (Mitteleuropäische Zeit)"},"17":{"isSerializedDate":true,"string":"Tue Dec 11 2012 22:53:24 GMT+0100 (Mitteleuropäische Zeit)"},"18":{"partsBinLoader":{"__isSmartRef__":true,"id":19},"initScenario":{"__isSmartRef__":true,"id":23}},"19":{"varMapping":{"__isSmartRef__":true,"id":20},"source":"function partsBinLoader() {\n    var loader = this.get(\"PartsBinLoader\");\n    if (loader === null)\n        loader = $world.loadPartItem(\"PartsBinLoader\", \"PartsBin/WebWorker\");\n        loader.setPosition(pt(20,20));\n        $world.addMorph(loader)\n    return loader;\n}","funcProperties":{"__isSmartRef__":true,"id":21},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"20":{"this":{"__isSmartRef__":true,"id":0}},"21":{"timestamp":{"__isSmartRef__":true,"id":22},"user":"tmetzke","tags":[]},"22":{"isSerializedDate":true,"string":"Fri Jan 25 2013 15:43:48 GMT+0100 (Mitteleuropäische Zeit)"},"23":{"varMapping":{"__isSmartRef__":true,"id":24},"source":"function initScenario() {\n    var traders = [];\n    // created the traders\n    for(var i=0; i < 7; i++){\n        traders.push(this.partsBinLoader().createActor(\"JellyTrader\"))\n    }\n    traders[0].setPosition(pt(200,200)); // oben links\n    traders[1].setPosition(pt(600,200)); // oben rechts\n    traders[2].setPosition(pt(200,600)); // unten links\n    traders[3].setPosition(pt(600,600)); // unten rechts\n    traders[4].setPosition(pt(400,400)); // mitte\n    traders[5].setPosition(pt(600,400)); // mitte rechts\n    traders[6].setPosition(pt(400,800)); // unten drunter mitte\n    traders.forEach(function(trader){\n        $world.addMorph(trader);\n    });\n    // make them get to know each other\n    traders[0].registerActor(traders[1]);\n    traders[0].registerActor(traders[4]);\n    \n    traders[1].registerActor(traders[0]);\n    traders[1].registerActor(traders[4]);\n    traders[1].registerActor(traders[5]);\n    \n    traders[2].registerActor(traders[3]);\n    traders[2].registerActor(traders[4]);\n    traders[2].registerActor(traders[6]);\n    \n    traders[3].registerActor(traders[2]);\n    traders[3].registerActor(traders[4]);\n    traders[3].registerActor(traders[5]);\n    traders[3].registerActor(traders[6]);\n    \n    traders[4].registerActor(traders[0]);\n    traders[4].registerActor(traders[1]);\n    traders[4].registerActor(traders[2]);\n    traders[4].registerActor(traders[3]);    \n    traders[4].registerActor(traders[5]);\n    \n    traders[5].registerActor(traders[1]);\n    traders[5].registerActor(traders[3]);    \n    traders[5].registerActor(traders[4]);\n    \n    traders[6].registerActor(traders[3]);\n    traders[6].registerActor(traders[2]);\n    // connect them visually\n    var _this = this;\n    traders.forEach(function(trader){\n       // initialize display\n       trader.worker.postMessage(\"\");\n       trader.actors.forEach(function(actor){\n            _this.partsBinLoader().createConnectorFor(trader, actor);\n       });\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":25},"__LivelyClassName__":"lively.Closure","__SourceModuleName__":"Global.lively.lang.Closure"},"24":{"this":{"__isSmartRef__":true,"id":0}},"25":{"timestamp":{"__isSmartRef__":true,"id":26},"user":"tmetzke","tags":[]},"26":{"isSerializedDate":true,"string":"Mon Jan 28 2013 18:51:12 GMT+0100 (Mitteleuropäische Zeit)"},"isSimplifiedRegistry":true}}