{"id":0,"registry":{"isSimplifiedRegistry":true,"0":{"submorphs":[{"__isSmartRef__":true,"id":1}],"scripts":[],"id":"DBF8E45D-4059-4A86-BFEC-4D83384C7E54","shape":{"__isSmartRef__":true,"id":84},"droppingEnabled":false,"halosEnabled":true,"registeredForMouseEvents":true,"_Position":{"__isSmartRef__":true,"id":90},"showsHalos":false,"name":"BasicGem","partsBinMetaInfo":{"__isSmartRef__":true,"id":91},"__SourceModuleName__":"Global.lively.morphic.Core","renderContextTable":{"__isSmartRef__":true,"id":134},"eventHandler":{"__isSmartRef__":true,"id":135},"attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"derivationIds":[127,"F0291F62-F100-480C-AEBF-0230398F7983","AE8B5ED7-E305-45BC-BE4A-1C28A49EE12B","39BA345C-17FA-45A0-BAC2-F0CF5654ACF8","AF79EBFF-EF50-4426-AAE4-ED153D00A7E8","231CE1FA-9ED5-498D-A2DF-89DCD8144910","353F1852-04EC-4BCE-B2D6-4B5BF1753990","DDBE40C6-C133-41C6-B7AB-CA63C08F24F5","D1192A47-67F3-449E-9223-70A2A4F36856","75566D59-70F6-4AC8-8499-D875B662ECE5","E84F6B69-CB86-4B23-A179-E1901C44E7CA","F734BDBC-D3D8-42FB-9D16-548E840AB400","C174E41E-99FE-4D88-8A99-9BF241D0E165","B798353D-D92A-4D24-9726-BDB0AFAE5660","4E12B7B9-9BA2-467C-ACCD-FDFDE3C0DC33","5E04972C-44C7-415F-B605-60EA8C9BCD29","374843A8-AD07-4F8D-88B2-0634A578EB14","07809FA0-A598-444A-B93D-42AB64283836","E878F9DF-A780-4AAB-956C-259018E74EB1","5FDA9CAD-1AB7-41B0-AB29-7AED81CE9321","2726CC2B-6ECF-4368-9B68-F7C9DF9EFCEC","6327F5FC-33CF-4DD8-B5A3-C22EAEA3128F","74A3F065-BA26-4115-8BEA-1A792FB89BB8","EDE35919-4CF0-4C71-A0E0-0CE22C0667B8","D7035A71-41B4-4732-B905-50C7606B41ED","46388232-02EC-4B63-B17C-144511B8833E","F422CEDD-E5FB-460F-B7F6-51C8D23E532E","20659DFA-EB76-4512-BD73-5E1A131B7876","DC654FC2-2207-4E58-9112-F036389CE174","8972791B-72BF-49D9-9019-EBF824E16F1D","3EE080D6-CBA4-4469-98B6-5C762F93980C","661A3584-063D-4AAF-9325-E1A48622B6A5","4A0FD29D-561B-4555-B5F5-14561410B2CF","4D1288BF-494E-45A5-B222-724FE93D7EFE"],"partTests":{"__isSmartRef__":true,"id":136},"_ClipMode":"visible","priorExtent":{"__isSmartRef__":true,"id":141},"isBeingDragged":false,"grabbingEnabled":false,"draggingEnabled":false,"moved":true,"directions":{"__isSmartRef__":true,"id":142},"neighbours":[null,null,null,null],"#startLetters":"","isGem":true,"isDirty":false,"gem":"zircon","shouldBeDeleted":false,"prevScroll":[0,0],"_Rotation":0,"_Scale":1.0060210561262537,"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":143},"__LivelyClassName__":"lively.morphic.Box"},"1":{"submorphs":[{"__isSmartRef__":true,"id":2},{"__isSmartRef__":true,"id":13},{"__isSmartRef__":true,"id":23},{"__isSmartRef__":true,"id":33},{"__isSmartRef__":true,"id":43},{"__isSmartRef__":true,"id":53}],"scripts":[],"shape":{"__isSmartRef__":true,"id":63},"derivationIds":[null,"C64FDDC5-1749-430D-AF64-79433C06B55E"],"id":"471D7A6F-0E3E-46A5-B7CC-0DF686294025","renderContextTable":{"__isSmartRef__":true,"id":75},"eventHandler":{"__isSmartRef__":true,"id":76},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":0},"_Position":{"__isSmartRef__":true,"id":77},"grabbingEnabled":false,"showsHalos":false,"controlPoints":[{"__isSmartRef__":true,"id":78},{"__isSmartRef__":true,"id":79},{"__isSmartRef__":true,"id":80},{"__isSmartRef__":true,"id":81},{"__isSmartRef__":true,"id":82},{"__isSmartRef__":true,"id":83}],"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"2":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":3},"derivationIds":[null,"6FA25C59-604B-40DF-A2A1-A61C772CE743"],"id":"1195801A-DF5A-40B8-82FC-83BBB1422932","renderContextTable":{"__isSmartRef__":true,"id":11},"eventHandler":{"__isSmartRef__":true,"id":12},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"3":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":4},{"__isSmartRef__":true,"id":5}],"renderContextTable":{"__isSmartRef__":true,"id":6},"_Position":{"__isSmartRef__":true,"id":7},"_Extent":{"__isSmartRef__":true,"id":8},"_Padding":{"__isSmartRef__":true,"id":9},"_BorderWidth":2,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"4":{"isAbsolute":true,"x":25,"y":10,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"5":{"isAbsolute":true,"x":25,"y":27,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"6":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"7":{"x":23,"y":8,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"8":{"x":3,"y":20,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"9":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"10":{"r":1,"g":1,"b":1,"a":1,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Color"},"11":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"12":{"morph":{"__isSmartRef__":true,"id":2},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"13":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":14},"derivationIds":[null,"5568B47D-6391-4CEA-BA54-CD5CCA8CC2BF"],"id":"F594CE43-1A28-47F1-9654-EE3C7272415E","renderContextTable":{"__isSmartRef__":true,"id":21},"eventHandler":{"__isSmartRef__":true,"id":22},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"14":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":15},{"__isSmartRef__":true,"id":16}],"renderContextTable":{"__isSmartRef__":true,"id":17},"_Position":{"__isSmartRef__":true,"id":18},"_Extent":{"__isSmartRef__":true,"id":19},"_Padding":{"__isSmartRef__":true,"id":20},"_BorderWidth":2,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"15":{"isAbsolute":true,"x":9,"y":32,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"16":{"isAbsolute":true,"x":25,"y":25,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"17":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"18":{"x":7,"y":23,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"19":{"x":19,"y":10,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"20":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"21":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"22":{"morph":{"__isSmartRef__":true,"id":13},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"23":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":24},"derivationIds":[null,"D3763231-B277-48BB-BDC7-BB63852838AA"],"id":"077D90C1-38A3-473E-AC5F-7F2F54A0CF65","renderContextTable":{"__isSmartRef__":true,"id":31},"eventHandler":{"__isSmartRef__":true,"id":32},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"24":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":25},{"__isSmartRef__":true,"id":26}],"renderContextTable":{"__isSmartRef__":true,"id":27},"_Position":{"__isSmartRef__":true,"id":28},"_Extent":{"__isSmartRef__":true,"id":29},"_Padding":{"__isSmartRef__":true,"id":30},"_BorderWidth":2,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"25":{"isAbsolute":true,"x":41,"y":32,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"26":{"isAbsolute":true,"x":24,"y":25,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"27":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"28":{"x":22,"y":23,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"29":{"x":20,"y":10,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"30":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"31":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"32":{"morph":{"__isSmartRef__":true,"id":23},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"33":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":34},"derivationIds":[null,"39CC7BC3-9BDF-4A20-987F-9DC3057CFEE2"],"id":"3EBC8DF3-2B06-409C-978C-CEA9175A3D2F","renderContextTable":{"__isSmartRef__":true,"id":41},"eventHandler":{"__isSmartRef__":true,"id":42},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"34":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":35},{"__isSmartRef__":true,"id":36}],"renderContextTable":{"__isSmartRef__":true,"id":37},"_Position":{"__isSmartRef__":true,"id":38},"_Extent":{"__isSmartRef__":true,"id":39},"_Padding":{"__isSmartRef__":true,"id":40},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"35":{"isAbsolute":true,"x":41,"y":18,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"36":{"isAbsolute":true,"x":24,"y":25,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"37":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"38":{"x":23,"y":17,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"39":{"x":18,"y":8,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"40":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"41":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"42":{"morph":{"__isSmartRef__":true,"id":33},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"43":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":44},"derivationIds":[null,"5DE3977A-09E4-4606-BFC8-9FC61B93C4BE"],"id":"2A35997D-E75F-4F26-8618-EECCF77617B3","renderContextTable":{"__isSmartRef__":true,"id":51},"eventHandler":{"__isSmartRef__":true,"id":52},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"44":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":45},{"__isSmartRef__":true,"id":46}],"renderContextTable":{"__isSmartRef__":true,"id":47},"_Position":{"__isSmartRef__":true,"id":48},"_Extent":{"__isSmartRef__":true,"id":49},"_Padding":{"__isSmartRef__":true,"id":50},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"45":{"isAbsolute":true,"x":9,"y":18,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"46":{"isAbsolute":true,"x":24,"y":25,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"47":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"48":{"x":8,"y":17,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"49":{"x":16,"y":8,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"50":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"51":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"52":{"morph":{"__isSmartRef__":true,"id":43},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"53":{"submorphs":[],"scripts":[],"shape":{"__isSmartRef__":true,"id":54},"derivationIds":[null,"B4A2EBA8-6D5F-4E29-8160-56488C3E5A5D"],"id":"980AFB68-2BDD-4A57-9725-365DEAEEEA5F","renderContextTable":{"__isSmartRef__":true,"id":61},"eventHandler":{"__isSmartRef__":true,"id":62},"_ClipMode":"visible","droppingEnabled":false,"halosEnabled":true,"owner":{"__isSmartRef__":true,"id":1},"grabbingEnabled":false,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","attributeConnections":[],"doNotSerialize":[],"doNotCopyProperties":[],"__LivelyClassName__":"lively.morphic.Path"},"54":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":55},{"__isSmartRef__":true,"id":56}],"renderContextTable":{"__isSmartRef__":true,"id":57},"_Position":{"__isSmartRef__":true,"id":58},"_Extent":{"__isSmartRef__":true,"id":59},"_Padding":{"__isSmartRef__":true,"id":60},"_BorderWidth":2,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"55":{"isAbsolute":true,"x":25,"y":41,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"56":{"isAbsolute":true,"x":25,"y":24,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"57":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"58":{"x":23,"y":22,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"59":{"x":3,"y":20,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"60":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"61":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"62":{"morph":{"__isSmartRef__":true,"id":53},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"63":{"dontChangeShape":false,"cachedVertices":null,"_PathElements":[{"__isSmartRef__":true,"id":64},{"__isSmartRef__":true,"id":65},{"__isSmartRef__":true,"id":66},{"__isSmartRef__":true,"id":67},{"__isSmartRef__":true,"id":68},{"__isSmartRef__":true,"id":69}],"renderContextTable":{"__isSmartRef__":true,"id":70},"_Position":{"__isSmartRef__":true,"id":71},"_Extent":{"__isSmartRef__":true,"id":72},"_Padding":{"__isSmartRef__":true,"id":73},"_BorderWidth":1,"_BorderColor":{"__isSmartRef__":true,"id":10},"_Fill":{"__isSmartRef__":true,"id":74},"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.Path"},"64":{"isAbsolute":true,"x":25,"y":9,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.MoveTo"},"65":{"isAbsolute":true,"x":41,"y":18,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"66":{"isAbsolute":true,"x":41,"y":32,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"67":{"isAbsolute":true,"x":25,"y":41,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"68":{"isAbsolute":true,"x":9,"y":32,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"69":{"isAbsolute":true,"x":9,"y":18,"__SourceModuleName__":"Global.lively.morphic.PathShapes","__LivelyClassName__":"lively.morphic.Shapes.LineTo"},"70":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML","getPathNode":"getPathNodeHTML","setPathElements":"setPathElementsHTML","getPathBounds":"getPathBoundsHTML","getTotalLength":"getTotalLengthHTML","getPointAtTotalLength":"getPointAtTotalLengthHTML"},"71":{"x":8,"y":8,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"72":{"x":33,"y":33,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"73":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"74":{"r":1,"g":0.788235294117647,"b":0.14901960784313725,"a":1,"__LivelyClassName__":"Color","__SourceModuleName__":"Global.lively.morphic.Graphics"},"75":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"76":{"morph":{"__isSmartRef__":true,"id":1},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"77":{"x":0,"y":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"78":{"morph":{"__isSmartRef__":true,"id":1},"index":0,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"79":{"morph":{"__isSmartRef__":true,"id":1},"index":1,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"80":{"morph":{"__isSmartRef__":true,"id":1},"index":2,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"81":{"morph":{"__isSmartRef__":true,"id":1},"index":3,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"82":{"morph":{"__isSmartRef__":true,"id":1},"index":4,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"83":{"morph":{"__isSmartRef__":true,"id":1},"index":5,"__SourceModuleName__":"Global.lively.morphic.AdditionalMorphs","__LivelyClassName__":"lively.morphic.ControlPoint"},"84":{"position":{"__isSmartRef__":true,"id":85},"_Extent":{"__isSmartRef__":true,"id":86},"_BorderWidth":0,"_BorderColor":{"__isSmartRef__":true,"id":87},"_Fill":null,"__SourceModuleName__":"Global.lively.morphic.Shapes","renderContextTable":{"__isSmartRef__":true,"id":88},"_ClipMode":"visible","_Padding":{"__isSmartRef__":true,"id":89},"_BorderRadius":0,"_Opacity":1,"_BorderStyle":"solid","__LivelyClassName__":"lively.morphic.Shapes.Rectangle"},"85":{"x":0,"y":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"86":{"x":49.20369420394888,"y":50.19970019994978,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"87":{"r":0,"g":0,"b":0,"a":1,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Color"},"88":{"init":"initHTML","appendShape":"renderHTML","setPosition":"setPositionHTML","setExtent":"setExtentHTML","setPadding":"setPaddingHTML","setFill":"setFillHTML","setBorderColor":"setBorderColorHTML","setBorderWidth":"setBorderWidthHTML","setStrokeOpacity":"setStrokeOpacityHTML","setBorderRadius":"setBorderRadiusHTML","setBorderStyle":"setBorderStyleHTML","setOpacity":"setOpacityHTML"},"89":{"x":0,"y":0,"width":0,"height":0,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Rectangle"},"90":{"x":0,"y":0,"__LivelyClassName__":"Point","__SourceModuleName__":"Global.lively.morphic.Graphics"},"91":{"partsSpaceName":"PartsBin/groupBejeweled/","__SourceModuleName__":"Global.lively.PartsBin","comment":"This is a basic gem that can become different types of gems (such as ruby and amethyst).","migrationLevel":4,"partName":"BasicGem","changes":[{"__isSmartRef__":true,"id":92},{"__isSmartRef__":true,"id":94},{"__isSmartRef__":true,"id":96},{"__isSmartRef__":true,"id":98},{"__isSmartRef__":true,"id":100},{"__isSmartRef__":true,"id":102},{"__isSmartRef__":true,"id":104},{"__isSmartRef__":true,"id":106},{"__isSmartRef__":true,"id":108},{"__isSmartRef__":true,"id":110},{"__isSmartRef__":true,"id":112},{"__isSmartRef__":true,"id":114},{"__isSmartRef__":true,"id":116},{"__isSmartRef__":true,"id":118},{"__isSmartRef__":true,"id":120},{"__isSmartRef__":true,"id":122},{"__isSmartRef__":true,"id":124},{"__isSmartRef__":true,"id":126},{"__isSmartRef__":true,"id":128},{"__isSmartRef__":true,"id":130},{"__isSmartRef__":true,"id":132}],"__LivelyClassName__":"lively.PartsBin.PartsBinMetaInfo"},"92":{"date":{"__isSmartRef__":true,"id":93},"author":"josi","message":"no comment","id":"4EB7BA52-3FA6-486B-90A8-0EFB004EF062"},"93":{"isSerializedDate":true,"string":"Mon May 14 2012 22:14:52 GMT+0200 (CEST)"},"94":{"date":{"__isSmartRef__":true,"id":95},"author":"josi","message":"merged (hopefully doesn't overwrite anything again)","id":"3863DEF2-14D9-4777-9E4B-01A2957B34ED"},"95":{"isSerializedDate":true,"string":"Wed May 02 2012 22:16:49 GMT+0200 (CEST)"},"96":{"date":{"__isSmartRef__":true,"id":97},"author":"josi","message":"added prehnite","id":"21C33415-A95E-46F9-A434-B17D3B1D3FE3"},"97":{"isSerializedDate":true,"string":"Tue May 01 2012 16:17:53 GMT+0200 (CEST)"},"98":{"date":{"__isSmartRef__":true,"id":99},"author":"josi","message":"added blue diamond","id":"62B702D1-677C-4634-8751-EE3FBEC68D50"},"99":{"isSerializedDate":true,"string":"Mon Apr 30 2012 15:22:13 GMT+0200 (CEST)"},"100":{"date":{"__isSmartRef__":true,"id":101},"author":"josi","message":"updating picture is now more general (but needs some refactoring!!!)","id":"C235D240-065B-4DD0-BCBD-00A9B6AD63A1"},"101":{"isSerializedDate":true,"string":"Mon Apr 30 2012 14:56:55 GMT+0200 (CEST)"},"102":{"date":{"__isSmartRef__":true,"id":103},"author":"josi","message":"styling diopside","id":"65B5E617-A4DF-460D-A7F4-1F8DEC927840"},"103":{"isSerializedDate":true,"string":"Mon Apr 30 2012 13:06:13 GMT+0200 (CEST)"},"104":{"date":{"__isSmartRef__":true,"id":105},"author":"josi","message":"another gemType & array for all gemTypes","id":"E4C93F7A-B95D-4587-8485-C7940304143B"},"105":{"isSerializedDate":true,"string":"Sun Apr 29 2012 17:52:49 GMT+0200 (CEST)"},"106":{"date":{"__isSmartRef__":true,"id":107},"author":"josi","message":"more styled version of ruby","id":"E35A76D9-3A82-4589-B827-20254EA51FB8"},"107":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:36:26 GMT+0200 (CEST)"},"108":{"date":{"__isSmartRef__":true,"id":109},"author":"undefined","message":"sorry","id":"44B56D2E-9B59-4C67-A305-49A6E10E66C2"},"109":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:53:45 GMT+0100 (CET)"},"110":{"date":{"__isSmartRef__":true,"id":111},"author":"fbo","message":"","id":"BD1C654D-9100-4B66-BC62-B15FF2498B2B"},"111":{"isSerializedDate":true,"string":"Sat Feb 25 2012 02:59:09 GMT+0100 (CET)"},"112":{"date":{"__isSmartRef__":true,"id":113},"author":"undefined","message":"css transitions","id":"1004E0FC-D96B-4F40-B3E0-F514A3FCFFD7"},"113":{"isSerializedDate":true,"string":"Wed Mar 14 2012 10:42:26 GMT+0100 (CET)"},"114":{"date":{"__isSmartRef__":true,"id":115},"author":"undefined","message":"suddenly, the rectangle became a CarDemo","id":"B5083AA8-9BAE-48DD-A6B4-FD7DB3998350"},"115":{"isSerializedDate":true,"string":"Mon Apr 09 2012 13:42:07 GMT+0200 (CEST)"},"116":{"date":{"__isSmartRef__":true,"id":117},"author":"josi","message":"no comment","id":"3B32B7A3-D2B4-41A4-AFD2-59AA1837004C"},"117":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:01:57 GMT+0200 (CEST)"},"118":{"date":{"__isSmartRef__":true,"id":119},"author":"josi","message":"added become-functionality (inspired by the FreedomSpeech group), but still lacks of a lot of functionality","id":"E31E69D2-46FE-487C-810B-C284826E0A11"},"119":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:49:02 GMT+0200 (CEST)"},"120":{"date":{"__isSmartRef__":true,"id":121},"author":"josi","message":"basic functionality of adding real picture (morph) to gem","id":"6A73B3AE-225F-4447-9129-87575BFE4893"},"121":{"isSerializedDate":true,"string":"Thu Apr 26 2012 11:58:39 GMT+0200 (CEST)"},"122":{"date":{"__isSmartRef__":true,"id":123},"author":"josi","message":"some minor changes (like size and no border for \"gems\")","id":"08765E93-94C3-44D0-840E-5260CAD06CE8"},"123":{"isSerializedDate":true,"string":"Thu Apr 26 2012 12:12:32 GMT+0200 (CEST)"},"124":{"date":{"__isSmartRef__":true,"id":125},"author":"josi","message":"can now become a styled ruby ;)","id":"5FD66E1D-7111-430C-A6A6-AC42566771E6"},"125":{"isSerializedDate":true,"string":"Thu Apr 26 2012 13:43:28 GMT+0200 (CEST)"},"126":{"date":{"__isSmartRef__":true,"id":127},"author":"josi","message":"gem type can now be changed into amethyst","id":"BC7F4160-A8F1-492B-806B-E0C2DB3C3D2A"},"127":{"isSerializedDate":true,"string":"Sat Apr 28 2012 23:38:32 GMT+0200 (CEST)"},"128":{"date":{"__isSmartRef__":true,"id":129},"author":"soergel","message":"overridden","id":"F2823C2C-326F-4A57-95DA-860674FAAE98"},"129":{"isSerializedDate":true,"string":"Wed May 02 2012 13:40:12 GMT+0200 (CEST)"},"130":{"date":{"__isSmartRef__":true,"id":131},"author":"josi","message":"another gemType","id":"16C44641-15C6-4404-A5C5-ED4650E67206"},"131":{"isSerializedDate":true,"string":"Mon May 07 2012 15:56:34 GMT+0200 (CEST)"},"132":{"date":{"__isSmartRef__":true,"id":133},"author":"josi","message":"the unmarked version again","id":"63BB570A-E14E-4A39-BFEF-0A048B7BE489"},"133":{"isSerializedDate":true,"string":"Mon May 14 2012 22:24:56 GMT+0200 (CEST)"},"134":{"replaceRenderContext":"replaceRenderContextHTML","init":"initHTML","append":"appendHTML","remove":"removeHTML","onRenderFinished":"onRenderFinishedHTML","triggerEvent":"triggerEventHTML","setTransform":"setTransformHTML","setPosition":"setPositionHTML","setRotation":"setRotationHTML","setExtent":"setExtentHTML","setScale":"setScaleHTML","setVisible":"setVisibleHTML","adjustOrigin":"adjustOriginHTML","setPivotPoint":"setPivotPointHTML","setClipMode":"setClipModeHTML","showsVerticalScrollBar":"showsVerticalScrollBarHTML","showsHorizontalScrollBar":"showsHorizontalScrollBarHTML","getScrollBarExtent":"getScrollBarExtentHTML","setHandStyle":"setHandStyleHTML","setPointerEvents":"setPointerEventsHTML","setToolTip":"setToolTipHTML","focus":"focusHTML","blur":"blurHTML","setFocusable":"setFocusableHTML"},"135":{"morph":{"__isSmartRef__":true,"id":0},"__SourceModuleName__":"Global.lively.morphic.Events","__LivelyClassName__":"lively.morphic.EventHandler"},"136":{"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":137}},"137":{"test01IsMorph":{"__isSmartRef__":true,"id":138}},"138":{"varMapping":{"__isSmartRef__":true,"id":139},"source":"function test01IsMorph(aPart) {\n    this.assert(aPart.isMorph, 'rectangle should be a morph');\n}","funcProperties":{"__isSmartRef__":true,"id":140},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"139":{"this":{"__isSmartRef__":true,"id":136}},"140":{},"141":{"x":49.20369420394888,"y":51.19570619595078,"__SourceModuleName__":"Global.lively.morphic.Graphics","__LivelyClassName__":"Point"},"142":{"left":0,"up":1,"right":2,"down":3},"143":{"become":{"__isSmartRef__":true,"id":144},"onMouseDown":{"__isSmartRef__":true,"id":148},"updatePicture":{"__isSmartRef__":true,"id":156},"ruby":{"__isSmartRef__":true,"id":160},"switchPositionWith":{"__isSmartRef__":true,"id":164},"addNeighbour":{"__isSmartRef__":true,"id":168},"amethyst":{"__isSmartRef__":true,"id":172},"diopside":{"__isSmartRef__":true,"id":176},"gemTypes":{"__isSmartRef__":true,"id":180},"becomeRandomGem":{"__isSmartRef__":true,"id":184},"mark":{"__isSmartRef__":true,"id":188},"unmark":{"__isSmartRef__":true,"id":192},"hasNeighbour":{"__isSmartRef__":true,"id":196},"debugMarkNeighbours":{"__isSmartRef__":true,"id":200},"debugUnmarkNeighbours":{"__isSmartRef__":true,"id":204},"disappear":{"__isSmartRef__":true,"id":208},"findStreakStart":{"__isSmartRef__":true,"id":212},"buildStreak":{"__isSmartRef__":true,"id":216},"scoreStreak":{"__isSmartRef__":true,"id":220},"tryToStreak":{"__isSmartRef__":true,"id":224},"blueDiamond":{"__isSmartRef__":true,"id":228},"prehnite":{"__isSmartRef__":true,"id":232},"debugUnmark":{"__isSmartRef__":true,"id":236},"debugMark":{"__isSmartRef__":true,"id":240},"citrine":{"__isSmartRef__":true,"id":244},"move":{"__isSmartRef__":true,"id":248},"performMovement":{"__isSmartRef__":true,"id":252},"getDirectionForNeighbour":{"__isSmartRef__":true,"id":256},"zircon":{"__isSmartRef__":true,"id":260},"emerald":{"__isSmartRef__":true,"id":264},"canScoreBySwitchingWith":{"__isSmartRef__":true,"id":268}},"144":{"varMapping":{"__isSmartRef__":true,"id":145},"source":"function become(gem) {\n    this.gem = gem;\n    this.updatePicture();\n}","funcProperties":{"__isSmartRef__":true,"id":146},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"145":{"this":{"__isSmartRef__":true,"id":0}},"146":{"timestamp":{"__isSmartRef__":true,"id":147},"user":"josi","tags":[]},"147":{"isSerializedDate":true,"string":"Wed Apr 25 2012 16:17:19 GMT+0200 (CEST)"},"148":{"varMapping":{"__isSmartRef__":true,"id":149},"source":"function onMouseDown(evt) {\n    var markedGem = this.owner.markedGem;\n    if (this.owner != $world) {\n        if (markedGem == null) {\n            this.mark();\n        } else if (markedGem == this) {\n            this.unmark();\n        } else {\n            if (this.hasNeighbour(markedGem)) {\n                var thisGem = this;\n                var thisDirection = this.getDirectionForNeighbour(markedGem);\n                var otherDirection = (thisDirection + 2) % 4;\n                markedGem.move(otherDirection);\n                this.move(thisDirection, function() {\n                    thisGem.switchPositionWith(markedGem);\n                    markedGem.unmark();\n                });\n            }\n        }\n    }\n\n    console.log(this.gem);\n}","funcProperties":{"__isSmartRef__":true,"id":154},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"149":{"this":{"__isSmartRef__":true,"id":0},"__serializedLivelyClosures__":{"__isSmartRef__":true,"id":150}},"150":{"$super":{"__isSmartRef__":true,"id":151}},"151":{"varMapping":{"__isSmartRef__":true,"id":152},"source":"function () {\n                    try {\n                        return obj.constructor.prototype[name].apply(obj, arguments)\n                    } catch (e) {\n                        if ($world) \n                            $world.logError(e, 'Error in $super call')\n                        else\n                            alert('Error in $super call: ' + e + '\\n' + e.stack);\n                        return null;\n                    }\n                }","funcProperties":{"__isSmartRef__":true,"id":153},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"152":{"obj":{"__isSmartRef__":true,"id":0},"name":"onMouseDown"},"153":{},"154":{"timestamp":{"__isSmartRef__":true,"id":155},"user":"soergel","tags":[]},"155":{"isSerializedDate":true,"string":"Tue May 08 2012 22:44:31 GMT+0200 (CEST)"},"156":{"varMapping":{"__isSmartRef__":true,"id":157},"source":"function updatePicture() {\n    this.removeAllMorphs();\n    if (this.gemTypes().include(this.gem)) {\n        this.addMorph(this[this.gem]());\n        this.topMorph().setPosition(pt(0, 0));\n    } else {\n        gem = Morph.makeRectangle(0, 0, 30, 30);\n        gem.setFill(Color.random());\n        gem.setPosition(pt(10, 10));\n        gem.setBorderWidth(0);\n        this.addMorph(gem);\n    }\n    this.topMorph().disableGrabbing(true);\n    this.topMorph().disableDropping(true);\n}","funcProperties":{"__isSmartRef__":true,"id":158},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"157":{"this":{"__isSmartRef__":true,"id":0}},"158":{"timestamp":{"__isSmartRef__":true,"id":159},"user":"soergel","tags":[]},"159":{"isSerializedDate":true,"string":"Sun Apr 29 2012 21:44:47 GMT+0200 (CEST)"},"160":{"varMapping":{"__isSmartRef__":true,"id":161},"source":"function ruby() {\n    var ruby = Morph.makePolygon([pt(15, 9), pt(35, 9), pt(45, 20), pt(25, 41), pt(25, 41), pt(5, 20)], 1, Color.white, Color.red);\n    line = Morph.makeLine([pt(5, 20, 0), pt(13, 20)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(37, 20, 0), pt(45, 20)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(20, 9, 0), pt(13, 20)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(13, 20, 0), pt(25, 41)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(30, 9, 0), pt(37, 20)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(37, 20, 0), pt(25, 41)], 2, Color.white);\n    ruby.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return ruby;\n}","funcProperties":{"__isSmartRef__":true,"id":162},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"161":{"this":{"__isSmartRef__":true,"id":0}},"162":{"timestamp":{"__isSmartRef__":true,"id":163},"user":"josi","tags":["gemtypes"]},"163":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:35:37 GMT+0200 (CEST)"},"164":{"varMapping":{"__isSmartRef__":true,"id":165},"source":"function switchPositionWith(gem) {\n    var tmpGem = this.gem;\n    this.gem = gem.gem;\n    gem.gem = tmpGem;\n\n    this.tryToStreak();\n    gem.tryToStreak();\n    if(!this.owner.runFieldPhysics())\n    {\n        tmpGem = this.gem;\n        this.gem = gem.gem;\n        gem.gem = tmpGem;\n        alertOK(\"Move not allowed!\");\n    }\n\n    this.updatePicture();\n    gem.updatePicture();\n}","funcProperties":{"__isSmartRef__":true,"id":166},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"165":{"this":{"__isSmartRef__":true,"id":0}},"166":{"timestamp":{"__isSmartRef__":true,"id":167},"user":"jan.sandbrink","tags":[]},"167":{"isSerializedDate":true,"string":"Mon May 14 2012 11:19:03 GMT+0200 (CEST)"},"168":{"varMapping":{"__isSmartRef__":true,"id":169},"source":"function addNeighbour(gem, direction) {\n    this.neighbours[direction] = gem;\n    gem.neighbours[(direction+2) % 4] = this;\n}","funcProperties":{"__isSmartRef__":true,"id":170},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"169":{"this":{"__isSmartRef__":true,"id":0}},"170":{"timestamp":{"__isSmartRef__":true,"id":171},"user":"jan.sandbrink","tags":[]},"171":{"isSerializedDate":true,"string":"Thu Apr 26 2012 14:12:13 GMT+0200 (CEST)"},"172":{"varMapping":{"__isSmartRef__":true,"id":173},"source":"function amethyst() {\n    var amethyst = Morph.makePolygon([pt(14, 9), pt(36, 9), pt(41, 14), pt(41, 36), pt(36, 41), pt(14, 41), pt(9, 36), pt(9, 14)], 1, Color.white, Color.rgb(138, 40, 143));\n    line = Morph.makeLine([pt(17, 17, 0), pt(33, 17)], 2, Color.rgb(200, 120, 200));\n    amethyst.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(17, 33, 0), pt(33, 33)], 2, Color.rgb(200, 120, 200));\n    amethyst.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(33, 17, 0), pt(33, 33)], 2, Color.rgb(200, 120, 200));\n    amethyst.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(17, 17, 0), pt(17, 33)], 2, Color.rgb(200, 120, 200));\n    amethyst.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return amethyst;\n}","funcProperties":{"__isSmartRef__":true,"id":174},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"173":{"this":{"__isSmartRef__":true,"id":0}},"174":{"timestamp":{"__isSmartRef__":true,"id":175},"user":"josi","tags":["gemtypes"]},"175":{"isSerializedDate":true,"string":"Sat Apr 28 2012 23:35:45 GMT+0200 (CEST)"},"176":{"varMapping":{"__isSmartRef__":true,"id":177},"source":"function diopside() {\n    var diopside = Morph.makePolygon([pt(9, 25), pt(15, 15), pt(35, 15), pt(41, 25), pt(35, 35), pt(15, 35)], 1, Color.white, Color.rgb(47, 92, 0));\n    line = Morph.makeLine([pt(19, 25, 0), pt(31, 25)], 2, Color.rgb(100, 200, 0));\n    diopside.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(16, 16, 0), pt(19, 25)], 2, Color.rgb(100, 200, 0));\n    diopside.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(16, 34, 0), pt(19, 25)], 2, Color.rgb(100, 200, 0));\n    diopside.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(34, 16, 0), pt(31, 25)], 2, Color.rgb(100, 200, 0));\n    diopside.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(34, 34, 0), pt(31, 25)], 2, Color.rgb(100, 200, 0));\n    diopside.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return diopside;\n}","funcProperties":{"__isSmartRef__":true,"id":178},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"177":{"this":{"__isSmartRef__":true,"id":0}},"178":{"timestamp":{"__isSmartRef__":true,"id":179},"user":"josi","tags":["gemtypes"]},"179":{"isSerializedDate":true,"string":"Wed May 02 2012 22:13:20 GMT+0200 (CEST)"},"180":{"varMapping":{"__isSmartRef__":true,"id":181},"source":"function gemTypes() {\n    return [\"amethyst\", \"blueDiamond\", \"citrine\", \"diopside\", \"emerald\", \"prehnite\", \"ruby\",  \"zircon\"];\n}","funcProperties":{"__isSmartRef__":true,"id":182},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"181":{"this":{"__isSmartRef__":true,"id":0}},"182":{"timestamp":{"__isSmartRef__":true,"id":183},"user":"josi","tags":[]},"183":{"isSerializedDate":true,"string":"Thu May 10 2012 15:56:15 GMT+0200 (CEST)"},"184":{"varMapping":{"__isSmartRef__":true,"id":185},"source":"function becomeRandomGem() {\n    gemTypes = this.gemTypes();\n    this.become(gemTypes[Math.round(Math.random() * (gemTypes.length - 1))]);\n}","funcProperties":{"__isSmartRef__":true,"id":186},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"185":{"this":{"__isSmartRef__":true,"id":0}},"186":{"timestamp":{"__isSmartRef__":true,"id":187},"user":"josi","tags":[]},"187":{"isSerializedDate":true,"string":"Sun Apr 29 2012 17:50:07 GMT+0200 (CEST)"},"188":{"varMapping":{"__isSmartRef__":true,"id":189},"source":"function mark() {\n    this.setFill(Color.yellow);\n\n    this.owner.markedGem = this;\n}","funcProperties":{"__isSmartRef__":true,"id":190},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"189":{"this":{"__isSmartRef__":true,"id":0}},"190":{"timestamp":{"__isSmartRef__":true,"id":191},"user":"soergel","tags":[]},"191":{"isSerializedDate":true,"string":"Sun Apr 29 2012 22:13:29 GMT+0200 (CEST)"},"192":{"varMapping":{"__isSmartRef__":true,"id":193},"source":"function unmark() {\n    this.setFill(null);\n\n    this.owner.markedGem = null;\n}","funcProperties":{"__isSmartRef__":true,"id":194},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"193":{"this":{"__isSmartRef__":true,"id":0}},"194":{"timestamp":{"__isSmartRef__":true,"id":195},"user":"soergel","tags":[]},"195":{"isSerializedDate":true,"string":"Mon May 14 2012 16:05:54 GMT+0200 (CEST)"},"196":{"varMapping":{"__isSmartRef__":true,"id":197},"source":"function hasNeighbour(gem) {\n    return $.inArray(gem, this.neighbours) != -1;\n}","funcProperties":{"__isSmartRef__":true,"id":198},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"197":{"this":{"__isSmartRef__":true,"id":0}},"198":{"timestamp":{"__isSmartRef__":true,"id":199},"user":"soergel","tags":[]},"199":{"isSerializedDate":true,"string":"Sun Apr 29 2012 23:17:26 GMT+0200 (CEST)"},"200":{"varMapping":{"__isSmartRef__":true,"id":201},"source":"function debugMarkNeighbours() {\n    this.neighbours.each(function(n) {\n        n.setFill(Color.red);\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":202},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"201":{"this":{"__isSmartRef__":true,"id":0}},"202":{"timestamp":{"__isSmartRef__":true,"id":203},"user":"soergel","tags":["debug"]},"203":{"isSerializedDate":true,"string":"Sun Apr 29 2012 23:40:53 GMT+0200 (CEST)"},"204":{"varMapping":{"__isSmartRef__":true,"id":205},"source":"function debugUnmarkNeighbours() {\n    this.neighbours.each(function(n) {\n        n.setFill(Color.white);\n    });\n}","funcProperties":{"__isSmartRef__":true,"id":206},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"205":{"this":{"__isSmartRef__":true,"id":0}},"206":{"timestamp":{"__isSmartRef__":true,"id":207},"user":"soergel","tags":["debug"]},"207":{"isSerializedDate":true,"string":"Sun Apr 29 2012 23:47:47 GMT+0200 (CEST)"},"208":{"varMapping":{"__isSmartRef__":true,"id":209},"source":"function disappear() {\n    var upperNeighbour = this.neighbours[this.directions.up];\n    if(upperNeighbour != null) {\n        this.gem = upperNeighbour.gem;\n        upperNeighbour.disappear();\n    }\n    else {\n        this.becomeRandomGem();\n    }\n    this.updatePicture();\n    this.isDirty = true;\n}","funcProperties":{"__isSmartRef__":true,"id":210},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"209":{"this":{"__isSmartRef__":true,"id":0}},"210":{"timestamp":{"__isSmartRef__":true,"id":211},"user":"jan.sandbrink","tags":[]},"211":{"isSerializedDate":true,"string":"Wed May 02 2012 16:48:59 GMT+0200 (CEST)"},"212":{"varMapping":{"__isSmartRef__":true,"id":213},"source":"function findStreakStart(direction) {\n    var neighbour = this.neighbours[direction];\n    if(neighbour == null || neighbour.gem != this.gem) {\n        var streakDirection = (direction + 2) % 4;\n        this.buildStreak(streakDirection, 0);\n    }\n    else {\n        neighbour.findStreakStart(direction);\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":214},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"213":{"this":{"__isSmartRef__":true,"id":0}},"214":{"timestamp":{"__isSmartRef__":true,"id":215},"user":"jan.sandbrink","tags":[]},"215":{"isSerializedDate":true,"string":"Wed May 02 2012 16:37:10 GMT+0200 (CEST)"},"216":{"varMapping":{"__isSmartRef__":true,"id":217},"source":"function buildStreak(direction, streakLength) {\n    var neighbour= this.neighbours[direction];\n    streakLength += 1;\n    if(neighbour != null && neighbour.gem == this.gem) {\n        streakLength = neighbour.buildStreak(direction, streakLength);\n    }\n\n    this.scoreStreak(streakLength);\n    return streakLength;\n}","funcProperties":{"__isSmartRef__":true,"id":218},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"217":{"this":{"__isSmartRef__":true,"id":0}},"218":{"timestamp":{"__isSmartRef__":true,"id":219},"user":"jan.sandbrink","tags":[]},"219":{"isSerializedDate":true,"string":"Wed May 02 2012 16:42:34 GMT+0200 (CEST)"},"220":{"varMapping":{"__isSmartRef__":true,"id":221},"source":"function scoreStreak(streakLength) {\n    if(streakLength >= 3) {\n        this.shouldBeDeleted = true;\n    }\n}","funcProperties":{"__isSmartRef__":true,"id":222},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"221":{"this":{"__isSmartRef__":true,"id":0}},"222":{"timestamp":{"__isSmartRef__":true,"id":223},"user":"jan.sandbrink","tags":[]},"223":{"isSerializedDate":true,"string":"Tue May 08 2012 11:09:19 GMT+0200 (CEST)"},"224":{"varMapping":{"__isSmartRef__":true,"id":225},"source":"function tryToStreak(direction) {\n    this.findStreakStart(this.directions.down);\n    this.findStreakStart(this.directions.left);\n}","funcProperties":{"__isSmartRef__":true,"id":226},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"225":{"this":{"__isSmartRef__":true,"id":0}},"226":{"timestamp":{"__isSmartRef__":true,"id":227},"user":"jan.sandbrink","tags":[]},"227":{"isSerializedDate":true,"string":"Wed May 02 2012 15:15:30 GMT+0200 (CEST)"},"228":{"varMapping":{"__isSmartRef__":true,"id":229},"source":"function blueDiamond() {\n    var diamond = Morph.makePolygon([pt(25, 10), pt(10, 40), pt(40, 40)], 0, Color.white, Color.blue);\n    line = Morph.makeLine([pt(25, 11, 0), pt(25, 20)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(11, 39, 0), pt(20, 30)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(39, 39, 0), pt(30, 30)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(30, 30, 0), pt(20, 30)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(20, 30, 0), pt(25, 20)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(30, 30, 0), pt(25, 20)], 2, Color.rgb(179, 179, 245));\n    diamond.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return diamond;\n}","funcProperties":{"__isSmartRef__":true,"id":230},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"229":{"this":{"__isSmartRef__":true,"id":0}},"230":{"timestamp":{"__isSmartRef__":true,"id":231},"user":null,"tags":["gemtypes"]},"231":{"isSerializedDate":true,"string":"Mon May 14 2012 22:05:57 GMT+0200 (CEST)"},"232":{"varMapping":{"__isSmartRef__":true,"id":233},"source":"function prehnite() {\n    var prehnite = Morph.makePolygon([pt(20, 10), pt(30, 10), pt(40, 20), pt(40, 30), pt(30, 40), pt(20, 40), pt(10, 30), pt(10, 20)], 1, Color.white, Color.rgb(160, 250, 200));\n    line = Morph.makeLine([pt(10, 30, 0), pt(40, 20)], 1, Color.rgb(215, 255, 230));\n    prehnite.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(10, 20, 0), pt(40, 30)], 1, Color.rgb(215, 255, 230));\n    prehnite.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(20, 10, 0), pt(30, 40)], 1, Color.rgb(215, 255, 230));\n    prehnite.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(30, 10, 0), pt(20, 40)], 1, Color.rgb(215, 255, 230));\n    prehnite.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return prehnite;\n}","funcProperties":{"__isSmartRef__":true,"id":234},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"233":{"this":{"__isSmartRef__":true,"id":0}},"234":{"timestamp":{"__isSmartRef__":true,"id":235},"user":"josi","tags":["gemtypes"]},"235":{"isSerializedDate":true,"string":"Wed May 02 2012 22:14:33 GMT+0200 (CEST)"},"236":{"varMapping":{"__isSmartRef__":true,"id":237},"source":"function debugUnmark() {\n    this.setFill(Color.white);\n}","funcProperties":{"__isSmartRef__":true,"id":238},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"237":{"this":{"__isSmartRef__":true,"id":0}},"238":{"timestamp":{"__isSmartRef__":true,"id":239},"user":"soergel","tags":["debug"]},"239":{"isSerializedDate":true,"string":"Sun May 06 2012 22:20:49 GMT+0200 (CEST)"},"240":{"varMapping":{"__isSmartRef__":true,"id":241},"source":"function debugMark() {\n    this.setFill(Color.red);\n}","funcProperties":{"__isSmartRef__":true,"id":242},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"241":{"this":{"__isSmartRef__":true,"id":0}},"242":{"timestamp":{"__isSmartRef__":true,"id":243},"user":"soergel","tags":["debug"]},"243":{"isSerializedDate":true,"string":"Sun May 06 2012 22:21:12 GMT+0200 (CEST)"},"244":{"varMapping":{"__isSmartRef__":true,"id":245},"source":"function citrine() {\n    var citrine = Morph.makePolygon([pt(25, 5), pt(13, 25), pt(25, 45), pt(37, 25)], 1, Color.white, Color.rgb(255, 255, 0));\n    line = Morph.makeLine([pt(25, 5, 0), pt(25, 45)], 2, Color.rgb(255, 255, 150));\n    citrine.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(13, 25, 0), pt(37, 25)], 2, Color.rgb(255, 255, 150));\n    citrine.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return citrine;\n}","funcProperties":{"__isSmartRef__":true,"id":246},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"245":{"this":{"__isSmartRef__":true,"id":0}},"246":{"timestamp":{"__isSmartRef__":true,"id":247},"user":"josi","tags":["gemtypes"]},"247":{"isSerializedDate":true,"string":"Mon May 07 2012 15:55:31 GMT+0200 (CEST)"},"248":{"varMapping":{"__isSmartRef__":true,"id":249},"source":"function move(direction, onFinish) {\n    this.originalPosition = this.getPosition();\n    console.log(\"Before start stepping\");\n    this.startStepping(3, \"performMovement\", {direction: direction, onFinish: onFinish});\n}","funcProperties":{"__isSmartRef__":true,"id":250},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"249":{"this":{"__isSmartRef__":true,"id":0}},"250":{"timestamp":{"__isSmartRef__":true,"id":251},"user":"soergel","tags":[]},"251":{"isSerializedDate":true,"string":"Tue May 08 2012 22:47:35 GMT+0200 (CEST)"},"252":{"varMapping":{"__isSmartRef__":true,"id":253},"source":"function performMovement(param) {\n    var direction = param.direction;\n    var onFinish = param.onFinish;\n\n    var x = this.getPosition().x;\n    var y = this.getPosition().y;\n\n    if (direction == undefined) direction = 0; \n\n    if (direction % 2 == 0) {\n        var newPosition = new Point((x + (direction - 1) * 2), y);\n        this.setPosition(newPosition);\n        if (Math.abs(x - this.originalPosition.x) > this.getExtent().x) {\n            this.stopStepping();\n            if (onFinish != undefined) onFinish();\n            this.setPosition(this.originalPosition)\n        }\n    } else {\n        var newPosition = new Point(x, y + (direction - 2) * 2);\n        this.setPosition(newPosition);\n        if (Math.abs(y - this.originalPosition.y) > this.getExtent().y) {\n            this.stopStepping();    \n            if (onFinish != undefined) onFinish();\n            this.setPosition(this.originalPosition)\n        }\n    }\n    \n}","funcProperties":{"__isSmartRef__":true,"id":254},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"253":{"this":{"__isSmartRef__":true,"id":0}},"254":{"timestamp":{"__isSmartRef__":true,"id":255},"user":"soergel","tags":[]},"255":{"isSerializedDate":true,"string":"Tue May 08 2012 22:48:18 GMT+0200 (CEST)"},"256":{"varMapping":{"__isSmartRef__":true,"id":257},"source":"function getDirectionForNeighbour(neighbour) {\n    var direction = undefined;\n    $.each(this.neighbours, function(idx, n) {\n        if (n == neighbour) \n            direction = idx;\n    });\n\n    return direction;\n}","funcProperties":{"__isSmartRef__":true,"id":258},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"257":{"this":{"__isSmartRef__":true,"id":0}},"258":{"timestamp":{"__isSmartRef__":true,"id":259},"user":"soergel","tags":[]},"259":{"isSerializedDate":true,"string":"Tue May 08 2012 22:41:37 GMT+0200 (CEST)"},"260":{"varMapping":{"__isSmartRef__":true,"id":261},"source":"function zircon() {\n    var zircon = Morph.makePolygon([pt(25, 9), pt(41, 18), pt(41, 32), pt(25, 41), pt(9, 32), pt(9, 18)], 1, Color.white, Color.rgb(255, 201, 38));\n    line = Morph.makeLine([pt(25, 10, 0), pt(25, 27)], 2, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(9, 32, 0), pt(25, 25)], 2, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(41, 32, 0), pt(24, 25)], 2, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(41, 18, 0), pt(24, 25)], 1, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(9, 18, 0), pt(24, 25)], 1, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(25, 41, 0), pt(25, 24)], 2, Color.white);\n    zircon.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return zircon;\n}","funcProperties":{"__isSmartRef__":true,"id":262},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"261":{"this":{"__isSmartRef__":true,"id":0}},"262":{"timestamp":{"__isSmartRef__":true,"id":263},"user":null,"tags":["gemtypes"]},"263":{"isSerializedDate":true,"string":"Mon May 14 2012 22:11:26 GMT+0200 (CEST)"},"264":{"varMapping":{"__isSmartRef__":true,"id":265},"source":"function emerald() {\n    var emerald = Morph.makePolygon([pt(25, 9), pt(38, 30), pt(30, 41), pt(20, 41), pt(12, 30)], 1, Color.white, Color.rgb(26, 255, 0));\n    line = Morph.makeLine([pt(25, 9, 0), pt(25, 30)], 2, Color.white);\n    emerald.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(12, 30, 0), pt(25, 30)], 2, Color.white);\n    emerald.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    line = Morph.makeLine([pt(38, 30, 0), pt(25, 30)], 2, Color.white);\n    emerald.addMorph(line);\n    line.disableDropping(true);\n    line.disableGrabbing(true);\n    return emerald;\n}","funcProperties":{"__isSmartRef__":true,"id":266},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"265":{"this":{"__isSmartRef__":true,"id":0}},"266":{"timestamp":{"__isSmartRef__":true,"id":267},"user":null,"tags":["gemtypes"]},"267":{"isSerializedDate":true,"string":"Mon May 14 2012 22:09:05 GMT+0200 (CEST)"},"268":{"varMapping":{"__isSmartRef__":true,"id":269},"source":"function canScoreBySwitchingWith(gem) {\n    var tmpGem = this.gem;\n    this.gem = gem.gem;\n    gem.gem = tmpGem;\n\n    this.tryToStreak();\n    gem.tryToStreak();\n\n    var canScore = this.shouldBeDeleted || gem.shouldBeDeleted;\n\n    tmpGem = this.gem;\n    this.gem = gem.gem;\n    gem.gem = tmpGem;\n\n    return canScore;\n}","funcProperties":{"__isSmartRef__":true,"id":270},"__SourceModuleName__":"Global.lively.lang.Closure","__LivelyClassName__":"lively.Closure"},"269":{"this":{"__isSmartRef__":true,"id":0}},"270":{"timestamp":{"__isSmartRef__":true,"id":271},"user":"jan.sandbrink","tags":[]},"271":{"isSerializedDate":true,"string":"Mon May 14 2012 11:21:12 GMT+0200 (CEST)"}}}